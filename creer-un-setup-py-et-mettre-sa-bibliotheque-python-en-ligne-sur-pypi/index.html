<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">                          
<!--<![endif]-->
					<head>
				    <meta charset="UTF-8" />
				    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
            				    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
				    <link rel="profile" href="http://gmpg.org/xfn/11" />
				    <link rel="pingback" href="http://sametmax.com/xmlrpc.php" />

				   <!-- Icons font support for IE6-7  -->
				    <!--[if lt IE 8]>
				      <script src="http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/lte-ie7.js"></script>
				    <![endif]-->
				    <style type="text/css" id="customizr-inline-fonts">@font-face{font-family:genericons;src:url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.eot');src:url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.eot%3F') format('embedded-opentype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.woff') format('woff'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.ttf') format('truetype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/genericons-regular-webfont.svg') format('svg')}@font-face{font-family:entypo;src:url('http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.eot);src:url(http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.eot?#iefix') format('embedded-opentype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.woff') format('woff'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.ttf') format('truetype'),url('../wp-content/themes/customizr/inc/assets/css/fonts/fonts/entypo.svg') format('svg')}</style><title>Créer un setup.py et mettre sa bibliothèque Python en ligne sur Pypi &#8211; Sam &amp; Max</title>
<link rel='dns-prefetch' href='http://s0.wp.com/' />
<link rel='dns-prefetch' href='http://secure.gravatar.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="Sam &amp; Max &raquo; Feed" href="../feed.1" />
<link rel="alternate" type="application/rss+xml" title="Sam &amp; Max &raquo; Comments Feed" href="../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Sam &amp; Max &raquo; Créer un setup.py et mettre sa bibliothèque Python en ligne sur Pypi Comments Feed" href="feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/sametmax.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.7"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='contact-form-7-css'  href='../wp-content/plugins/contact-form-7/includes/css/styles.css%3Fver=5.0.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-polls-css'  href='../wp-content/plugins/wp-polls/polls-css.css%3Fver=2.73.8.css' type='text/css' media='all' />
<style id='wp-polls-inline-css' type='text/css'>
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('../wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}

</style>
<link rel='stylesheet' id='wp-syntax-css-css'  href='../wp-content/plugins/wp-syntax/css/wp-syntax.css%3Fver=1.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='../wp-includes/css/dashicons.min.css%3Fver=4.9.7.css' type='text/css' media='all' />
<link rel='stylesheet' id='customizr-skin-css'  href='../wp-content/themes/customizr/inc/assets/css/black2.min.css%3Fver=3.2.10.css' type='text/css' media='all' />
<style id='customizr-skin-inline-css' type='text/css'>

.sticky-enabled .tc-shrink-on .site-logo img {
						height:30px!important;width:auto!important
					}

					.sticky-enabled .tc-shrink-on .brand .site-title {
						font-size:0.6em;opacity:0.8;line-height:1.2em
					}

.tc-rectangular-thumb {
            max-height: 250px;
            height :250px
          }

          .single .tc-rectangular-thumb {
            max-height: 250px;
            height :250px
          }


</style>
<link rel='stylesheet' id='customizr-style-css'  href='../wp-content/themes/customizr/style.css%3Fver=3.2.10.css' type='text/css' media='all' />
<link rel='stylesheet' id='fancyboxcss-css'  href='../wp-content/themes/customizr/inc/assets/js/fancybox/jquery.fancybox-1.3.4.min.css%3Fver=4.9.7.css' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack-widget-social-icons-styles-css'  href='../wp-content/plugins/jetpack/modules/widgets/social-icons/social-icons.css%3Fver=20170506.css' type='text/css' media='all' />
<link rel='stylesheet' id='social-logos-css'  href='../wp-content/plugins/jetpack/_inc/social-logos/social-logos.min.css%3Fver=1.css' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='../wp-content/plugins/jetpack/css/jetpack.css%3Fver=6.3.2.css' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/jquery/jquery.js%3Fver=1.12.4'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var TCParams = {"FancyBoxState":"1","FancyBoxAutoscale":"1","SliderName":"","SliderDelay":"","SliderHover":"1","SmoothScroll":"linear","ReorderBlocks":"1","CenterSlides":"1","HasComments":"","LeftSidebarClass":".span3.left.tc-sidebar","RightSidebarClass":".span3.right.tc-sidebar","LoadModernizr":"1","stickyCustomOffset":"0","stickyHeader":"1","dropdowntoViewport":"0","timerOnScrollAllBrowsers":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/customizr/inc/assets/js/tc-scripts.min.js%3Fver=3.2.10'></script>
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://sametmax.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Comment savoir qu&#8217;il est temps de faire une pause ?' href='../comment-savoir-quil-est-temps-de-faire-une-pause/index.html' />
<link rel='next' title='&#8220;ERROR: VIRTUALENVWRAPPER_LOG_DIR is not set&#8221; et &#8220;ImportError: cannot import name urandom&#8221;' href='../error-virtualenvwrapper_log_dir-is-not-set-et-importerror-cannot-import-name-urandom/index.html' />
<meta name="generator" content="WordPress 4.9.7" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='https://wp.me/p2ckfk-O2' />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%3Furl=http:%252F%252Fsametmax.com%252Fcreer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi%252F" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%3Furl=http:%252F%252Fsametmax.com%252Fcreer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi%252F&amp;format=xml" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'/>
<style type="text/css" media="all">
/* <![CDATA[ */
@import url("../wp-content/plugins/wp-table-reloaded/css/plugin.css%3Fver=1.9.4.css");
@import url("../wp-content/plugins/wp-table-reloaded/css/datatables.css%3Fver=1.9.4.css");
/* ]]> */
</style><link rel="shortcut icon" href="../wp-content/uploads/2015/06/favicon.png" type="image/png">
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Créer un setup.py et mettre sa bibliothèque Python en ligne sur Pypi" />
<meta property="og:url" content="http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/" />
<meta property="og:description" content="Je crois que ce sujet est dans le top 10 des trucs qui paraissent mystiques même après avoir passé des heures sur les docs sur le net. Et si ça prend effectivement un peu de temps CPU neuronale pou…" />
<meta property="article:published_time" content="2012-11-16T18:06:09+00:00" />
<meta property="article:modified_time" content="2019-05-17T09:43:18+00:00" />
<meta property="og:site_name" content="Sam &amp; Max" />
<meta property="og:image" content="http://sametmax.com/wp-content/uploads/2012/11/holy-book.jpg" />
<meta property="og:image:width" content="700" />
<meta property="og:image:height" content="494" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:text:title" content="Créer un setup.py et mettre sa bibliothèque Python en ligne sur Pypi" />
<meta name="twitter:image" content="http://sametmax.com/wp-content/uploads/2012/11/holy-book.jpg?w=640" />
<meta name="twitter:card" content="summary_large_image" />

<!-- End Jetpack Open Graph Tags -->
			<link rel="stylesheet" type="text/css" id="wp-custom-css" href="../index.html%3Fcustom-css=3b3670f11a.css" />
						    <!--Icons size hack for IE8 and less -->
				    <!--[if lt IE 9]>
				      <link href="http://sametmax.com/wp-content/themes/customizr/inc/assets/css/fonts/ie8-hacks.css" rel="stylesheet" type="text/css"/>
				    <![endif]-->
				</head>
				
	<body class="post-template-default single single-post postid-3102 single-format-standard tc-fade-hover-links tc-sticky-header tc-transparent-on-scroll" itemscope itemtype="http://schema.org/WebPage">
		
		
	   	<header class="tc-header clearfix row-fluid tc-tagline-off tc-title-logo-on  tc-shrink-on tc-menu-on logo-left" role="banner">
			      <div class="brand span3 pull-left ">

        <h1><a class="site-title" href="../index.html" title="Sam &amp; Max | Du code, du cul">Sam &amp; Max</a></h1>
      </div> <!-- brand span3 pull-left -->
      <div class="container outside"><h2 class="site-description">Du code, du cul</h2></div>      	<div class="navbar-wrapper clearfix span9 tc-submenu-fade tc-submenu-move tc-open-on-hover left">
        	<div class="navbar resp">
          		<div class="navbar-inner" role="navigation">
            		<div class="row-fluid">
              		<div class="social-block span5" ><a class="social-icon icon-feed" href="../feed/rss/index.html" title="Subscribe to my rss feed"  ></a></div><h2 class="span7 inside site-description">Du code, du cul</h2><button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div class="nav-collapse collapse tc-hover-menu-wrapper"><div class="menu-top-menu-container"><ul id="menu-top-menu-2" class="nav tc-hover-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1702"><a href="../category/programmation/index.html">Prog</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1703"><a href="../category/administration-system/index.html">Admin Sys</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1704"><a href="../category/philo-et-culture/index.html">Philo &#038; culture</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1706"><a href="../category/cul/index.html">Cul</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3340"><a href="../cours-et-tutos/index.html">Cours &#038; tutos</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1707"><a title="Les meilleurs blogs du Web" href="http://multiboards.net/">Multiboards</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12415"><a href="../planet-python-fr/index.html">Veille Python Fr</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15634"><a href="http://indexerror.net">Questions Python</a></li>
</ul></div></div>          			</div>
          		</div><!-- /.navbar-inner -->
        	</div><!-- /.navbar resp -->
      	</div><!-- /.navbar-wrapper -->
    			</header>
		<div id="tc-reset-margin-top" class="container-fluid" style="margin-top:103px"></div><div id="main-wrapper" class="container">

        
    <div class="container" role="main">
        <div class="row column-content-wrapper">

                            
                <div id="content" class="span9 article-container">
                    
                    
                        
                                                                                    
                                                                    <article id="post-3102" class="row-fluid post-3102 post type-post status-publish format-standard has-post-thumbnail hentry category-programmation tag-pip tag-pypi tag-python">
                                                <header class="entry-header">
          <h1 class="entry-title format-icon">Créer un setup.py et mettre sa bibliothèque Python en ligne sur Pypi</h1>            <div class="entry-meta">
                This entry was posted in <a class="btn btn-mini" href="../category/programmation/index.html" title="View all posts in Programmation"> Programmation </a> and tagged <a class="btn btn-mini btn-tag" href="../tag/pip/index.html" title="View all posts in pip"> pip </a><a class="btn btn-mini btn-tag" href="http://sametmax.com/tag/pypi/" title="View all posts in pypi"> pypi </a><a class="btn btn-mini btn-tag" href="../tag/python/index.html" title="View all posts in python"> python </a> on <a href="http://sametmax.com/2012/11/16/" title="13:06" rel="bookmark"><time class="entry-date updated" datetime="2012-11-16T13:06:09+00:00">16/11/2012</time></a> <span class="by-author">by <span class="author vcard"><a class="url fn n" href="../author/sam/index.html" title="View all posts by Sam" rel="author">Sam</a></span></span>             </div><!-- .entry-meta -->
            <hr class="featurette-divider __before_content">        </header>
            

          <section class="entry-content ">
              <p>Je crois que ce sujet est dans le top 10 des trucs qui paraissent mystiques même après avoir passé des heures sur les docs sur le net. Et si ça prend effectivement un peu de temps CPU neuronale pour s&#8217;en sortir, on est loin de la montagne qu&#8217;on s&#8217;en est fait.</p>
<p>Scénario: vous avez écrit une lib. Elle est belle, elle sent bon le sable chaud. Vous voulez la partager.</p>
<p>La première étape, c&#8217;est de créer une fichier setup.py qui permettra aux gens de l&#8217;installer. La seconde, c&#8217;est de la mettre en ligne sur le site Pypi pour que les gens puissent l&#8217;installer avec <a href="http://sametmax.com/votre-python-aime-les-pip/">pip</a>.</p>
<p>Nous allons donc créer un <em>setup.py</em> pour une lib incroyable: la &#8220;sm_lib&#8221;.</p>
<h2>Arborescence</h2>
<p>Généralement, quand on développe une petite lib au fil de l&#8217;eau, on a une forte tendance à tout mettre en vrac dans un dossier. Cependant pour créer un paquet installable, il est beaucoup plus simple et propre d&#8217;avoir une organisation de fichiers standards. On peut faire sans, mais c&#8217;est prise de tête.</p>
<p>Prenons notre lib exceptionnelle&#8230;</p>
<p><a href="../wp-content/uploads/2012/11/Capture-du-2012-11-16-1058501.png" class="grouped_elements" rel="tc-fancybox-group3102"><img src="../wp-content/uploads/2012/11/Capture-du-2012-11-16-1058501.png" alt="" title="" width="313" height="386" class="aligncenter size-full wp-image-3108" /></a></p>
<p>Pour le moment, elle est composée d&#8217;un dossier &#8220;sm_lib&#8221; avec 3 fichiers:</p>
<ul>
<li>une photo des auteurs (suite aux plaintes reçues, nous avons une nouvelle ligne de conduite concernant les photographies. Demain, les bébés !);</li>
<li>l&#8217;indispensable <em>__init__.py</em>, qui est vide;</li>
<li>un fichier <em>core.py</em> (qui peut avoir n&#8217;importe quel nom) qui contient le code de notre lib dont le but est de diffuser un message hautement subversif:</li>
</ul>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/env python</span>
<span style="color: #808080; font-style: italic;"># -*- coding: utf-8 -*-</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">datetime</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">datetime</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> proclamer<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">&quot;[%s] Sam et Max, c'est bien&quot;</span> % <span style="color: #dc143c;">datetime</span>.<span style="color: black;">now</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> __name__ <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">&quot;__main__&quot;</span>:
    proclamer<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">#!/usr/bin/env python
# -*- coding: utf-8 -*-


from datetime import datetime


def proclamer():
    print &quot;[%s] Sam et Max, c'est bien&quot; % datetime.now()


if __name__ == &quot;__main__&quot;:
    proclamer()</p></div>

<p>Maintenant que nous avons changé de mentalité, nous voulons absolument propager notre nouveau message et ton du blog partout, donc on va distribuer cette bibliothèque.</p>
<p>Premièrement, on va réorganiser les fichiers et en rajouter quelques uns:</p>
<p><a href="../wp-content/uploads/2012/11/Capture-du-2012-11-16-111239.png" class="grouped_elements" rel="tc-fancybox-group3102"><img src="../wp-content/uploads/2012/11/Capture-du-2012-11-16-111239.png" alt="On met sm_lib dans un dossier sm_lib" title="" width="376" height="779" class="aligncenter size-full wp-image-3109" /></a></p>
<p>Vous noterez qu&#8217;on a mis notre dossier de lib, dans un autre dossier, et que les deux dossiers portent le même nom &#8220;sm_lib&#8221;. C&#8217;est redondant, mais c&#8217;est normal. Le dossier qui contient tout est le dossier de distribution, c&#8217;est l&#8217;emballage de notre lib. Le dossier qui contient notre code, c&#8217;est le dossier d&#8217;installation, c&#8217;est celui qui sera copié sur le système, et qui doit avoir un nom de package importable (uniquement des lettres et des _ dans le nom, ou un chiffre mais pas en premier caractère).</p>
<p>Les noms peuvent être différents, mais généralement on donne le même nom aux deux, car c&#8217;est plus simple.</p>
<p>On rajoute 3 fichiers:</p>
<ul>
<li>setup.py: un fichier de code Python qui est notre installeur.</li>
<li>MANIFEST.in: un fichier texte qui liste les fichiers non Python qu&#8217;on inclura dans l&#8217;installation.</li>
<li>README.md: un fichier markdown (c&#8217;est du texte, juste un peu formaté) contiendra une présentation du package.</li>
</ul>
<p>Pour le moment nos trois fichiers sont vides.</p>
<h2>Choix des outils</h2>
<p>Une des difficultés principales dans la distribution d&#8217;un code Python, c&#8217;est l&#8217;abondance de solutions. Pour l&#8217;installeur, on peut choisir entre <code>distribute</code>, <code>setuptools</code>, <code>distutils</code> ou <code>Distutils2</code>.</p>
<p>Je vous passe les détails, mais j&#8217;ai essayé les 4. <code>distutils</code> est trop vieux. <code>distribute</code> va être remplacé par <code>distutils2</code> qui lui est encore très jeune. La seule solution qui passe partout pour le moment c&#8217;est <code>setuptools</code>. Tarek Ziade va faire la gueule, mais c&#8217;est ce que je recommande d&#8217;utiliser pour le moment. Je metterai à jour cet article pour utiliser un <em>setup.cfg</em> et des moyens plus modernes quand tout ça sera devenu la solution de facto, mais je ne vais pas pousser à la migration.</p>
<p>Donc vous allez utiliser <code>setuptools</code>.</p>
<p>Ensuite on utilise un fichier <em>MANIFEST.in</em> pour lister les fichiers non Python. On pourrait tout passer en paramètres à la main, mais le manifeste est la solution la plus productive.</p>
<p>Enfin on utilise un fichier markdown. ReST est le standard en Python, mais il est compliqué (je me suis tapé suffisament de doc sphynx pour témoigner), et pas géré par Github par défaut. Markdown ressort bien sur Pypi même sans conversion en HTML, donc on va garder ce format.</p>
<p>Oh, et ça va sans dire, mais ça va mieux en le disant, on va distribuer les fichiers sous forme de source pure, pas sous forme d&#8217;exe ou d&#8217;egg. C&#8217;est installable avec pip sur toutes les plateformes, et ça évite bien des prises de tête.</p>
<h2>Rendez votre paquets user friendly</h2>
<p>La première chose à faire, avant de mettre en ligne, c&#8217;est de rendre votre paquets facile à utiliser. Assurez-vous d&#8217;avoir les docstrings qui vont bien, et faciliter les imports.</p>
<p>Par exemple, dans notre <em>__init__.py</em>, on va rajouter:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> core <span style="color: #ff7700;font-weight:bold;">import</span> proclamer</pre></td></tr></table><p class="theCode" style="display:none;">from core import proclamer</p></div>

<p>Ainsi, l&#8217;utilisateur pourra faire:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> sm_lib <span style="color: #ff7700;font-weight:bold;">import</span> proclamer</pre></td></tr></table><p class="theCode" style="display:none;">from sm_lib import proclamer</p></div>

<p>au lieu de :</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> sm_lib.<span style="color: black;">core</span> <span style="color: #ff7700;font-weight:bold;">import</span> proclamer</pre></td></tr></table><p class="theCode" style="display:none;">from sm_lib.core import proclamer</p></div>

<p>Faites cela uniquement pour les fonctions et classes les plus utiles. C&#8217;est un détail, mais ça rend l&#8217;expérience plus agréable.</p>
<p>Ensuite, si l&#8217;utilisateur est dans son shell, il va utiliser l&#8217;autocompletion pour découvrir votre lib. Il va se balader, et spammer &#8220;tab&#8221; pour voir &#8220;ce qu&#8217;il y a dedans&#8221;.</p>
<p>Pour faciliter ce process, limitez ce qui est importable avec <code>__all__</code>:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/env python</span>
<span style="color: #808080; font-style: italic;"># -*- coding: utf-8 -*-</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">datetime</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">datetime</span>
&nbsp;
__all__ <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: #483d8b;">'proclamer'</span><span style="color: black;">&#93;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> proclamer<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">&quot;[%s] Sam et Max, c'est bien&quot;</span> % <span style="color: #dc143c;">datetime</span>.<span style="color: black;">now</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> __name__ <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">&quot;__main__&quot;</span>:
    proclamer<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">#!/usr/bin/env python
# -*- coding: utf-8 -*-


from datetime import datetime

__all__ = ['proclamer']


def proclamer():
    print &quot;[%s] Sam et Max, c'est bien&quot; % datetime.now()


if __name__ == &quot;__main__&quot;:
    proclamer()</p></div>

<p>Ainsi, seul<code> proclamer()</code> sera importable depuis le module <code>core</code> si quelqu&#8217;un fait un <code>import *</code>. En effet, en important <code>datetime</code>, vous l&#8217;insérer dans le namespace de <code>core</code>, et donc il sera importable en faisant <code>from sm_lib.core import datetime</code>, et il apparaîtra dans l&#8217;autocompletion. Ici ça parait dérisoire, mais sur les grosses libs, ça fait beaucoup de bruit.</p>
<p><code>__all__</code> est une liste strings qui contient les noms de tout ce qu&#8217;on autorise à importer depuis ce module. Utilisez le pour rendre votre API d&#8217;import propre comme la chatte de&#8230; comme un sous neuf pardon. Désolé, par encore habitué à parler la novlang. On s&#8217;y met. On s&#8217;y met.</p>
<p>Pour finir on met les docstrings qui vont bien:</p>
<ul>
<li>une dans <em>__init__.py</em> pour décrire le package;</li>
<li>une au sommet de <em>core.py</em> pour décrire module;</li>
<li>une dans <code>proclamer()</code> pour décrire la fonction.</li>
</ul>
<p>Ainsi l&#8217;utilisateur qui va installer votre lib s&#8217;y retrouvera très facilement en utilisant la fonction <code>help()</code>. Même sans doc et hors ligne.</p>
<p><em>__init__.py</em> (on rajoute aussi l&#8217;en-tête d&#8217;encoding vu que la docstring contient des caractères non-ASCII):</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/env python</span>
<span style="color: #808080; font-style: italic;"># -*- coding: utf-8 -*-</span>
&nbsp;
<span style="color: #483d8b;">&quot;&quot;&quot;
    Ce module proclame la bonne parole de sieurs Sam et Max. Puissent-t-ils
    retrouver une totale liberté de pensée cosmique vers un nouvel age
    reminiscent.
&quot;&quot;&quot;</span>
&nbsp;
__version__ <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">&quot;0.0.1&quot;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> core <span style="color: #ff7700;font-weight:bold;">import</span> proclamer</pre></td></tr></table><p class="theCode" style="display:none;">#!/usr/bin/env python
# -*- coding: utf-8 -*-

&quot;&quot;&quot;
    Ce module proclame la bonne parole de sieurs Sam et Max. Puissent-t-ils
    retrouver une totale liberté de pensée cosmique vers un nouvel age
    reminiscent.
&quot;&quot;&quot;

__version__ = &quot;0.0.1&quot;

from core import proclamer</p></div>

<p>On a aussi rajouté la version, car il n&#8217;y a rien de plus chiant que d&#8217;avoir un bug sur une lib et de ne pas savoir de quelle version il s&#8217;agit. Il va falloir maintenir cette variable à jour.</p>
<p>Et <em>core.py</em>:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/env python</span>
<span style="color: #808080; font-style: italic;"># -*- coding: utf-8 -*-</span>
&nbsp;
<span style="color: #483d8b;">&quot;&quot;&quot;
    Implémentation de la proclamation de la bonne parole.
&nbsp;
    Usage:
&nbsp;
    &gt;&gt;&gt; from sm_lib import proclamer
    &gt;&gt;&gt; proclamer()
&quot;&quot;&quot;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">datetime</span> <span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">datetime</span>
&nbsp;
__all__ <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: #483d8b;">'proclamer'</span><span style="color: black;">&#93;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> proclamer<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">&quot;&quot;&quot;
        Fonction de proclamation de la bonne parole. Aucun paramètre, et
        retourne None, car tout le monde say que &quot;Ex nihilo nihil&quot;
    &quot;&quot;&quot;</span>
    <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">&quot;[%s] Sam et Max, c'est bien&quot;</span> % <span style="color: #dc143c;">datetime</span>.<span style="color: black;">now</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> __name__ <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">&quot;__main__&quot;</span>:
    proclamer<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">#!/usr/bin/env python
# -*- coding: utf-8 -*-

&quot;&quot;&quot;
    Implémentation de la proclamation de la bonne parole.

    Usage:

    &gt;&gt;&gt; from sm_lib import proclamer
    &gt;&gt;&gt; proclamer()
&quot;&quot;&quot;

from datetime import datetime

__all__ = ['proclamer']


def proclamer():
    &quot;&quot;&quot;
        Fonction de proclamation de la bonne parole. Aucun paramètre, et
        retourne None, car tout le monde say que &quot;Ex nihilo nihil&quot;
    &quot;&quot;&quot;
    print &quot;[%s] Sam et Max, c'est bien&quot; % datetime.now()


if __name__ == &quot;__main__&quot;:
    proclamer()</p></div>

<p>Je vous passe le pamphlet sur les tests, c&#8217;est plusieurs articles rien que pour expliquer le pourquoi du comment. C&#8217;est mieux si vous en avez, mais si vous n&#8217;en avez pas, ne vous empêchez pas de publier, ça peut se rajouter au fur et à mesure.</p>
<p>Petite remarque en passant: je met toute la doc en français pour que vous compreniez le principe, mais si vous publiez un truc, je vous recommande chaudement de tout écrire en anglais de A à Z (variables, fonctions, modules, docstrings, comments, readme, doc, tests, etc). Sans quoi votre audience sera limitée au nombre de francophones qui programment, et en Python, et qui ont le niveau pour intéresser aux libs externes. Autant dire l&#8217;équivalent de l&#8217;audience ridicule de ce blog.</p>
<h2>README</h2>
<p>Dans le fichier README.md, qui est un fichier texte ordinnaire, assurez-vous de mettez les choses suivante:</p>
<ul>
<li>A quoi sert la lib.</li>
<li>Comment l&#8217;installer.</li>
<li>Un exempe concret d&#8217;utilisation.</li>
<li>La licence d&#8217;utilisation.</li>
<li>Un lien vers la doc si elle existe.</li>
</ul>
<p>Nous allons mettre le texte au format markdown. C&#8217;est <a href="http://daringfireball.net/projects/markdown/basics">un format très simple</a> qui a le double avantage d&#8217;être automatiquement transformé en HTML par Github, et qui est bien lisible même quand il reste brut, tel qu&#8217;il sera affiché sur Pypi.</p>
<p>Dans notre cas, README.md va ressembler à un mélange des docstrings, un peu amélioré:</p>
<pre>SM Lib - Proclame la bonne parole de sieurs Sam et Max
========================================================

Ce module proclame la bonne parole de sieurs Sam et Max. Puissent-t-ils
retrouver une totale liberté de pensée cosmique vers un nouvel age
reminiscent.

Vous pouvez l'installer avec pip:

    pip install sm_lib

Exemple d'usage:

    >>> from sm_lib import proclamer
    >>> proclamer()

Ce code est sous licence <a href="https://en.wikipedia.org/wiki/WTFPL">WTFPL</a>.</pre>
<h2>MANIFEST.in</h2>
<p>Le fichier va contenir une liste de tous les fichiers non Python qu&#8217;on veut inclure dans le package. Dans notre cas, la photo et le README.</p>
<pre>include *.md
recursive-include sm_lib *.jpg</pre>
<p>La syntaxe est elle aussi très simple, et utilise la notation des globs &#8220;*&#8221;.</p>
<p>La première ligne dit d&#8217;inclure tout fichier dans le nom est &#8220;n&#8217;importe quoi&#8221;.md. Il va inclure le README.<br />
La seconde ligne dit d&#8217;inclure récursivement tout fichier dans le dossier sm_lib et ses sous-dossiers qui est nommé &#8220;n&#8217;importe quoi&#8221;.jpg. Il va inclure notre photo.</p>
<p>On peut mettre plusieurs lignes, et plusieurs motifs sur chaque ligne. Il n&#8217;est donc pas rare de voir des fichiers qui ressemblent à ça:</p>
<pre>include *.txt *.rst
recursive-include dir1 *.txt *.rst
recursive-include dir2 *.png *.jpg *.gif
recursive-include dir2 *.css *.js *.coffee</pre>
<h2>Setup.py</h2>
<p>C&#8217;est la partie difficile. Le fichier <em>setup.py</em> contient une fonction qui va magiquement installer votre lib, et il faut lui passer des paramètres et l&#8217;appeler. Le problème c&#8217;est que cette fonction compte 34 (à ma connaissance) arguments.</p>
<p>Vous pouvez mettre n&#8217;importe quel code Python dans le <em>setup.py</em>, mais généralement la fonction <code>setup()</code> suffit.</p>
<p>Je vais mettre dans ce <em>setup.py</em> les paramètres que vous utiliserez les plus souvent:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/env python</span>
<span style="color: #808080; font-style: italic;"># -*- coding: utf-8 -*-</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">from</span> setuptools <span style="color: #ff7700;font-weight:bold;">import</span> setup<span style="color: #66cc66;">,</span> find_packages
&nbsp;
<span style="color: #808080; font-style: italic;"># notez qu'on import la lib</span>
<span style="color: #808080; font-style: italic;"># donc assurez-vous que l'importe n'a pas d'effet de bord</span>
<span style="color: #ff7700;font-weight:bold;">import</span> sm_lib
&nbsp;
<span style="color: #808080; font-style: italic;"># Ceci n'est qu'un appel de fonction. Mais il est trèèèèèèèèèèès long</span>
<span style="color: #808080; font-style: italic;"># et il comporte beaucoup de paramètres</span>
setup<span style="color: black;">&#40;</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># le nom de votre bibliothèque, tel qu'il apparaitre sur pypi</span>
    name<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'sm_lib'</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># la version du code</span>
    version<span style="color: #66cc66;">=</span>sm_lib.__version__<span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Liste les packages à insérer dans la distribution</span>
    <span style="color: #808080; font-style: italic;"># plutôt que de le faire à la main, on utilise la foncton</span>
    <span style="color: #808080; font-style: italic;"># find_packages() de setuptools qui va cherche tous les packages</span>
    <span style="color: #808080; font-style: italic;"># python recursivement dans le dossier courant.</span>
    <span style="color: #808080; font-style: italic;"># C'est pour cette raison que l'on a tout mis dans un seul dossier:</span>
    <span style="color: #808080; font-style: italic;"># on peut ainsi utiliser cette fonction facilement</span>
    packages<span style="color: #66cc66;">=</span>find_packages<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># votre pti nom</span>
    author<span style="color: #66cc66;">=</span><span style="color: #483d8b;">&quot;Sam et Max&quot;</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Votre email, sachant qu'il sera publique visible, avec tous les risques</span>
    <span style="color: #808080; font-style: italic;"># que ça implique.</span>
    author_email<span style="color: #66cc66;">=</span><span style="color: #483d8b;">&quot;lesametlemax@gmail.com&quot;</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Une description courte</span>
    description<span style="color: #66cc66;">=</span><span style="color: #483d8b;">&quot;Proclame la bonne parole de sieurs Sam et Max&quot;</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Une description longue, sera affichée pour présenter la lib</span>
    <span style="color: #808080; font-style: italic;"># Généralement on dump le README ici</span>
    long_description<span style="color: #66cc66;">=</span><span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'README.md'</span><span style="color: black;">&#41;</span>.<span style="color: black;">read</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Vous pouvez rajouter une liste de dépendances pour votre lib</span>
    <span style="color: #808080; font-style: italic;"># et même préciser une version. A l'installation, Python essayera de</span>
    <span style="color: #808080; font-style: italic;"># les télécharger et les installer.</span>
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># Ex: [&quot;gunicorn&quot;, &quot;docutils &gt;= 0.3&quot;, &quot;lxml==0.5a7&quot;]</span>
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># Dans notre cas on en a pas besoin, donc je le commente, mais je le</span>
    <span style="color: #808080; font-style: italic;"># laisse pour que vous sachiez que ça existe car c'est très utile.</span>
    <span style="color: #808080; font-style: italic;"># install_requires= ,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Active la prise en compte du fichier MANIFEST.in</span>
    include_package_data<span style="color: #66cc66;">=</span><span style="color: #008000;">True</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Une url qui pointe vers la page officielle de votre lib</span>
    url<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'http://github.com/sametmax/sm_lib'</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Il est d'usage de mettre quelques metadata à propos de sa lib</span>
    <span style="color: #808080; font-style: italic;"># Pour que les robots puissent facilement la classer.</span>
    <span style="color: #808080; font-style: italic;"># La liste des marqueurs autorisées est longue:</span>
    <span style="color: #808080; font-style: italic;"># https://pypi.python.org/pypi?%3Aaction=list_classifiers.</span>
    <span style="color: #808080; font-style: italic;">#</span>
    <span style="color: #808080; font-style: italic;"># Il n'y a pas vraiment de règle pour le contenu. Chacun fait un peu</span>
    <span style="color: #808080; font-style: italic;"># comme il le sent. Il y en a qui ne mettent rien.</span>
    classifiers<span style="color: #66cc66;">=</span><span style="color: black;">&#91;</span>
        <span style="color: #483d8b;">&quot;Programming Language :: Python&quot;</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;Development Status :: 1 - Planning&quot;</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;License :: OSI Approved&quot;</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;Natural Language :: French&quot;</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;Operating System :: OS Independent&quot;</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;Programming Language :: Python :: 2.7&quot;</span><span style="color: #66cc66;">,</span>
        <span style="color: #483d8b;">&quot;Topic :: Communications&quot;</span><span style="color: #66cc66;">,</span>
    <span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
&nbsp;
&nbsp;
    <span style="color: #808080; font-style: italic;"># C'est un système de plugin, mais on s'en sert presque exclusivement</span>
    <span style="color: #808080; font-style: italic;"># Pour créer des commandes, comme &quot;django-admin&quot;.</span>
    <span style="color: #808080; font-style: italic;"># Par exemple, si on veut créer la fabuleuse commande &quot;proclame-sm&quot;, on</span>
    <span style="color: #808080; font-style: italic;"># va faire pointer ce nom vers la fonction proclamer(). La commande sera</span>
    <span style="color: #808080; font-style: italic;"># créé automatiquement. </span>
    <span style="color: #808080; font-style: italic;"># La syntaxe est &quot;nom-de-commande-a-creer = package.module:fonction&quot;.</span>
    entry_points <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span>
        <span style="color: #483d8b;">'console_scripts'</span>: <span style="color: black;">&#91;</span>
            <span style="color: #483d8b;">'proclame-sm = sm_lib.core:proclamer'</span><span style="color: #66cc66;">,</span>
        <span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span>
    <span style="color: black;">&#125;</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># A fournir uniquement si votre licence n'est pas listée dans &quot;classifiers&quot;</span>
    <span style="color: #808080; font-style: italic;"># ce qui est notre cas</span>
    license<span style="color: #66cc66;">=</span><span style="color: #483d8b;">&quot;WTFPL&quot;</span><span style="color: #66cc66;">,</span>
&nbsp;
    <span style="color: #808080; font-style: italic;"># Il y a encore une chiée de paramètres possibles, mais avec ça vous</span>
    <span style="color: #808080; font-style: italic;"># couvrez 90% des besoins</span>
&nbsp;
<span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">#!/usr/bin/env python
# -*- coding: utf-8 -*-

from setuptools import setup, find_packages

# notez qu'on import la lib
# donc assurez-vous que l'importe n'a pas d'effet de bord
import sm_lib

# Ceci n'est qu'un appel de fonction. Mais il est trèèèèèèèèèèès long
# et il comporte beaucoup de paramètres
setup(

    # le nom de votre bibliothèque, tel qu'il apparaitre sur pypi
    name='sm_lib',

    # la version du code
    version=sm_lib.__version__,

    # Liste les packages à insérer dans la distribution
    # plutôt que de le faire à la main, on utilise la foncton
    # find_packages() de setuptools qui va cherche tous les packages
    # python recursivement dans le dossier courant.
    # C'est pour cette raison que l'on a tout mis dans un seul dossier:
    # on peut ainsi utiliser cette fonction facilement
    packages=find_packages(),

    # votre pti nom
    author=&quot;Sam et Max&quot;,

    # Votre email, sachant qu'il sera publique visible, avec tous les risques
    # que ça implique.
    author_email=&quot;lesametlemax@gmail.com&quot;,

    # Une description courte
    description=&quot;Proclame la bonne parole de sieurs Sam et Max&quot;,

    # Une description longue, sera affichée pour présenter la lib
    # Généralement on dump le README ici
    long_description=open('README.md').read(),

    # Vous pouvez rajouter une liste de dépendances pour votre lib
    # et même préciser une version. A l'installation, Python essayera de
    # les télécharger et les installer.
    #
    # Ex: [&quot;gunicorn&quot;, &quot;docutils &gt;= 0.3&quot;, &quot;lxml==0.5a7&quot;]
    #
    # Dans notre cas on en a pas besoin, donc je le commente, mais je le
    # laisse pour que vous sachiez que ça existe car c'est très utile.
    # install_requires= ,

    # Active la prise en compte du fichier MANIFEST.in
    include_package_data=True,

    # Une url qui pointe vers la page officielle de votre lib
    url='http://github.com/sametmax/sm_lib',

    # Il est d'usage de mettre quelques metadata à propos de sa lib
    # Pour que les robots puissent facilement la classer.
    # La liste des marqueurs autorisées est longue:
    # https://pypi.python.org/pypi?%3Aaction=list_classifiers.
    #
    # Il n'y a pas vraiment de règle pour le contenu. Chacun fait un peu
    # comme il le sent. Il y en a qui ne mettent rien.
    classifiers=[
        &quot;Programming Language :: Python&quot;,
        &quot;Development Status :: 1 - Planning&quot;,
        &quot;License :: OSI Approved&quot;,
        &quot;Natural Language :: French&quot;,
        &quot;Operating System :: OS Independent&quot;,
        &quot;Programming Language :: Python :: 2.7&quot;,
        &quot;Topic :: Communications&quot;,
    ],


    # C'est un système de plugin, mais on s'en sert presque exclusivement
    # Pour créer des commandes, comme &quot;django-admin&quot;.
    # Par exemple, si on veut créer la fabuleuse commande &quot;proclame-sm&quot;, on
    # va faire pointer ce nom vers la fonction proclamer(). La commande sera
    # créé automatiquement. 
    # La syntaxe est &quot;nom-de-commande-a-creer = package.module:fonction&quot;.
    entry_points = {
        'console_scripts': [
            'proclame-sm = sm_lib.core:proclamer',
        ],
    },

    # A fournir uniquement si votre licence n'est pas listée dans &quot;classifiers&quot;
    # ce qui est notre cas
    license=&quot;WTFPL&quot;,

    # Il y a encore une chiée de paramètres possibles, mais avec ça vous
    # couvrez 90% des besoins

)</p></div>

<h2>Tester si tout marche bien</h2>
<p>Si vous publiez du code, je vais partir du principe que vous utilisez au moins un <a href="../les-environnement-virtuels-python-virtualenv-et-virtualenvwrapper.1.html">virtualenv</a> :-)</p>
<p>Donc, activez un environnement de test, et dans le dossier contenant <em>setup.py</em>, faites:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">python setup.py <span style="color: #c20cb9; font-weight: bold;">install</span></pre></td></tr></table><p class="theCode" style="display:none;">python setup.py install</p></div>

<p>Normalement votre lib devrait s&#8217;insaller dans votre env proprement. Vous devriez pouvoir faire dans un shell Python:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #66cc66;">&gt;&gt;&gt;</span> <span style="color: #ff7700;font-weight:bold;">from</span> sm_lib <span style="color: #ff7700;font-weight:bold;">import</span> proclamer
<span style="color: #66cc66;">&gt;&gt;&gt;</span> proclamer<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
<span style="color: black;">&#91;</span><span style="color: #ff4500;">2012</span>-<span style="color: #ff4500;">11</span>-<span style="color: #ff4500;">16</span> <span style="color: #ff4500;">13</span>:<span style="color: #ff4500;">06</span>:<span style="color: #ff4500;">58.128545</span><span style="color: black;">&#93;</span> Sam et Max<span style="color: #66cc66;">,</span> c<span style="color: #483d8b;">'est bien</span></pre></td></tr></table><p class="theCode" style="display:none;">&gt;&gt;&gt; from sm_lib import proclamer
&gt;&gt;&gt; proclamer()
[2012-11-16 13:06:58.128545] Sam et Max, c'est bien</p></div>

<p>Et comme on a créé une commande, on doit aussi pouvoir faire depuis un terminal:</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">$ proclame-sm
<span style="color: #7a0874; font-weight: bold;">&#91;</span><span style="color: #000000;">2012</span>-<span style="color: #000000;">11</span>-<span style="color: #000000;">16</span> <span style="color: #000000;">13</span>:08:<span style="color: #000000;">18.763732</span><span style="color: #7a0874; font-weight: bold;">&#93;</span> Sam et Max, c<span style="color: #ff0000;">'est bien</span></pre></td></tr></table><p class="theCode" style="display:none;">$ proclame-sm
[2012-11-16 13:08:18.763732] Sam et Max, c'est bien</p></div>

<p>Si vous regardez dans votre virtualenv, vous verrez que votre package a été ajouté. Sur ma machine il se trouve par exemple à <em>~/.virtualenvs/test/lib/python2.7/site-packages/sm_lib-0.0.1-py2.7.egg/sm_lib</em>.</p>
<p>La photo doit-être dedans, ainsi que le code Python. La photo est un exemple important à comprendre et à faire marcher car c&#8217;est le manifeste que vous utiliserez pour tous les fichiers non Python: CSS, Javascript, Documentation, Images, Xml, Json, etc. </p>
<h2>Publier sur Pypi</h2>
<p>Cela va vous paraitre étonnant, mais tout le monde peut publier sur Pypi. Pourvu que le nom soit disponible, vous pouvez en fait uploader n&#8217;importe quoi. Même une lib de test comme celle-ci.</p>
<p>Entrez la commande (il faut avoir accès à internet):</p>
<p><code>$ python setup.py register</code></p>
<p>Ceci va inscrire votre lib dans leur listing. Et donnera une sortie qui ressemble à ça:</p>
<pre>running register
running egg_info
writing sm_lib.egg-info/PKG-INFO
writing top-level names to sm_lib.egg-info/top_level.txt
writing dependency_links to sm_lib.egg-info/dependency_links.txt
writing entry points to sm_lib.egg-info/entry_points.txt
reading manifest file 'sm_lib.egg-info/SOURCES.txt'
reading manifest template 'MANIFEST.in'
writing manifest file 'sm_lib.egg-info/SOURCES.txt'
running check
We need to know who you are, so please choose either:
 1. use your existing login,
 2. register as a new user,
 3. have the server generate a new password for you (and email it to you), or
 4. quit
Your selection [default 1]: </pre>
<p>Choissisez 2. Il va vous permettre de créer un compte. Quand il vous demandera de sauvegarder vos identifiants pour un usage future, répondre oui vous permettra de ne pas rentrer votre mot de passe à chaque upload.</p>
<p>La prochaine fois vous pourrez choisir 1, puisque vous aurez un compte.</p>
<p>Si ça se coupe, relancez juste la commande. Le but étant d&#8217;obtenir ça:</p>
<pre>Registering sm_lib to http://pypi.python.org/pypi
Server response (200): OK</pre>
<p>Ce qui signifie que votre lib est inscrite sur Pypi (et que donc le nom était disponible, sinon il vous enverra chier et vous avez plus qu&#8217;à renommer votre lib).</p>
<p>Puis, il faut créer une distribution source (sdist) et le mettre en ligne (upload):</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">python setup.py sdist upload</pre></td></tr></table><p class="theCode" style="display:none;">python setup.py sdist upload</p></div>

<p>Et voilà, votre lib est en ligne et installable avec pip !</p>
<p>Voici la <a href="http://pypi.python.org/pypi/sm_lib/">page pypi</a>, et <a href="https://github.com/sametmax/sm_lib">la page gitub</a> (ce qui n&#8217;a rien à voir, mais si vous voulez le code source&#8230;).</p>
<p>C&#8217;est finit. Si vous voulez uploader une nouvelle version de votre lib, il faut changer <code>__version__</code> car Pypi n&#8217;accepte pas deux fois la même version.</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Partager:</h3><div class="sd-content"><ul><li class="share-twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/" data-text="Créer un setup.py et mettre sa bibliothèque Python en ligne sur Pypi"  >Tweet</a></li><li class="share-facebook"><div class="fb-share-button" data-href="http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/" data-layout="button_count"></div></li><li class="share-google-plus-1"><div class="googleplus1_button"><div class="g-plus" data-action="share" data-annotation="bubble" data-href="http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/"></div></div></li><li class="share-email"><a rel="nofollow" data-shared="" class="share-email sd-button" href="index.html%3Fshare=email.html" rel="noopener noreferrer" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li><a href="index.html#" class="sharing-anchor sd-button share-more"><span>More</span></a></li><li class="share-end"></li></ul><div class="sharing-hidden"><div class="inner" style="display: none;"><ul><li class="share-reddit"><div class="reddit_button"><iframe src="http://www.reddit.com/static/button/button1.html?newwindow=true&width=120&amp;url=http%3A%2F%2Fsametmax.com%2Fcreer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi%2F&amp;title=Cr%C3%A9er%20un%20setup.py%20et%20mettre%20sa%20biblioth%C3%A8que%20Python%20en%20ligne%20sur%20Pypi" height="22" width="120" scrolling="no" frameborder="0"></iframe></div></li><li class="share-pinterest"><div class="pinterest_button"><a href="https://www.pinterest.com/pin/create/button/?url=http%3A%2F%2Fsametmax.com%2Fcreer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi%2F&#038;media=http%3A%2F%2Fsametmax.com%2Fwp-content%2Fuploads%2F2012%2F11%2Fholy-book.jpg&#038;description=Cr%C3%A9er%20un%20setup.py%20et%20mettre%20sa%20biblioth%C3%A8que%20Python%20en%20ligne%20sur%20Pypi" data-pin-do="buttonPin" data-pin-config="beside"><img src="http://assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a></div></li><li class="share-end"></li><li class="share-tumblr"><a target="_blank" href="https://www.tumblr.com/share/link/?url=http%3A%2F%2Fsametmax.com%2Fcreer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi%2F&name=Cr%C3%A9er%20un%20setup.py%20et%20mettre%20sa%20biblioth%C3%A8que%20Python%20en%20ligne%20sur%20Pypi" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:62px; height:20px; background:url('https://platform.tumblr.com/v1/share_2.png') top left no-repeat transparent;">Share on Tumblr</a></li><li class="share-pocket"><div class="pocket_button"><a href="https://getpocket.com/save" class="pocket-btn" data-lang="en" data-save-url="http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/" data-pocket-count="horizontal" >Pocket</a></div></li><li class="share-end"></li><li class="share-end"></li></ul></div></div></div></div></div>                        </section><!-- .entry-content -->

        <footer class="entry-meta"><hr class="featurette-divider"><div class="author-info"><div class="row-fluid"><div class="comment-avatar author-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=100&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=200&#038;d=retro&#038;r=x 2x' class='avatar avatar-100 photo' height='100' width='100' /></div> <div class="author-description span10"><h3>About Sam</h3><p>Waf !</p><div class="author-link"><a href="../author/sam/index.html" rel="author">View all posts by Sam <span class="meta-nav">&rarr;</span></a></div></div></div></div></footer>                                    </article>
                                
                            
                        
                    
<div id="comments" class="comments-area" >
	<h2 id="tc-comment-title" class="comments-title">67 thoughts on &ldquo;<span>Créer un setup.py et mettre sa bibliothèque Python en ligne sur Pypi</span>&rdquo;</h2>              <ul class="commentlist">
                        <li class="comment even thread-even depth-1" id="li-comment-3238">
          
            <article id="comment-3238" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://url.bidouille.info/' rel='external nofollow' class='url'>cyp</a>  </cite> <a class="comment-date" href="index.html#comment-3238"><time datetime="2012-11-16T13:50:35+00:00">16/11/2012 at 13:50</time></a></header>  <section class="comment-content comment"><p>Ben merci bibi ;-)</p>
<p>Pour une question posé hier, c&#8217;est une sacré réponse.<br />
Surtout si c&#8217;est du from scratch sans brouillon qui attendait la publication. Auquel cas faudra quand même penser a vous accorder une petite pause (faites signe si vous passez par Toulouse je vous en paierai une).</p>
<p>Me reste plus qu&#8217;a me mettre au boulot.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3239">
          
            <article id="comment-3239" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b06b5d4777e2734feb91298062539ec8?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b06b5d4777e2734feb91298062539ec8?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Ronan Amicel  </cite> <a class="comment-date" href="index.html#comment-3239"><time datetime="2012-11-16T14:18:55+00:00">16/11/2012 at 14:18</time></a></header>  <section class="comment-content comment"><p>Pour le README, j&#8217;utilise pour ma part le format ReST (reStructuredText) qui est effectivement le standard en Python.</p>
<p>La petite astuce pour que GitHub le parse correctement, c&#8217;est de nommer le fichier README.rst. (Ça ne marche pas si le fichier s&#8217;appelle simplement README.)</p>
<p>De cette manière, on peut avoir un joli README affiché en HTML à la fois sur GitHub et sur PyPI. Youpi !</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-even depth-1" id="li-comment-3242">
          
            <article id="comment-3242" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3242"><time datetime="2012-11-16T15:24:21+00:00">16/11/2012 at 15:24</time></a></header>  <section class="comment-content comment"><p>@cyp: de rien. Ca faisait longtemps que je me disais qu&#8217;un article comme ça manquait.</p>
<p>@Ronan: Ahhhhh. Je viens d&#8217;apprendre un truc là. Bon, la prochaine fois j&#8217;utiliserai RST alors. Par contre c&#8217;est vrai que RST est vraiment relou à apprendre. Les liens hypertexts sont chiannnnnnnnnnnnnnts à taper.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3243">
          
            <article id="comment-3243" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/9af2f1db7ac25f84a5b3147e781a4e0c?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/9af2f1db7ac25f84a5b3147e781a4e0c?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">apieum  </cite> <a class="comment-date" href="index.html#comment-3243"><time datetime="2012-11-16T15:38:39+00:00">16/11/2012 at 15:38</time></a></header>  <section class="comment-content comment"><p>Merci pour cet article.</p>
<p>En complément ça vaut le coup de se pencher sur buildout et virtualenv.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3245">
          
            <article id="comment-3245" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/efca4fc75d514818d08f08413f9f15c9?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/efca4fc75d514818d08f08413f9f15c9?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://twitter.com/morgotth' rel='external nofollow' class='url'>Morgotth</a>  </cite> <a class="comment-date" href="index.html#comment-3245"><time datetime="2012-11-16T18:33:50+00:00">16/11/2012 at 18:33</time></a></header>  <section class="comment-content comment"><pre>
    Les liens hypertexts sont chiannnnnnnnnnnnnnts à taper.
</pre>
<p>WHAT ? Et il est où ce prosélytisme envers Sublime Text ?!! ;)<br />
Déjà, 2 notations existent pour faire des liens.</p>
<p>La baveuse :</p>
<pre>
monlien_.

.. _monlien: http://monlien.tk
</pre>
<p>Et la circoncis :</p>
<pre>`monlien &lt;http://monlien.tk&gt;`_.</pre>
<p>Mais ce blog m&#8217;ayant converti à ST2, j&#8217;ai trouvé des extensions comme <a href="https://github.com/dbousamra/sublime-rst-completion" rel="nofollow">sublime-rst-completion</a> pour taper mes titres/liens plus facilement.<br />
J&#8217;ai même retravaillé l&#8217;outil pour supporter plus de titres :</p>
<pre>
{ "trigger": "t1_part", "contents" : "${1/./=/g}\n${1}\n${1/./=/g}\n\n" },
{ "trigger": "t2_chapter", "contents" : "${1/./*/g}\n${1}\n${1/./*/g}\n\n" },

{ "trigger": "t3_section", "contents" : "${1}\n${1/./=/g}\n\n" },
{ "trigger": "t4_subsection", "contents" : "${1}\n${1/./-/g}\n\n" },

{ "trigger": "italic", "contents": "*${1}*" },
{ "trigger": "bold", "contents": "**${1}**" },
{ "trigger": "literal", "contents": "``${1}``" },
</pre>
<p>Plus qu&#8217;à valider le tout avec <a href="https://github.com/d0ugal/RstPreview/" rel="nofollow">RstPreview</a> pour un beau rendu dans son browser préféré :)</p>
<p>(Et pour ceux qui preferent Vim, je dois citer l&#8217;indispensable <a href="https://github.com/nvie/vim-rst-tables" rel="nofollow">vim-rst-tables</a>).</p>
<p>Bref, une fois les bons outils trouvés, Rst peut lui aussi être *facilement* utilisé par tout le monde ;)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-3246">
          
            <article id="comment-3246" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3246"><time datetime="2012-11-16T19:01:57+00:00">16/11/2012 at 19:01</time></a></header>  <section class="comment-content comment"><p>Si un outil a besoin d&#8217;un autre outil pour devenir simple à utiliser, c&#8217;est qu&#8217;il n&#8217;est pas simple.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3247">
          
            <article id="comment-3247" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/efca4fc75d514818d08f08413f9f15c9?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/efca4fc75d514818d08f08413f9f15c9?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://twitter.com/morgotth' rel='external nofollow' class='url'>Morgotth</a>  </cite> <a class="comment-date" href="index.html#comment-3247"><time datetime="2012-11-16T20:32:56+00:00">16/11/2012 at 20:32</time></a></header>  <section class="comment-content comment"><p>Dans ce cas Rst et Markdown sont complexes : je te met au défi de faire un tableau à 2 diensions dans ces 2 langages à la main &#8230;<br />
Et puis c&#8217;est surtout une question de productivité pour le coup, les 2 étant quasi similaires à 2-3 exceptions près.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-3250">
          
            <article id="comment-3250" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3250"><time datetime="2012-11-16T21:44:30+00:00">16/11/2012 at 21:44</time></a></header>  <section class="comment-content comment"><p>Un tableau dans n&#8217;importe quel format du monde est dur à faire.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3266">
          
            <article id="comment-3266" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/502f55b818f01ac589d5708616e6bfd8?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/502f55b818f01ac589d5708616e6bfd8?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">François  </cite> <a class="comment-date" href="index.html#comment-3266"><time datetime="2012-11-17T13:43:22+00:00">17/11/2012 at 13:43</time></a></header>  <section class="comment-content comment"><p>D&#8217;abord merci pour ce tuto. Enfin un truc accessible sur le sujet.</p>
<p>Lorsque tu écris que dans le __init__.py, il faut mettre (version 1)<br />
<code>from core import proclamer</code><br />
Ce ne serait pas plutôt (version 2)<br />
<code>from sm_lib.core import proclamer</code> ?</p>
<p>J&#8217;ai peut être raté qqch, mais la version 2 fonctionne et pas la 1, chez moi. En regardant deux trois libs sur mon système (python 2.7 ou 3.3), je vois la version 2.</p>
<p>Sinon, j&#8217;ai plus qu&#8217;à aller appliquer ces bonnes pratiques dans mes codes. :)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3267">
          
            <article id="comment-3267" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/502f55b818f01ac589d5708616e6bfd8?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/502f55b818f01ac589d5708616e6bfd8?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">François  </cite> <a class="comment-date" href="index.html#comment-3267"><time datetime="2012-11-17T13:59:48+00:00">17/11/2012 at 13:59</time></a></header>  <section class="comment-content comment"><p>Je vois que ça marche avec sm_lib. Je vais voir pourquoi ça n&#8217;a pas marché sur la mienne :/</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-even depth-1" id="li-comment-3273">
          
            <article id="comment-3273" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3273"><time datetime="2012-11-17T15:49:34+00:00">17/11/2012 at 15:49</time></a></header>  <section class="comment-content comment"><p><code>from core import proclamer</code> marchec car le fichier __init__.py et le fichier core.py sont dans le même dossier, et que ce dossier est dans le PYTHON_PATH.</p>
<p><code>from sm_lib.core import proclamer</code> peut marcher, mais selon les cas, il peut aussi poser problème: conflit de nom, de path, trigerring d&#8217;imports non voulus, etc. </p>
<p>Je préfère toujours utiliser l&#8217;import le plus court et direct possible.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3280">
          
            <article id="comment-3280" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Kontre  </cite> <a class="comment-date" href="index.html#comment-3280"><time datetime="2012-11-17T21:05:12+00:00">17/11/2012 at 21:05</time></a></header>  <section class="comment-content comment"><p>Et</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> .<span style="color: black;">core</span> <span style="color: #ff7700;font-weight:bold;">import</span> proclamer</pre></td></tr></table><p class="theCode" style="display:none;">from .core import proclamer</p></div>

<p>  alors ? Cf le pep correspondant : <a href="http://www.python.org/dev/peps/pep-0328/" rel="nofollow">http://www.python.org/dev/peps/pep-0328/</a></p>
<p>Concernant les package, dire que je me suis payé une bonne partie de tout ça en fouillant sur le net la semaine dernière&#8230; Vous avez un don pour expliquer les choses clairement, c&#8217;est génial !</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-even depth-1" id="li-comment-3282">
          
            <article id="comment-3282" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3282"><time datetime="2012-11-17T21:28:07+00:00">17/11/2012 at 21:28</time></a></header>  <section class="comment-content comment"><p>;-)<br />
<code><br />
from .core import proclamer</code> est un import relatif. Pour le moment c&#8217;est presque là même chose. En Python 3, il faudra utiliser .core ou la notation de françois, car tous les imports sont absolus.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3303">
          
            <article id="comment-3303" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b06b5d4777e2734feb91298062539ec8?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b06b5d4777e2734feb91298062539ec8?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Ronan Amicel  </cite> <a class="comment-date" href="index.html#comment-3303"><time datetime="2012-11-18T16:24:22+00:00">18/11/2012 at 16:24</time></a></header>  <section class="comment-content comment"><p>Pour anticiper le futur, on peut mettre au début de ses fichiers :<br />
<code><br />
from __future__ import absolute_import<br />
</code></p>
<p>Un des intérêts d&#8217;utiliser systématiquement les imports absolus est d&#8217;éviter de masquer par inadvertance des modules de la bibliothèque standard. Ça peut arriver quand dans notre projet on ajoute par exemple un nouveau module &#8220;email.py&#8221;, &#8220;logging.py&#8221; ou encore &#8220;stat.py&#8221;, et tout d&#8217;un coup un autre bout de notre programme se met à nous balancer des ImportError&#8230;</p>
<p>Avec des imports absolus, pas de risque et pas d&#8217;ambiguité :</p>
<p><code><br />
from __future__ import absolute_import</p>
<p># bibliothèque standard<br />
from email import Message</p>
<p># mon module à moi<br />
from monprojet.email import ma_fonction<br />
</code></p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-even depth-1" id="li-comment-3304">
          
            <article id="comment-3304" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3304"><time datetime="2012-11-18T16:50:29+00:00">18/11/2012 at 16:50</time></a></header>  <section class="comment-content comment"><p>C&#8217;est vrai qu&#8217;avec notre entêtement quasi systématique à éviter Python 3, on oublie ce genre de truc.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3315">
          
            <article id="comment-3315" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/502f55b818f01ac589d5708616e6bfd8?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/502f55b818f01ac589d5708616e6bfd8?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">François  </cite> <a class="comment-date" href="index.html#comment-3315"><time datetime="2012-11-18T21:37:27+00:00">18/11/2012 at 21:37</time></a></header>  <section class="comment-content comment"><p>Merci à tous pour ces précisions :)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3530">
          
            <article id="comment-3530" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/02c6b21250c126f01e095a6600d7706b?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/02c6b21250c126f01e095a6600d7706b?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">gglafouine  </cite> <a class="comment-date" href="index.html#comment-3530"><time datetime="2012-11-24T20:02:15+00:00">24/11/2012 at 20:02</time></a></header>  <section class="comment-content comment"><p><span class="merci"></span>Salut,<br />
Le tuto est cool mais petite précision pour éviter de mettre à jour ton lien sur les métadonnées du projet. La liste se trouve ici <a href="http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/pi.python.org/pypi?%3Aaction=list_classifiers" rel="nofollow">list classifiers</a></p>
<p>voilou</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-3592">
          
            <article id="comment-3592" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://url.bidouille.info/' rel='external nofollow' class='url'>cyp</a>  </cite> <a class="comment-date" href="index.html#comment-3592"><time datetime="2012-11-26T15:19:30+00:00">26/11/2012 at 15:19</time></a></header>  <section class="comment-content comment"><p><span class="mention"></span>Et voilà j&#8217;ai pu sortir ma première petites contribution<br />
<a href="http://pypi.python.org/pypi/mysqlrocket" rel="nofollow">http://pypi.python.org/pypi/mysqlrocket</a><br />
<a href="https://github.com/cypx/mysqlrocket" rel="nofollow">https://github.com/cypx/mysqlrocket</a></p>
<p>Rien d&#8217;extraordinaire (vu mon niveau en Python&#8230;) mais ça remplace avantageusement l&#8217;ancien script bash que j&#8217;utilisais et c&#8217;est plus facile à déployer et plus portable (tant que python 2.7 est dispo&#8230;).</p>
<p>@Ronan Amicel<br />
Merci, j&#8217;ai utilisé ReST, rien d&#8217;insurmontable et le rendu est bon sur les pypi comme github.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3732">
          
            <article id="comment-3732" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://url.bidouille.info/' rel='external nofollow' class='url'>cyp</a>  </cite> <a class="comment-date" href="index.html#comment-3732"><time datetime="2012-11-29T20:51:57+00:00">29/11/2012 at 20:51</time></a></header>  <section class="comment-content comment"><p>Un autre petit retour, par rapport au tuto.</p>
<p>Quel est l&#8217;interet d&#8217;importer la lib dans le setup.py?<br />
Je l&#8217;avais fait aussi au début mais ça posait problème lors des déploiement à cause des dépendance de la lib (forcément si on essaye d&#8217;utiliser des dépendances avant que le packager les aient installés&#8230;).<br />
Bref comme j&#8217;y voyais pas d&#8217;utilité j&#8217;ai viré l&#8217;import et ça marche bien mieux sans.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-3733">
          
            <article id="comment-3733" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3733"><time datetime="2012-11-29T21:58:28+00:00">29/11/2012 at 21:58</time></a></header>  <section class="comment-content comment"><p>En l&#8217;occurence, on utilise <code>__version__</code> défini dans la lib. Ca évite de l&#8217;avoir en deux endroits.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3746">
          
            <article id="comment-3746" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://url.bidouille.info/' rel='external nofollow' class='url'>cyp</a>  </cite> <a class="comment-date" href="index.html#comment-3746"><time datetime="2012-11-30T09:07:20+00:00">30/11/2012 at 09:07</time></a></header>  <section class="comment-content comment"><p>Oups j&#8217;avais oublié ça, en plus c&#8217;est ce que je faisais aussi au début.</p>
<p>Mais même en essayant de ruser et en mettant les variables dans un fichiers séparé et en utilisant</p>
<p>from mysqlrocket.infos import __version__</p>
<p>J&#8217;avais toujours le même problème, au déploiement le module était initialisé avant que les dépendances (install_requires) soit installées et l&#8217;installation plantait.</p>
<p>D&#8217;ailleurs si quelqu&#8217;un à une solution ça m’économisera des copié/collé.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-3747">
          
            <article id="comment-3747" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3747"><time datetime="2012-11-30T09:50:41+00:00">30/11/2012 at 09:50</time></a></header>  <section class="comment-content comment"><p>Il n&#8217;y a pas de solution générale à ce problème: ça dépend beaucoup de ton architecture. Parmis les solutions:</p>
<p>&#8211; faire des lazy imports<br />
&#8211; avoir les dépendances embeded dans le projet en fallback<br />
&#8211; refactoriser pour que les imports ne soient pas trigger par le __init__<br />
&#8211; mettre la version dans un fichier texte et lire ce fichier texte à l&#8217;__init__</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3751">
          
            <article id="comment-3751" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Kontre  </cite> <a class="comment-date" href="index.html#comment-3751"><time datetime="2012-11-30T10:46:01+00:00">30/11/2012 at 10:46</time></a></header>  <section class="comment-content comment"><p>Tu peux préciser (ou filer un lien explicatif) ce que sont les lazy imports ? C&#8217;est ce truc là <a href="http://code.activestate.com/recipes/473888-lazy-module-imports/" rel="nofollow">http://code.activestate.com/recipes/473888-lazy-module-imports/</a> ?</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-3754">
          
            <article id="comment-3754" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3754"><time datetime="2012-11-30T11:21:52+00:00">30/11/2012 at 11:21</time></a></header>  <section class="comment-content comment"><p>C&#8217;est ça. Un lazy object, quel qu&#8217;il soit, est un objet qui est défini tôt, mais charge vraiment tout le code à la première utilisation.</p>
<p>Utilisé sur les imports, cela permet de définir un module importé, mais de déléguer l&#8217;import réel à la première utilisation de ce module. On peut ainsi résoudre des problèmes de références circulaires, empêcher d&#8217;éxécuter du code quand quand on fait juste un import ou gagner en performance. </p>
<p>Il y a même des libs toutes faites pour ça:</p>
<p><a href="http://peak.telecommunity.com/DevCenter/Importing" rel="nofollow">http://peak.telecommunity.com/DevCenter/Importing</a></p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-even depth-1" id="li-comment-3810">
          
            <article id="comment-3810" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ac37de58294f0c881f6198a0588c02ab?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://url.bidouille.info/' rel='external nofollow' class='url'>cyp</a>  </cite> <a class="comment-date" href="index.html#comment-3810"><time datetime="2012-12-02T10:26:50+00:00">02/12/2012 at 10:26</time></a></header>  <section class="comment-content comment"><p>Ok mais pas glop pour le setup.py, je préfèrerais que ça reste simple et on ne peut pas importer de module externe.</p>
<p>Finalement je vais tout mettre dans un fichier python dédié que je parse avec execfile(), c&#8217;est ce que j&#8217;ai trouvé de plus simple.</p>
</section></div></div></article>          <!-- #comment-## -->
        <ul class="children">
        <li class="comment byuser comment-author-sam bypostauthor odd alt depth-2" id="li-comment-3816">
          
            <article id="comment-3816" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-3816"><time datetime="2012-12-02T12:08:04+00:00">02/12/2012 at 12:08</time></a></header>  <section class="comment-content comment"><p>Nan, importe juste pas ta lib, c&#8217;est plus simple. Duplique le contenu: ça prend 5 minutes de plus de mettre la version à jour dans les 2 endroits, mais c&#8217;est toujours plus simple que l&#8217;alternative.</p>
<p>Bientôt, avec le setup.cfg, on devrait avoir moins de problèmes de ce genre.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-9014">
          
            <article id="comment-9014" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/1eb421219152879182f1d9639c2aa3d3?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/1eb421219152879182f1d9639c2aa3d3?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">G-rom  </cite> <a class="comment-date" href="index.html#comment-9014"><time datetime="2013-05-20T10:15:47+00:00">20/05/2013 at 10:15</time></a></header>  <section class="comment-content comment"><p>Petite astuce qui pourrait mériter un article supplémentaire : pour ceux qui ont des &#8220;lib&#8221; de tools éparpillées un peu partout, parce que par exemple vous êtes dans une grosse boite avec plusieurs équipe, et que chacune ne dev pas la même chose, mais ça peut vous arriver de piquer une lib d&#8217;une autre équipe, (on respire), il y a la notion de <strong>namespace</strong>.</p>
<p>Admettons que chaque équipe soit corporate, leur package &#8220;racine&#8221; est le nom de la boite, et seulement derrière, chaque package est un tools. Chaque équipe faisant ça, pour éviter d&#8217;écraser les packages, vous pouvez définir le nom de la boite comme étant un <strong>namespace package</strong>.</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;">setup<span style="color: black;">&#40;</span>
  <span style="color: #808080; font-style: italic;"># vos options qui vont bien</span>
  <span style="color: #808080; font-style: italic;"># puis...</span>
  namespace_packages<span style="color: #66cc66;">=</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'le_nom_de_la_boite'</span><span style="color: black;">&#93;</span>
<span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">setup(
  # vos options qui vont bien
  # puis...
  namespace_packages=['le_nom_de_la_boite']
)</p></div>

<p>et dans le __init__.py du package &#8220;le_nom_de_la_boite&#8221; un petit</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #008000;">__import__</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'pkg_resources'</span><span style="color: black;">&#41;</span>.<span style="color: black;">declare_namespace</span><span style="color: black;">&#40;</span>__name__<span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">__import__('pkg_resources').declare_namespace(__name__)</p></div>

<p>et voilà, ça fait des chocapic. Comme ça, tout le monde peut faire</p>
<p><code>pip install tools_team1<br />
pip install tools_team2</code></p>
<p>la 2e lib n&#8217;ira pas écraser la 1e.</p>
<p>Alors oui, il y a sûrement un petit côté palitif d&#8217;une drôle de politique de nommage des lib sûrement hérité du monde Java (ouch), mais ça a le mérite d&#8217;exister et de marcher :)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-9022">
          
            <article id="comment-9022" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-9022"><time datetime="2013-05-20T20:53:11+00:00">20/05/2013 at 20:53</time></a></header>  <section class="comment-content comment"><p>Je n&#8217;ai pas compris : au niveau du pip, il en fait quoi du namespace ?</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-10256">
          
            <article id="comment-10256" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ddda97fee151a28f5fa4f5f9263f649f?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ddda97fee151a28f5fa4f5f9263f649f?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Chipster  </cite> <a class="comment-date" href="index.html#comment-10256"><time datetime="2013-06-21T11:04:11+00:00">21/06/2013 at 11:04</time></a></header>  <section class="comment-content comment"><p>Bonjour. Merci pour ce tuto très instructif.<br />
J&#8217;ai quand même une question. Si je souhaite utiliser l&#8217;image (ou autres fichiers non python) dans mon code, comment dois-je procéder ?</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-10262">
          
            <article id="comment-10262" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-10262"><time datetime="2013-06-21T12:13:00+00:00">21/06/2013 at 12:13</time></a></header>  <section class="comment-content comment"><p>Il faut lister les fichiers images dans MANIFEST.in.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-10283">
          
            <article id="comment-10283" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ddda97fee151a28f5fa4f5f9263f649f?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ddda97fee151a28f5fa4f5f9263f649f?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Chipster  </cite> <a class="comment-date" href="index.html#comment-10283"><time datetime="2013-06-22T14:05:26+00:00">22/06/2013 at 14:05</time></a></header>  <section class="comment-content comment"><p>C&#8217;était fait mais je ne sais pas comment les retrouver dans le code. Imaginons que j&#8217;ai un fichier texte. Comment faire pour le charger ?</p>

<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span>?????<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'r'</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> src: tab <span style="color: #66cc66;">=</span> src.<span style="color: black;">readlines</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre></td></tr></table><p class="theCode" style="display:none;">with open(?????, 'r') as src: tab = src.readlines()</p></div>

</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-10290">
          
            <article id="comment-10290" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-10290"><time datetime="2013-06-22T19:31:05+00:00">22/06/2013 at 19:31</time></a></header>  <section class="comment-content comment">
<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> ton_package
<span style="color: #ff7700;font-weight:bold;">with</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span>.<span style="color: black;">path</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span>ton_package.__path__<span style="color: black;">&#91;</span><span style="color: #ff4500;">0</span><span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'ton_fichier'</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">as</span> src</pre></td></tr></table><p class="theCode" style="display:none;">import os, ton_package
with open(os.path.join(ton_package.__path__[0], 'ton_fichier') as src</p></div>

<p>Sinon y a <a href="http://docs.python.org/2/library/pkgutil.html?highlight=pkgutil#pkgutil" rel="nofollow">pkgutil</a> pour faire ça proprement. Ca marche aussi avec les zip du coup.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-10308">
          
            <article id="comment-10308" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/ddda97fee151a28f5fa4f5f9263f649f?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/ddda97fee151a28f5fa4f5f9263f649f?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Chipster  </cite> <a class="comment-date" href="index.html#comment-10308"><time datetime="2013-06-23T20:04:11+00:00">23/06/2013 at 20:04</time></a></header>  <section class="comment-content comment"><p>Merci beaucoup pour les précisions, ça fonctionne impec :)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-12841">
          
            <article id="comment-12841" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/2f3e877fdb4fe1ca36dc033a40323ccf?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/2f3e877fdb4fe1ca36dc033a40323ccf?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Rififi  </cite> <a class="comment-date" href="index.html#comment-12841"><time datetime="2013-08-09T07:41:14+00:00">09/08/2013 at 07:41</time></a></header>  <section class="comment-content comment"><p>Salut, et merci pour le tuto.</p>
<p>Je me posais la question, est-ce que le principe du setup.py tel que vous le faites peut être utilisé pour un programme de plus grande envergure, avec plusieurs fichiers/modules ? Un genre d&#8217;installateur pour en faire un paquet pour une distribution après.</p>
<p>Bien à vous.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-kontre even thread-odd thread-alt depth-1" id="li-comment-13227">
          
            <article id="comment-13227" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">kontre  </cite> <a class="comment-date" href="index.html#comment-13227"><time datetime="2013-08-12T11:32:14+00:00">12/08/2013 at 11:32</time></a></header>  <section class="comment-content comment"><p>Pour info, Distribute a été mergé dans setuptools en mars 2013 :<br />
<a href="http://mail.python.org/pipermail/distutils-sig/2013-March/020126.html" rel="nofollow">http://mail.python.org/pipermail/distutils-sig/2013-March/020126.html</a><br />
<a href="http://pythonhosted.org/setuptools/merge.html" rel="nofollow">http://pythonhosted.org/setuptools/merge.html</a></p>
<p>(Et pour Tarek : <a href="http://mail.python.org/pipermail/distutils-sig/2013-March/020144.html" rel="nofollow">http://mail.python.org/pipermail/distutils-sig/2013-March/020144.html</a>)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-13244">
          
            <article id="comment-13244" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-13244"><time datetime="2013-08-12T17:04:45+00:00">12/08/2013 at 17:04</time></a></header>  <section class="comment-content comment"><p>@Rififi: oui c&#8217;est même le but.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-odd thread-alt depth-1" id="li-comment-13245">
          
            <article id="comment-13245" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-13245"><time datetime="2013-08-12T17:08:41+00:00">12/08/2013 at 17:08</time></a></header>  <section class="comment-content comment"><p>@kontre: faudrait tester une installation avec distribute sur un windows vierge, et pareil sous mac et nunux et voir si c&#8217;est aussi si c&#8217;est aussi simple. Là j&#8217;ai pas la foi.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-kontre odd alt thread-even depth-1" id="li-comment-13376">
          
            <article id="comment-13376" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b93cc4fb6413bbe5c837530662bee9b4?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">kontre  </cite> <a class="comment-date" href="index.html#comment-13376"><time datetime="2013-08-16T08:06:07+00:00">16/08/2013 at 08:06</time></a></header>  <section class="comment-content comment"><p>Non, justement, setuptools va récupérer les améliorations de distribute, donc il est plutôt conseillé de rester sur setuptools, qui aura le meilleur des deux (on peut toujours rêver&#8230;).</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-13544">
          
            <article id="comment-13544" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/72487ae39590539b9e0c305458f61cca?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/72487ae39590539b9e0c305458f61cca?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Fred  </cite> <a class="comment-date" href="index.html#comment-13544"><time datetime="2013-08-22T23:12:26+00:00">22/08/2013 at 23:12</time></a></header>  <section class="comment-content comment"><p>J&#8217;arrive longtemps après la bataille, mais, super article :)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-15429">
          
            <article id="comment-15429" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/437805955e9381e69429143c0fc40f6e?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/437805955e9381e69429143c0fc40f6e?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">foxmask  </cite> <a class="comment-date" href="index.html#comment-15429"><time datetime="2013-11-06T15:31:24+00:00">06/11/2013 at 15:31</time></a></header>  <section class="comment-content comment"><p>question conne : je mets un fichier settings.py dans sm_lib/sm_lib et dans core.py je fais import settings pour utiliser ma conf &#8230; quand j&#8217;installe le machin via python setup.py install, comment je fais pour que le settings.py de mon virtualenv soit pris en compte à la place de celui qu&#8217;attend de trouver core.py tout à coté de lui ?</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-15430">
          
            <article id="comment-15430" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/437805955e9381e69429143c0fc40f6e?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/437805955e9381e69429143c0fc40f6e?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">foxmask  </cite> <a class="comment-date" href="index.html#comment-15430"><time datetime="2013-11-06T15:32:02+00:00">06/11/2013 at 15:32</time></a></header>  <section class="comment-content comment"><p>ouais désolé j&#8217;arrive tard avec ma question à 2frs 6sous :)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-15431">
          
            <article id="comment-15431" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-15431"><time datetime="2013-11-06T15:59:22+00:00">06/11/2013 at 15:59</time></a></header>  <section class="comment-content comment">
<div class="wp_syntax" style="position:relative;"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">__future__</span> <span style="color: #ff7700;font-weight:bold;">import</span> absolute_imports
&nbsp;
<span style="color: #808080; font-style: italic;"># importer celui d'a côté :</span>
<span style="color: #ff7700;font-weight:bold;">from</span> sm_lib <span style="color: #ff7700;font-weight:bold;">import</span> settings
&nbsp;
<span style="color: #808080; font-style: italic;"># importer le settings en du virtualenv</span>
<span style="color: #ff7700;font-weight:bold;">import</span> settings</pre></td></tr></table><p class="theCode" style="display:none;">from __future__ import absolute_imports

# importer celui d'a côté :
from sm_lib import settings

# importer le settings en du virtualenv
import settings</p></div>

<p>Mais a priori, tu dois pas avoir de fichier settings.py dans ton virtualenv O_o</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-17967">
          
            <article id="comment-17967" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/605bbb38fd2189419dd954da66a00fa8?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/605bbb38fd2189419dd954da66a00fa8?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://www.cyber-sanktuary.fr/' rel='external nofollow' class='url'>Mr Cyberfighter.</a>  </cite> <a class="comment-date" href="index.html#comment-17967"><time datetime="2014-01-07T23:50:12+00:00">07/01/2014 at 23:50</time></a></header>  <section class="comment-content comment"><p>Salut les pythons de haut niveau, ce poste m&#8217;a plus appris sur les outils a utiliser concernant l&#8217;affichage du README et des autres outils de packaging que distutils dont je vient de lire le HOW-TO pour la première fois.<br />
Ca vole haut ici et je suis un disciple de Tarek qui a écrit le meilleur bouquin pour débutants sur python 2.*.* je trouve.<br />
J&#8217;ai atterrie ici par un lien car je cherche a poster un module sur PYPi qui est déjà distribuer par le biais de mon site.<br />
En faite mon module n&#8217;est composer que d&#8217;un seule fichier et il faut que j&#8217;arrive a le packager correctement afin de l&#8217;uploader.<br />
L&#8217;auteur est très didactique et sympa, je reviendrai voir les articles futures ici.<br />
Merci et bravo a l&#8217;auteur qui ne rentre pas dans les détails mais définis plutôt des grandes lignes.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-17978">
          
            <article id="comment-17978" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-17978"><time datetime="2014-01-08T12:27:27+00:00">08/01/2014 at 12:27</time></a></header>  <section class="comment-content comment"><p>Biz a tarek, gloire à tarek, praise to tarek. Et to mozilla.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-18801">
          
            <article id="comment-18801" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/605bbb38fd2189419dd954da66a00fa8?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/605bbb38fd2189419dd954da66a00fa8?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://www.cyber-sanktuary.fr/' rel='external nofollow' class='url'>Mr Cyberfighter.</a>  </cite> <a class="comment-date" href="index.html#comment-18801"><time datetime="2014-01-22T05:47:19+00:00">22/01/2014 at 05:47</time></a></header>  <section class="comment-content comment"><p>J&#8217;ai finalement réussi a créer un paquetage grâce a la fonction distutils.core.setup() qui en fait des choses, j&#8217;en ai profiter pour écrire un tutoriel minimal sur le sujet:<br />
<a href="http://www.cyber-sanktuary.fr/Programmation/Codes/Tutoriel/py_code_00000.py" rel="nofollow">Uploader un paquetage sur PyPI grâce a au module distutils</a><br />
J&#8217;espère que ça peut aider ceux a qui la doc du module distutils fait peur que j&#8217;invite a lire le<br />
<a href="http://docs.python.org/2/distutils/index.html" rel="nofollow">HOW-TO distutils.</a><br />
Et merci pour l&#8217;info concernant le ReStructuredText dont je vous invite a lire:<br />
<a href="http://docutils.sourceforge.net/rst.html" rel="nofollow">-) la documentation<br />
</a><a href="http://docutils.sourceforge.net/sandbox/wilk/french/quickstart-fr.html" rel="nofollow">-) Le quickstart en français.</a><br />
Afin de vous familiariser avec ce format.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-19187">
          
            <article id="comment-19187" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/1f525aea4d5dc60d93b0eae9801caf93?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/1f525aea4d5dc60d93b0eae9801caf93?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Zanguu  </cite> <a class="comment-date" href="index.html#comment-19187"><time datetime="2014-01-31T10:41:15+00:00">31/01/2014 at 10:41</time></a></header>  <section class="comment-content comment"><p>@Morgotth, en Rst je sais pas mais en Markdown un tableau ça se déclare (environ) comme ça (indentation optionnelle) :<br />
<code>121122</code></p>
<p>Et ça je le fait &#8220;à la main&#8221; quasiment à chaque projet =D</p>
<p>Mais la table et peut être un mauvais exemple pour un langage censé servir à mettre en forme du texte et pas spécialement des données.</p>
<p>Sinon, je ne poste pas ici juste parce que j&#8217;aime bien contredire les gens ou faire du &#8220;nécroposting&#8221; (même si sur un blog ça compte pas pour de vrai), mais pour savoir quels outils python vous utilisez pour parser un fichier markdown en python (pour enregistrer/afficher) et/ou javascript (pour du live preview).<br />
C&#8217;est ma semaine &#8220;j&#8217;me ferais bien un peu de Markdown&#8221; et du coup je cherche des sources.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-19188">
          
            <article id="comment-19188" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://1.gravatar.com/avatar/1f525aea4d5dc60d93b0eae9801caf93?s=80&#038;d=retro&#038;r=x' srcset='http://1.gravatar.com/avatar/1f525aea4d5dc60d93b0eae9801caf93?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Zanguu  </cite> <a class="comment-date" href="index.html#comment-19188"><time datetime="2014-01-31T10:43:21+00:00">31/01/2014 at 10:43</time></a></header>  <section class="comment-content comment"><p>La preview des comm&#8230;</p>
<p>donc, je fait comme ça sans les espace:<br />
<code>&lt;table&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</code></p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-25779">
          
            <article id="comment-25779" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/597a5e7bd53e6318bb5865c2a1bd99d0?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/597a5e7bd53e6318bb5865c2a1bd99d0?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">georges  </cite> <a class="comment-date" href="index.html#comment-25779"><time datetime="2014-05-07T12:32:56+00:00">07/05/2014 at 12:32</time></a></header>  <section class="comment-content comment"><p>merci pour ce tuto, il m&#8217;a vraiment aidé durant mon stage de fin d&#8217;études.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-104021">
          
            <article id="comment-104021" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/23a203247b79b9983e02f3c38aa68716?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/23a203247b79b9983e02f3c38aa68716?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">inquityl  </cite> <a class="comment-date" href="index.html#comment-104021"><time datetime="2014-07-31T20:22:11+00:00">31/07/2014 at 20:22</time></a></header>  <section class="comment-content comment"><p>Vraiment bien ton article, je vais aller regarder le reste &#8230;</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-155671">
          
            <article id="comment-155671" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/02750b4cc6dd3cf5450573623a020105?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/02750b4cc6dd3cf5450573623a020105?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Mathieu  </cite> <a class="comment-date" href="index.html#comment-155671"><time datetime="2015-02-10T18:16:42+00:00">10/02/2015 at 18:16</time></a></header>  <section class="comment-content comment"><p><span class="merci"></span>Le 0bin du code est mort (404).</p>
<p>&#8216;Voulez pas mettre directement l&#8217;URL officielle des classifiers <a href="https://pypi.python.org/pypi?%3Aaction=list_classifiers" rel="nofollow">https://pypi.python.org/pypi?%3Aaction=list_classifiers</a>.</p>
<p>Ça me parait plus sain.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-162934">
          
            <article id="comment-162934" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/364cdc3b3e5a65ffcb8072ae92e48291?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/364cdc3b3e5a65ffcb8072ae92e48291?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='https://anthony-monthe.me/' rel='external nofollow' class='url'>ZuluPro</a>  </cite> <a class="comment-date" href="index.html#comment-162934"><time datetime="2015-07-04T14:37:20+00:00">04/07/2015 at 14:37</time></a></header>  <section class="comment-content comment"><p>Je suis passé devant un package: <a href="https://pypi.python.org/pypi/twine" rel="nofollow">https://pypi.python.org/pypi/twine</a></p>
<p>Et là je me suis dit: &#8220;Sam et Max m&#8217;ont fait transité mon mot de passe en clair ?&#8221; (surtout Sam en vrai :D)</p>
<p>Plus sérieusement, les communications avec PyPI sont actuellement en HTTP (sans le S),</p>
<p>Donc visible par tout les curieux.</p>
<p>The solution is : &#8220;Twine&#8221;, et ça vous apportera des trucs sympas en plus.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-162940">
          
            <article id="comment-162940" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-162940"><time datetime="2015-07-04T22:02:53+00:00">04/07/2015 at 22:02</time></a></header>  <section class="comment-content comment"><p>Twine est sorti en 2013, l&#8217;article date de 2012 (déjà ! :)). Faudra que je fasse une mise à jour.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-170619">
          
            <article id="comment-170619" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/867ee22e5afe0820da960e90ebe75f08?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/867ee22e5afe0820da960e90ebe75f08?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Gerardo  </cite> <a class="comment-date" href="index.html#comment-170619"><time datetime="2015-12-14T18:56:03+00:00">14/12/2015 at 18:56</time></a></header>  <section class="comment-content comment"><p>Trois ans après, merci pour l&#8217;article qui m&#8217;a été super utile !</p>
<p>Et aussi une remarque au sujet de l&#8217;utilisation de <strong>all</strong> dans un module. Si ca restreint effectivement ce qui est importable  avec un <code> from mymodule import * </code>, ca ne semble pas trop aider pour ce qui est de la completion.</p>
<p>Dans ipython, avec l&#8217;exemple du tuto, un <code>import core</code> suivi de <code>core.TAB</code> propose bien <code>core.datetime core.proclamer</code>.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-170620">
          
            <article id="comment-170620" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/867ee22e5afe0820da960e90ebe75f08?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/867ee22e5afe0820da960e90ebe75f08?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Gerardo  </cite> <a class="comment-date" href="index.html#comment-170620"><time datetime="2015-12-14T19:04:45+00:00">14/12/2015 at 19:04</time></a></header>  <section class="comment-content comment"><p>Bon en fait il y a moyen de restreindre la complétion de IPython à ce qui est présent dans <strong>all</strong>  (voir  <a href="http://stackoverflow.com/questions/19663958/hide-imported-modules-to-interpreter" rel="nofollow">ici</a> )</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-177212">
          
            <article id="comment-177212" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b762db391f5e802cf9f7a5423f4af771?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b762db391f5e802cf9f7a5423f4af771?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">ast  </cite> <a class="comment-date" href="index.html#comment-177212"><time datetime="2016-03-17T14:34:02+00:00">17/03/2016 at 14:34</time></a></header>  <section class="comment-content comment"><p>Mais c&#8217;est qu&#8217;elle a du succès cette lib !</p>
<p>Downloads (All Versions):</p>
<p>2 downloads in the last day</p>
<p>20 downloads in the last week</p>
<p>50 downloads in the last month</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-177213">
          
            <article id="comment-177213" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-177213"><time datetime="2016-03-17T15:21:33+00:00">17/03/2016 at 15:21</time></a></header>  <section class="comment-content comment"><p>Proclamons !</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-180989">
          
            <article id="comment-180989" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/633ada55ad6d9831e08a6ae23270baf4?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/633ada55ad6d9831e08a6ae23270baf4?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">ast  </cite> <a class="comment-date" href="index.html#comment-180989"><time datetime="2016-09-09T13:18:01+00:00">09/09/2016 at 13:18</time></a></header>  <section class="comment-content comment"><p>Je viens d&#8217;envoyer une lib et je constate que le rendu du fichier README.md est déguelasse. Je l&#8217;ai écrit avec le Bloc-note de windows, ce ne doit pas être la bonne façon de faire</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-181557">
          
            <article id="comment-181557" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/f5c2f951a1f871885721c4c0ee37108b?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/f5c2f951a1f871885721c4c0ee37108b?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Vanil  </cite> <a class="comment-date" href="index.html#comment-181557"><time datetime="2016-10-03T18:26:28+00:00">03/10/2016 at 18:26</time></a></header>  <section class="comment-content comment"><p>Cool</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-186069">
          
            <article id="comment-186069" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/5ac0da34282ea2678791a16633c79b74?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/5ac0da34282ea2678791a16633c79b74?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://infozesk.com' rel='external nofollow' class='url'>Nicolas Rouviere</a>  </cite> <a class="comment-date" href="index.html#comment-186069"><time datetime="2017-03-05T05:29:00+00:00">05/03/2017 at 05:29</time></a></header>  <section class="comment-content comment"><p>La méthode par <code>python setup.py register</code> ne fonctionne plus:</p>
<p><code></p>
<p>Registering zesk06 to https://upload.pypi.org/legacy/</p>
<p>Server response (404): Not Found</p>
<p></code></p>
<p>Maintenant il <i>semble</i> obligatoire de passer par twine:</p>
<p><code></p>
<p>$ pip install twine</p>
<p>$ twine upload sdist/*.tar.gz -u USERNAME -p PASSWORD</p>
<p></code></p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor odd alt thread-even depth-1" id="li-comment-186082">
          
            <article id="comment-186082" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-186082"><time datetime="2017-03-05T15:11:14+00:00">05/03/2017 at 15:11</time></a></header>  <section class="comment-content comment"><p>Voila qui est interessant.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-187797">
          
            <article id="comment-187797" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/3cd0c6b800c04b82072bead54060f926?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/3cd0c6b800c04b82072bead54060f926?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn"><a href='http://www.roboticia.com' rel='external nofollow' class='url'>jehl</a>  </cite> <a class="comment-date" href="index.html#comment-187797"><time datetime="2017-06-19T11:12:00+00:00">19/06/2017 at 11:12</time></a></header>  <section class="comment-content comment"><p>En effet, register &#8221; is no longer supported&#8221; mais sdist upload fonctionne toujours. Il est donc possible de s&#8217;en tirer en rajoutant un fichier .pypirc dans $HOME et avec le contenu suivant :</p>
<p>[distutils]</p>
<p>index-servers =</p>
<p>pypi</p>
<p>[pypi]</p>
<p>repository: <a href="https://upload.pypi.org/legacy/" rel="nofollow">https://upload.pypi.org/legacy/</a></p>
<p>username: moi</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-190050">
          
            <article id="comment-190050" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/0cf742bb8c379253d5f200dd467b9422?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/0cf742bb8c379253d5f200dd467b9422?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Yann  </cite> <a class="comment-date" href="index.html#comment-190050"><time datetime="2017-10-09T18:53:08+00:00">09/10/2017 at 18:53</time></a></header>  <section class="comment-content comment"><p>Bonjour, et merci pour cet article ! Et pour votre site !</p>
<p>J&#8217;ai bien réussi à créér une petite lib test, et à l&#8217;installer avec setup.py&#8230; je ne suis pas encore allé jusqu&#8217;à la mettre sur pypi car je n&#8217;ai pas envie de polluer pypi avec une lib qui ne sert pas à grand chose, mais j&#8217;aurais deux questions à ce sujet:</p>
<p>peut on publier sur pypi que des lib (dans le sens &#8220;module&#8221; python) ou bien peut on s&#8217;en servir pour distribuer des programmes en python qui ne soient pas des modules au sens strict ?<br />
j&#8217;ai un programme en python qui s&#8217;utilise en ligne de commande (j&#8217;ai fait ca avec argparse) ; quand je veux l&#8217;installer chez moi, je modifie les droits pour qu&#8217;il soit exécutable et je le place dans /usr/local/bin &#8230; et ca marche très bien. Mais je voudrais distribuer ce programme et qu&#8217;il puisse s&#8217;installer plus facilement. Du coup j&#8217;ai essayé de faire comme pour ma lib en suivant ce tuto, mais au final impossible d&#8217;installer le setup.py ! Je sais que le entry_point permet de créér des commandes, mais sans arguments, ce qui ne me convient pas&#8230; du coup, y&#8217;a -t -il une autre solution&#8230; ou bien suis je complètement a coté de la plaque, et setuptools n&#8217;est pas fait pour ca ?</p>
<p>Merci :-)</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-odd thread-alt depth-1" id="li-comment-190057">
          
            <article id="comment-190057" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-190057"><time datetime="2017-10-10T11:28:40+00:00">10/10/2017 at 11:28</time></a></header>  <section class="comment-content comment"><p>Les programmes cmd sont ok</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-191192">
          
            <article id="comment-191192" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/b5be78287e151cf5fa51121eb9a11fca?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/b5be78287e151cf5fa51121eb9a11fca?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">ygnobl  </cite> <a class="comment-date" href="index.html#comment-191192"><time datetime="2017-12-05T01:50:57+00:00">05/12/2017 at 01:50</time></a></header>  <section class="comment-content comment"><p>Bonsoir, je viens de tenter de faire l&#8217;install de sm-lib via pip et j&#8217;ai eu l&#8217;erreur suivante :</p>
<p><code>Collecting sm_lib</p>
<p>Using cached sm_lib-0.0.1.tar.gz</p>
<p>Complete output from command python setup.py egg_info:</p>
<p>Traceback (most recent call last):</p>
<p>File "", line 1, in </p>
<p>File "C:&#092;Users&#092;ygnobl&#092;AppData&#092;Local&#092;Temp&#092;pip-build-wsia0zhr&#092;sm-lib&#092;setup.py", line 8, in </p>
<p>import sm_lib</p>
<p>File "C:&#092;Users&#092;ygnobl&#092;AppData&#092;Local&#092;Temp&#092;pip-build-wsia0zhr&#092;sm-lib&#092;sm_lib&#092;__init__.py", line 12, in </p>
<p>from core import proclamer</p>
<p>ModuleNotFoundError: No module named 'core'</p>
<pre><code>----------------------------------------
</code></pre>
<p>Command "python setup.py egg_info" failed with error code 1 in C:&#092;Users&#092;ygnobl&#092;AppData&#092;Local&#092;Temp&#092;pip-build-_dlgmx13&#092;sm-lib&#092;</code></p>
<p>Comme malgré l&#8217;heure je ne suis pas trop idiot, bien qu&#8217;étant sous windows, il s&#8217;agit de la réponse que j&#8217;eûs sur un terminal ouvert en admin, après l&#8217;avoir eue en utilisateur. Vu que j&#8217;ai déjà installé des modules pour bricoler, je me dis que l&#8217;info mérite d&#8217;être remontée.</p>
<p>Au passage, gros merci pour ce blog. Je m&#8217;autoforme à python en dilettante, et c&#8217;est une énorme (cmb) source d&#8217;infos pour essayer d&#8217;apprendre les bonnes manières.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-odd thread-alt depth-1" id="li-comment-191327">
          
            <article id="comment-191327" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-191327"><time datetime="2017-12-12T14:01:48+00:00">12/12/2017 at 14:01</time></a></header>  <section class="comment-content comment"><p>C&#8217;est un vieil article valable uniquement pour Python 2 qu&#8217;il faudra un jour que j&#8217;update.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment odd alt thread-even depth-1" id="li-comment-193735">
          
            <article id="comment-193735" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://0.gravatar.com/avatar/09d16aa1a953e9055c41003d93636337?s=80&#038;d=retro&#038;r=x' srcset='http://0.gravatar.com/avatar/09d16aa1a953e9055c41003d93636337?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Frankfourre  </cite> <a class="comment-date" href="index.html#comment-193735"><time datetime="2018-04-19T13:16:13+00:00">19/04/2018 at 13:16</time></a></header>  <section class="comment-content comment"><p>Salut les gars !</p>
<p>Vraiment fan de votre blog, ma principale source d&#8217;information pour tous les petits tips en python ;)</p>
<p>J&#8217;aimerais quelques précisions sur le <code> __all__</code> : y a t il moyen de lui assigner automatiquement la liste des fonctions définies dans le fichier, <strong>et uniquement ceux là </strong> ? Ca me parait laborieux de devoir maintenir à jour cette liste à la main dans tous les fichiers d&#8217;un gros projet&#8230;</p>
<p>Merci beaucoup !</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
        <li class="comment byuser comment-author-sam bypostauthor even thread-odd thread-alt depth-1" id="li-comment-193852">
          
            <article id="comment-193852" class="comment"><div class="row-fluid"><div class="comment-avatar span2"><img alt='' src='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=80&#038;d=retro&#038;r=x' srcset='http://2.gravatar.com/avatar/bf9ecde8f5e286de6ce5c80206cf9dd6?s=160&#038;d=retro&#038;r=x 2x' class='avatar avatar-80 photo' height='80' width='80' /></div><div class="span10"> <header class="comment-meta comment-author vcard"><cite class="fn">Sam <span> Post author</span> </cite> <a class="comment-date" href="index.html#comment-193852"><time datetime="2018-04-23T15:27:17+00:00">23/04/2018 at 15:27</time></a></header>  <section class="comment-content comment"><p>Plusieurs choix:</p>
<ul>
<li>
<p>créer un décorateur et l&#8217;appliquer à chaque fonction</p>
</li>
<li>
<p>créer une fonction qui parse locals(), et retourne une liste de fonctions en filtrant celles avec un différent chemin d&#8217;import</p>
</li>
<li>
<p>créer un import hook qui fait ça avec l&#8217;ast</p>
</li>
</ul>
<p>Mais honnêtement <strong>all</strong> n&#8217;est utile que pour &#8220;*&#8221;, donc pas certain que ça vaille le coup de s&#8217;emmerder.</p>
</section></div></div></article>          <!-- #comment-## -->
        </li><!-- #comment-## -->
              </ul><!-- .commentlist -->
            <p class="nocomments">Comments are closed.</p></div><!-- #comments .comments-area -->


<div class="ie-comment">
Des questions Python sans rapport avec l'article ? Posez-les sur <a href="http://indexerror.net">IndexError</a>.

</div>
        
          <hr class="featurette-divider __after_loop">
          <nav id="nav-below" class="navigation" role="navigation">

              <h3 class="assistive-text">
                Post navigation              </h3>

              <ul class="pager">
                                  <li class="previous">
                    <span class="nav-previous">
                      <a href="../comment-savoir-quil-est-temps-de-faire-une-pause/index.html" rel="prev"><span class="meta-nav">&larr;</span> Comment savoir qu&#8217;il est temps de faire une pause ?</a>                    </span>
                  </li>
                                                  <li class="next">
                    <span class="nav-next">
                        <a href="../error-virtualenvwrapper_log_dir-is-not-set-et-importerror-cannot-import-name-urandom/index.html" rel="next">&#8220;ERROR: VIRTUALENVWRAPPER_LOG_DIR is not set&#8221; et &#8220;ImportError: cannot import name urandom&#8221; <span class="meta-nav">&rarr;</span></a>                    </span>
                  </li>
                              </ul>

          </nav><!-- #nav-below .navigation -->

        
        
                </div><!--.article-container -->

                    
        <div class="span3 right tc-sidebar">
           <div id="right" class="widget-area" role="complementary">
                                                      <aside id="text-9" class="widget widget_text">			<div class="textwidget"><p style="font-size:1.3em"><a href="../mais-ou-je-suis-tombee-la/index.html">Mais où je suis tombé(e) là ?</a></p></div>
		</aside><aside id="text-7" class="widget widget_text">			<div class="textwidget"><img src="http://www.adobe.com/images/pdficon_small.png" width="16" height="16"/> <a href="http://pdfcrowd.com/url_to_pdf/">Télécharger cette page en PDF</a> </div>
		</aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"><br><br><a href="../appel-a-contributeurs-impertinents/index.html"><img src="../wp-content/uploads/2012/07/contributeur.png" width="288px" style="vertical-align: middle;margin-top:-40px;margin-bottom:10px;"></a> </div>
		</aside><aside id="blog_subscription-4" class="widget jetpack_subscription_widget"><h3 class="widget-title">Souscrire à nos conneries</h3>
			<form action="index.html#" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-4">
				<div id="subscribe-text"><p>Entrez votre adresse mail et vous recevrez une notification à chaque nouvel article.</p>
</div><p>Join 1,492 other subscribers</p>
					<p id="subscribe-email">
						<label id="jetpack-subscribe-label" for="subscribe-field-blog_subscription-4">
							Email Address						</label>
						<input type="email" name="email" required="required" class="required" value="" id="subscribe-field-blog_subscription-4" placeholder="Email Address" />
					</p>

					<p id="subscribe-submit">
						<input type="hidden" name="action" value="subscribe" />
						<input type="hidden" name="source" value="http://sametmax.com/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi/" />
						<input type="hidden" name="sub-type" value="widget" />
						<input type="hidden" name="redirect_fragment" value="blog_subscription-4" />
												<input type="submit" value="J&#039;adhère, bon dieu !" name="jetpack_subscriptions_widget" />
					</p>
							</form>

			<script>
			/*
			Custom functionality for safari and IE
			 */
			(function( d ) {
				// In case the placeholder functionality is available we remove labels
				if ( ( 'placeholder' in d.createElement( 'input' ) ) ) {
					var label = d.querySelector( 'label[for=subscribe-field-blog_subscription-4]' );
						label.style.clip 	 = 'rect(1px, 1px, 1px, 1px)';
						label.style.position = 'absolute';
						label.style.height   = '1px';
						label.style.width    = '1px';
						label.style.overflow = 'hidden';
				}

				// Make sure the email value is filled in before allowing submit
				var form = d.getElementById('subscribe-blog-blog_subscription-4'),
					input = d.getElementById('subscribe-field-blog_subscription-4'),
					handler = function( event ) {
						if ( '' === input.value ) {
							input.focus();

							if ( event.preventDefault ){
								event.preventDefault();
							}

							return false;
						}
					};

				if ( window.addEventListener ) {
					form.addEventListener( 'submit', handler, false );
				} else {
					form.attachEvent( 'onsubmit', handler );
				}
			})( document );
			</script>
				
</aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h3 class="widget-title">TagCloud</h3><div class="tagcloud"><a href="../tag/0bin/index.html" class="tag-cloud-link tag-link-148 tag-link-position-1" style="font-size: 9.04pt;" aria-label="0bin (11 items)">0bin</a>
<a href="../tag/angularjs/index.html" class="tag-cloud-link tag-link-443 tag-link-position-2" style="font-size: 8.4pt;" aria-label="angularjs (9 items)">angularjs</a>
<a href="../tag/asyncio/index.html" class="tag-cloud-link tag-link-922 tag-link-position-3" style="font-size: 9.04pt;" aria-label="asyncio (11 items)">asyncio</a>
<a href="../tag/autobahn/index.html" class="tag-cloud-link tag-link-979 tag-link-position-4" style="font-size: 8.4pt;" aria-label="autobahn (9 items)">autobahn</a>
<a href="../tag/bash/index.html" class="tag-cloud-link tag-link-14 tag-link-position-5" style="font-size: 10.8pt;" aria-label="bash (19 items)">bash</a>
<a href="../tag/bitcoin/index.html" class="tag-cloud-link tag-link-320 tag-link-position-6" style="font-size: 8.4pt;" aria-label="bitcoin (9 items)">bitcoin</a>
<a href="../tag/blog/index.html" class="tag-cloud-link tag-link-107 tag-link-position-7" style="font-size: 11.84pt;" aria-label="blog (26 items)">blog</a>
<a href="../tag/cache/index.html" class="tag-cloud-link tag-link-333 tag-link-position-8" style="font-size: 8.72pt;" aria-label="cache (10 items)">cache</a>
<a href="../tag/comprehension-lists/index.html" class="tag-cloud-link tag-link-20 tag-link-position-9" style="font-size: 8pt;" aria-label="comprehension-lists (8 items)">comprehension-lists</a>
<a href="../tag/crossbar/index.html" class="tag-cloud-link tag-link-1046 tag-link-position-10" style="font-size: 8.4pt;" aria-label="crossbar (9 items)">crossbar</a>
<a href="../tag/css/index.html" class="tag-cloud-link tag-link-188 tag-link-position-11" style="font-size: 8.4pt;" aria-label="css (9 items)">css</a>
<a href="../tag/cul-2/index.html" class="tag-cloud-link tag-link-33 tag-link-position-12" style="font-size: 9.28pt;" aria-label="cul (12 items)">cul</a>
<a href="../tag/dict/index.html" class="tag-cloud-link tag-link-435 tag-link-position-13" style="font-size: 8pt;" aria-label="dict (8 items)">dict</a>
<a href="../tag/django/index.html" class="tag-cloud-link tag-link-28 tag-link-position-14" style="font-size: 16pt;" aria-label="django (89 items)">django</a>
<a href="../tag/don/index.html" class="tag-cloud-link tag-link-1210 tag-link-position-15" style="font-size: 10.48pt;" aria-label="don (17 items)">don</a>
<a href="../tag/encoding/index.html" class="tag-cloud-link tag-link-54 tag-link-position-16" style="font-size: 8.72pt;" aria-label="encoding (10 items)">encoding</a>
<a href="../tag/git/index.html" class="tag-cloud-link tag-link-18 tag-link-position-17" style="font-size: 12.88pt;" aria-label="git (35 items)">git</a>
<a href="../tag/http/index.html" class="tag-cloud-link tag-link-204 tag-link-position-18" style="font-size: 9.6pt;" aria-label="http (13 items)">http</a>
<a href="../tag/import/index.html" class="tag-cloud-link tag-link-215 tag-link-position-19" style="font-size: 8.4pt;" aria-label="import (9 items)">import</a>
<a href="../tag/ipython/index.html" class="tag-cloud-link tag-link-164 tag-link-position-20" style="font-size: 8.72pt;" aria-label="ipython (10 items)">ipython</a>
<a href="../tag/iterable/index.html" class="tag-cloud-link tag-link-217 tag-link-position-21" style="font-size: 9.84pt;" aria-label="iterable (14 items)">iterable</a>
<a href="../tag/javascript/index.html" class="tag-cloud-link tag-link-96 tag-link-position-22" style="font-size: 14.08pt;" aria-label="javascript (50 items)">javascript</a>
<a href="../tag/jquery/index.html" class="tag-cloud-link tag-link-112 tag-link-position-23" style="font-size: 8pt;" aria-label="jquery (8 items)">jquery</a>
<a href="../tag/linux/index.html" class="tag-cloud-link tag-link-238 tag-link-position-24" style="font-size: 9.04pt;" aria-label="linux (11 items)">linux</a>
<a href="../tag/meta/index.html" class="tag-cloud-link tag-link-102 tag-link-position-25" style="font-size: 17.52pt;" aria-label="meta (138 items)">meta</a>
<a href="../tag/mysql/index.html" class="tag-cloud-link tag-link-82 tag-link-position-26" style="font-size: 8pt;" aria-label="mysql (8 items)">mysql</a>
<a href="../tag/nginx/index.html" class="tag-cloud-link tag-link-183 tag-link-position-27" style="font-size: 9.84pt;" aria-label="nginx (14 items)">nginx</a>
<a href="../tag/nsfw/index.html" class="tag-cloud-link tag-link-319 tag-link-position-28" style="font-size: 9.84pt;" aria-label="nsfw (14 items)">nsfw</a>
<a href="../tag/pep8/index.html" class="tag-cloud-link tag-link-552 tag-link-position-29" style="font-size: 8pt;" aria-label="pep8 (8 items)">pep8</a>
<a href="../tag/pip/index.html" class="tag-cloud-link tag-link-344 tag-link-position-30" style="font-size: 8.72pt;" aria-label="pip (10 items)">pip</a>
<a href="../tag/poo/index.html" class="tag-cloud-link tag-link-549 tag-link-position-31" style="font-size: 10pt;" aria-label="poo (15 items)">poo</a>
<a href="../tag/python/index.html" class="tag-cloud-link tag-link-4 tag-link-position-32" style="font-size: 22pt;" aria-label="python (496 items)">python</a>
<a href="../tag/python-3/index.html" class="tag-cloud-link tag-link-365 tag-link-position-33" style="font-size: 8.4pt;" aria-label="python 3 (9 items)">python 3</a>
<a href="../tag/redis/index.html" class="tag-cloud-link tag-link-196 tag-link-position-34" style="font-size: 8.72pt;" aria-label="redis (10 items)">redis</a>
<a href="../tag/ruby/index.html" class="tag-cloud-link tag-link-325 tag-link-position-35" style="font-size: 8pt;" aria-label="ruby (8 items)">ruby</a>
<a href="../tag/shell/index.html" class="tag-cloud-link tag-link-202 tag-link-position-36" style="font-size: 8.72pt;" aria-label="shell (10 items)">shell</a>
<a href="../tag/sublime-text/index.html" class="tag-cloud-link tag-link-76 tag-link-position-37" style="font-size: 8.4pt;" aria-label="sublime text (9 items)">sublime text</a>
<a href="../tag/ubuntu/index.html" class="tag-cloud-link tag-link-255 tag-link-position-38" style="font-size: 10.24pt;" aria-label="ubuntu (16 items)">ubuntu</a>
<a href="../tag/unicode/index.html" class="tag-cloud-link tag-link-53 tag-link-position-39" style="font-size: 8.4pt;" aria-label="unicode (9 items)">unicode</a>
<a href="../tag/unit-tests/index.html" class="tag-cloud-link tag-link-302 tag-link-position-40" style="font-size: 8.72pt;" aria-label="unit tests (10 items)">unit tests</a>
<a href="../tag/unpacking/index.html" class="tag-cloud-link tag-link-180 tag-link-position-41" style="font-size: 8pt;" aria-label="unpacking (8 items)">unpacking</a>
<a href="../tag/virtualenv/index.html" class="tag-cloud-link tag-link-259 tag-link-position-42" style="font-size: 9.04pt;" aria-label="virtualenv (11 items)">virtualenv</a>
<a href="../tag/wamp/index.html" class="tag-cloud-link tag-link-1039 tag-link-position-43" style="font-size: 10pt;" aria-label="wamp (15 items)">wamp</a>
<a href="../tag/web-2/index.html" class="tag-cloud-link tag-link-758 tag-link-position-44" style="font-size: 8pt;" aria-label="web (8 items)">web</a>
<a href="../tag/yield/index.html" class="tag-cloud-link tag-link-287 tag-link-position-45" style="font-size: 8.4pt;" aria-label="yield (9 items)">yield</a></div>
</aside><aside id="text-5" class="widget widget_text"><h3 class="widget-title"> Envoyez des sioux</h3>			<div class="textwidget"><p><img src="../wp-content/uploads/2013/07/bitcoin.png" width="16" height="16"/> On adooooore les bitcoins :</p>

<p>

<a href="bitcoin:19zAHPPuce4BAhsdy9KaFwVLurEJXMhMAn?amount=1X8&label=SamEtMax">19zAHPPuce4BAhsdy9KaFwVLurEJXMhMAn</a>

</p></div>
		</aside><aside id="nav_menu-3" class="widget widget_nav_menu"><h3 class="widget-title">Nos projets</h3><div class="menu-nos-projets-container"><ul id="menu-nos-projets" class="menu"><li id="menu-item-15841" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15841"><a href="http://multiboards.net/">Multiboards &#8211; l&#8217;actu geek fr en une page</a></li>
<li id="menu-item-15837" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15837"><a href="http://0bin.net">0bin &#8211; le pastebin chiffré</a></li>
<li id="menu-item-15838" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15838"><a href="http://allthatcounts.net">All that counts &#8211; compteur pour jeux</a></li>
<li id="menu-item-15839" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15839"><a href="https://github.com/sametmax/django-quicky">Django quicky &#8211; quick views for Django</a></li>
<li id="menu-item-15840" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15840"><a href="https://github.com/sametmax/VizHash.js">VizHash.js &#8211; Hash visuels</a></li>
<li id="menu-item-15842" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-15842"><a href="https://github.com/sametmax/codes-des-articles">Code des articles du blog</a></li>
</ul></div></aside><aside id="text-11" class="widget widget_text"><h3 class="widget-title"> </h3>			<div class="textwidget"> </div>
		</aside><aside id="meta-3" class="widget widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="../wp-login.php.html">Log in</a></li>
			<li><a href="../feed.1">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="../comments/feed/index.html">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</aside>                                              </div><!-- #left or #right-->
        </div><!--.tc-sidebar -->

        
        </div><!--.row -->
    </div><!-- .container role: main -->

    
</div><!--#main-wrapper"-->

		<!-- FOOTER -->
		<footer id="footer" class="">
		 					<div class="container footer-widgets ">
					<div class="row widget-area" role="complementary">
												
							<div id="footer_one" class="span4">
																
										<aside id="nav_menu-2" class="widget widget_nav_menu"><h3 class="widget-title">Hors du blog</h3><div class="menu-bottom-menu-container"><ul id="menu-bottom-menu" class="menu"><li id="menu-item-2391" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2391"><a href="../contactez-nous/index.html">Page de contact</a></li>
<li id="menu-item-12230" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12230"><a href="http://twitter.com/sam_et_max">@sam_et_max sur twitter</a></li>
<li id="menu-item-12285" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12285"><a href="http://bridge.suumitsu.eu/?action=display&#038;bridge=TwitterBridge&#038;u=sam_et_max&#038;format=AtomFormat">Nos tweets en RSS</a></li>
<li id="menu-item-12231" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12231"><a href="https://github.com/sametmax/">Fork me, I&#8217;m famous (github)</a></li>
</ul></div></aside>
																							</div><!-- .{$key}_widget_class -->

						
							<div id="footer_two" class="span4">
																
										<aside id="text-8" class="widget widget_text">			<div class="textwidget">Tous les textes de ce blog, sauf signalement contraire, sont sous licence <a href="http://creativecommons.org/licenses/by/3.0/">creative common 3.0 unported</a>.</div>
		</aside>
																							</div><!-- .{$key}_widget_class -->

						
							<div id="footer_three" class="span4">
																
										<aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Toi aussi, trouve un article obsolète sur notre blog</h3>		<ul>
			<li><a href='../2019/09/index.html'>September 2019</a>&nbsp;(1)</li>
	<li><a href='../2019/06/index.html'>June 2019</a>&nbsp;(1)</li>
	<li><a href='../2019/02/index.html'>February 2019</a>&nbsp;(1)</li>
	<li><a href='../2019/01/index.html'>January 2019</a>&nbsp;(3)</li>
	<li><a href='../2018/12/index.html'>December 2018</a>&nbsp;(1)</li>
	<li><a href='../2018/09/index.html'>September 2018</a>&nbsp;(2)</li>
	<li><a href='../2018/08/index.html'>August 2018</a>&nbsp;(1)</li>
	<li><a href='../2018/07/index.html'>July 2018</a>&nbsp;(3)</li>
	<li><a href='../2018/06/index.html'>June 2018</a>&nbsp;(4)</li>
	<li><a href='../2018/05/index.html'>May 2018</a>&nbsp;(2)</li>
	<li><a href='../2018/03/index.html'>March 2018</a>&nbsp;(2)</li>
	<li><a href='../2018/02/index.html'>February 2018</a>&nbsp;(1)</li>
	<li><a href='../2017/12/index.html'>December 2017</a>&nbsp;(4)</li>
	<li><a href='../2017/11/index.html'>November 2017</a>&nbsp;(5)</li>
	<li><a href='../2017/10/index.html'>October 2017</a>&nbsp;(2)</li>
	<li><a href='../2017/09/index.html'>September 2017</a>&nbsp;(1)</li>
	<li><a href='../2017/07/index.html'>July 2017</a>&nbsp;(5)</li>
	<li><a href='../2017/06/index.html'>June 2017</a>&nbsp;(3)</li>
	<li><a href='../2017/05/index.html'>May 2017</a>&nbsp;(3)</li>
	<li><a href='../2017/04/index.html'>April 2017</a>&nbsp;(2)</li>
	<li><a href='../2017/03/index.html'>March 2017</a>&nbsp;(3)</li>
	<li><a href='../2017/02/index.html'>February 2017</a>&nbsp;(5)</li>
	<li><a href='../2017/01/index.html'>January 2017</a>&nbsp;(5)</li>
	<li><a href='../2016/10/index.html'>October 2016</a>&nbsp;(2)</li>
	<li><a href='../2016/09/index.html'>September 2016</a>&nbsp;(5)</li>
	<li><a href='../2016/08/index.html'>August 2016</a>&nbsp;(2)</li>
	<li><a href='../2016/03/index.html'>March 2016</a>&nbsp;(8)</li>
	<li><a href='../2016/02/index.html'>February 2016</a>&nbsp;(9)</li>
	<li><a href='../2016/01/index.html'>January 2016</a>&nbsp;(16)</li>
	<li><a href='../2015/12/index.html'>December 2015</a>&nbsp;(6)</li>
	<li><a href='../2015/11/index.html'>November 2015</a>&nbsp;(7)</li>
	<li><a href='../2015/10/index.html'>October 2015</a>&nbsp;(2)</li>
	<li><a href='../2015/09/index.html'>September 2015</a>&nbsp;(6)</li>
	<li><a href='../2015/08/index.html'>August 2015</a>&nbsp;(10)</li>
	<li><a href='../2015/07/index.html'>July 2015</a>&nbsp;(18)</li>
	<li><a href='../2015/06/index.html'>June 2015</a>&nbsp;(13)</li>
	<li><a href='../2015/05/index.html'>May 2015</a>&nbsp;(12)</li>
	<li><a href='../2015/04/index.html'>April 2015</a>&nbsp;(13)</li>
	<li><a href='../2015/03/index.html'>March 2015</a>&nbsp;(8)</li>
	<li><a href='../2015/02/index.html'>February 2015</a>&nbsp;(4)</li>
	<li><a href='../2015/01/index.html'>January 2015</a>&nbsp;(21)</li>
	<li><a href='../2014/12/index.html'>December 2014</a>&nbsp;(24)</li>
	<li><a href='../2014/11/index.html'>November 2014</a>&nbsp;(6)</li>
	<li><a href='../2014/10/index.html'>October 2014</a>&nbsp;(18)</li>
	<li><a href='../2014/09/index.html'>September 2014</a>&nbsp;(10)</li>
	<li><a href='../2014/08/index.html'>August 2014</a>&nbsp;(5)</li>
	<li><a href='../2014/07/index.html'>July 2014</a>&nbsp;(11)</li>
	<li><a href='../2014/06/index.html'>June 2014</a>&nbsp;(25)</li>
	<li><a href='../2014/05/index.html'>May 2014</a>&nbsp;(14)</li>
	<li><a href='../2014/04/index.html'>April 2014</a>&nbsp;(10)</li>
	<li><a href='../2014/03/index.html'>March 2014</a>&nbsp;(23)</li>
	<li><a href='../2014/02/index.html'>February 2014</a>&nbsp;(27)</li>
	<li><a href='../2014/01/index.html'>January 2014</a>&nbsp;(17)</li>
	<li><a href='../2013/12/index.html'>December 2013</a>&nbsp;(27)</li>
	<li><a href='../2013/11/index.html'>November 2013</a>&nbsp;(25)</li>
	<li><a href='../2013/10/index.html'>October 2013</a>&nbsp;(27)</li>
	<li><a href='../2013/09/index.html'>September 2013</a>&nbsp;(1)</li>
	<li><a href='../2013/08/index.html'>August 2013</a>&nbsp;(31)</li>
	<li><a href='../2013/07/index.html'>July 2013</a>&nbsp;(32)</li>
	<li><a href='../2013/06/index.html'>June 2013</a>&nbsp;(24)</li>
	<li><a href='../2013/05/index.html'>May 2013</a>&nbsp;(30)</li>
	<li><a href='../2013/04/index.html'>April 2013</a>&nbsp;(31)</li>
	<li><a href='../2013/03/index.html'>March 2013</a>&nbsp;(33)</li>
	<li><a href='../2013/02/index.html'>February 2013</a>&nbsp;(29)</li>
	<li><a href='../2013/01/index.html'>January 2013</a>&nbsp;(34)</li>
	<li><a href='../2012/12/index.html'>December 2012</a>&nbsp;(32)</li>
	<li><a href='../2012/11/index.html'>November 2012</a>&nbsp;(36)</li>
	<li><a href='../2012/10/index.html'>October 2012</a>&nbsp;(35)</li>
	<li><a href='../2012/09/index.html'>September 2012</a>&nbsp;(36)</li>
	<li><a href='../2012/08/index.html'>August 2012</a>&nbsp;(37)</li>
	<li><a href='../2012/07/index.html'>July 2012</a>&nbsp;(33)</li>
	<li><a href='../2012/06/index.html'>June 2012</a>&nbsp;(24)</li>
	<li><a href='../2012/05/index.html'>May 2012</a>&nbsp;(31)</li>
	<li><a href='../2012/04/index.html'>April 2012</a>&nbsp;(20)</li>
	<li><a href='../2012/03/index.html'>March 2012</a>&nbsp;(10)</li>
	<li><a href='../2012/02/index.html'>February 2012</a>&nbsp;(14)</li>
		</ul>
		</aside>
																							</div><!-- .{$key}_widget_class -->

																	</div><!-- .row.widget-area -->
				</div><!--.footer-widgets -->
				    				 <div class="colophon">
			 	<div class="container">
			 		<div class="row-fluid">
					    <div class="span4 social-block pull-left"><span class="tc-footer-social-links-wrapper" ><a class="social-icon icon-feed" href="../feed/rss/index.html" title="Subscribe to my rss feed"  ></a></span></div><div class="span4 credits"><p>&middot; &copy; 2019 <a href="../index.html" title="Sam &amp; Max" rel="bookmark">Sam &amp; Max</a> &middot; Designed by <a href="http://themesandco.com/">Themes &amp; Co</a> &middot;</p></div><div class="span4 backtop"><p class="pull-right"><a class="back-to-top" href="index.html#">Back to top</a></p></div>	      			</div><!-- .row-fluid -->
	      		</div><!-- .container -->
	      	</div><!-- .colophon -->
	    			</footer>
			<div style="display:none">
	<div class="grofile-hash-map-bf9ecde8f5e286de6ce5c80206cf9dd6">
	</div>
	<div class="grofile-hash-map-ac37de58294f0c881f6198a0588c02ab">
	</div>
	<div class="grofile-hash-map-b06b5d4777e2734feb91298062539ec8">
	</div>
	<div class="grofile-hash-map-bf9ecde8f5e286de6ce5c80206cf9dd6">
	</div>
	<div class="grofile-hash-map-9af2f1db7ac25f84a5b3147e781a4e0c">
	</div>
	<div class="grofile-hash-map-efca4fc75d514818d08f08413f9f15c9">
	</div>
	<div class="grofile-hash-map-502f55b818f01ac589d5708616e6bfd8">
	</div>
	<div class="grofile-hash-map-b93cc4fb6413bbe5c837530662bee9b4">
	</div>
	<div class="grofile-hash-map-02c6b21250c126f01e095a6600d7706b">
	</div>
	<div class="grofile-hash-map-1eb421219152879182f1d9639c2aa3d3">
	</div>
	<div class="grofile-hash-map-ddda97fee151a28f5fa4f5f9263f649f">
	</div>
	<div class="grofile-hash-map-2f3e877fdb4fe1ca36dc033a40323ccf">
	</div>
	<div class="grofile-hash-map-b93cc4fb6413bbe5c837530662bee9b4">
	</div>
	<div class="grofile-hash-map-72487ae39590539b9e0c305458f61cca">
	</div>
	<div class="grofile-hash-map-437805955e9381e69429143c0fc40f6e">
	</div>
	<div class="grofile-hash-map-605bbb38fd2189419dd954da66a00fa8">
	</div>
	<div class="grofile-hash-map-1f525aea4d5dc60d93b0eae9801caf93">
	</div>
	<div class="grofile-hash-map-597a5e7bd53e6318bb5865c2a1bd99d0">
	</div>
	<div class="grofile-hash-map-23a203247b79b9983e02f3c38aa68716">
	</div>
	<div class="grofile-hash-map-02750b4cc6dd3cf5450573623a020105">
	</div>
	<div class="grofile-hash-map-364cdc3b3e5a65ffcb8072ae92e48291">
	</div>
	<div class="grofile-hash-map-867ee22e5afe0820da960e90ebe75f08">
	</div>
	<div class="grofile-hash-map-b762db391f5e802cf9f7a5423f4af771">
	</div>
	<div class="grofile-hash-map-633ada55ad6d9831e08a6ae23270baf4">
	</div>
	<div class="grofile-hash-map-f5c2f951a1f871885721c4c0ee37108b">
	</div>
	<div class="grofile-hash-map-5ac0da34282ea2678791a16633c79b74">
	</div>
	<div class="grofile-hash-map-3cd0c6b800c04b82072bead54060f926">
	</div>
	<div class="grofile-hash-map-f2971b71de936b42a466cbab88b6ce45">
	</div>
	<div class="grofile-hash-map-b5be78287e151cf5fa51121eb9a11fca">
	</div>
	<div class="grofile-hash-map-09d16aa1a953e9055c41003d93636337">
	</div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"http:\/\/sametmax.com\/creer-un-setup-py-et-mettre-sa-bibliotheque-python-en-ligne-sur-pypi\/":3102};
	</script>
			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
			<div id="fb-root"></div>
			<script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=249643311490&version=v2.3'; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script>
			<script>
			jQuery( document.body ).on( 'post-load', function() {
				if ( 'undefined' !== typeof FB ) {
					FB.XFBML.parse();
				}
			} );
			</script>
						<script>
			function renderGooglePlus1() {
				if ( 'undefined' === typeof gapi ) {
					return;
				}

				jQuery( '.g-plus' ).each(function() {
					var $button = jQuery( this );

					if ( ! $button.data( 'gplus-rendered' ) ) {
						gapi.plusone.render( this, {
							href: $button.attr( 'data-href' ),
							size: $button.attr( 'data-size' ),
							annotation: $button.attr( 'data-annotation' )
						});

						$button.data( 'gplus-rendered', true );
					}
				});
			}

			(function() {
				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
				po.src = 'https://apis.google.com/js/platform.js';
				po.innerHTML = '{"parsetags": "explicit"}';
				po.onload = renderGooglePlus1;
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
			})();

			jQuery( document.body ).on( 'post-load', renderGooglePlus1 );
			</script>
				<div id="sharing_email" style="display: none;">
		<form action="index.html" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" title="This field is for validation and should not be changed" />
			
			<img style="float: right; display: none" class="loading" src="../wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a rel="nofollow" href="index.html#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
					<script type="text/javascript">
				// Pinterest shared resources
				var s = document.createElement("script");
				s.type = "text/javascript";
				s.async = true;
				s.setAttribute('data-pin-hover', true);				s.src = window.location.protocol + "//assets.pinterest.com/js/pinit.js";
				var x = document.getElementsByTagName("script")[0];
				x.parentNode.insertBefore(s, x);
				// if 'Pin it' button has 'counts' make container wider
				jQuery(window).load( function(){ jQuery( 'li.share-pinterest a span:visible' ).closest( '.share-pinterest' ).width( '80px' ); } );
			</script>
		<script type="text/javascript" src="https://platform.tumblr.com/v1/share.js"></script>		<script>
		// Don't use Pocket's default JS as it we need to force init new Pocket share buttons loaded via JS.
		function jetpack_sharing_pocket_init() {
			jQuery.getScript( 'https://widgets.getpocket.com/v1/j/btn.js?v=1' );
		}
		jQuery( document ).ready( jetpack_sharing_pocket_init );
		jQuery( document.body ).on( 'post-load', jetpack_sharing_pocket_init );
		</script>
		<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/sametmax.com\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/contact-form-7/includes/js/scripts.js%3Fver=5.0.2'></script>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201936'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var pollsL10n = {"ajax_url":"http:\/\/sametmax.com\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/wp-polls/polls-js.js%3Fver=2.73.8'></script>
<script type='text/javascript' src='../wp-content/plugins/wp-syntax/js/wp-syntax.js%3Fver=1.1'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2019Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/jetpack/modules/wpgroho.js%3Fver=4.9.7'></script>
<script type='text/javascript' src='../wp-includes/js/comment-reply.min.js%3Fver=4.9.7'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/ui/core.min.js%3Fver=1.11.4'></script>
<script type='text/javascript' src='../wp-content/themes/customizr/inc/assets/js/modernizr.min.js%3Fver=3.2.10'></script>
<script type='text/javascript' src='../wp-content/themes/customizr/inc/assets/js/retina.min.js%3Fver=3.2.10'></script>
<script type='text/javascript' src='../wp-includes/js/wp-embed.min.js%3Fver=4.9.7'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/jetpack/_inc/build/sharedaddy/sharing.min.js%3Fver=6.3.2'></script>
<script type='text/javascript'>
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
</script>
<script type='text/javascript' src='https://stats.wp.com/e-201936.js' async='async' defer='defer'></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:6.3.2',blog:'32490438',post:'3102',tz:'0',srv:'sametmax.com'} ]);
	_stq.push([ 'clickTrackerInit', '32490438', '3102' ]);
</script>
<div class="tc-btt-wrapper"><i class="btt-arrow" style="color:#394143"></i></div>	</body>
	</html>