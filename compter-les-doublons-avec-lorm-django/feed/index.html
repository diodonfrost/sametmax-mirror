<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" 
	>
<channel>
	<title>Comments on: Compter les doublons avec l&#8217;ORM Django</title>
	<atom:link href="http://sametmax.com/compter-les-doublons-avec-lorm-django/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Fri, 06 Sep 2019 09:34:15 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.9.7</generator>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16127</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Mon, 25 Nov 2013 10:53:30 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16127</guid>
		<description><![CDATA[Oui, j&#039;ai fais ça avec un projet en cours.]]></description>
		<content:encoded><![CDATA[<p>Oui, j&#8217;ai fais ça avec un projet en cours.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: zanguu</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16118</link>
		<dc:creator><![CDATA[zanguu]]></dc:creator>
		<pubDate>Mon, 25 Nov 2013 08:44:56 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16118</guid>
		<description><![CDATA[dans le count, il faudrait un expert bdd pour savoir s&#039;il y a une vraie différence de perf mais sur les résultats ça ne change pas grand chose d&#039;y mettre un &#039;*&#039; ou &#039;finish&#039;

par contre tu as oublié de changer le nom de ta table dans le group by ? parce que là je vois pas bien d&#039;où viens ce nom]]></description>
		<content:encoded><![CDATA[<p>dans le count, il faudrait un expert bdd pour savoir s&#8217;il y a une vraie différence de perf mais sur les résultats ça ne change pas grand chose d&#8217;y mettre un &#8216;*&#8217; ou &#8216;finish&#8217;</p>
<p>par contre tu as oublié de changer le nom de ta table dans le group by ? parce que là je vois pas bien d&#8217;où viens ce nom</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16076</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Sun, 24 Nov 2013 08:41:00 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16076</guid>
		<description><![CDATA[Bon, on était pas loin, &lt;code&gt;qs.query.sql_with_params()&lt;/code&gt; donne :

&lt;pre lang=&quot;sql&quot;&gt;SELECT &quot;massage_massage&quot;.&quot;finish&quot;, COUNT(&quot;massage_massage&quot;.&quot;id&quot;) AS &quot;count&quot; FROM &quot;massage_massage&quot; GROUP BY &quot;massage_massage&quot;.&quot;finish&quot;&#039;&lt;/pre&gt;]]></description>
		<content:encoded><![CDATA[<p>Bon, on était pas loin, <code>qs.query.sql_with_params()</code> donne :</p>
<pre lang="sql">SELECT "massage_massage"."finish", COUNT("massage_massage"."id") AS "count" FROM "massage_massage" GROUP BY "massage_massage"."finish"'</pre>
]]></content:encoded>
	</item>
	<item>
		<title>By: N</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16027</link>
		<dc:creator><![CDATA[N]]></dc:creator>
		<pubDate>Fri, 22 Nov 2013 21:34:22 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16027</guid>
		<description><![CDATA[Ah tiens, je découvre d&#039;autres façons de l&#039;écrire, moi je fais ça:
SELECT finish, count(*) as c FROM massage GROUP BY finish HAVING c &#062; 1]]></description>
		<content:encoded><![CDATA[<p>Ah tiens, je découvre d&#8217;autres façons de l&#8217;écrire, moi je fais ça:<br />
SELECT finish, count(*) as c FROM massage GROUP BY finish HAVING c &gt; 1</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Zanguu</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16007</link>
		<dc:creator><![CDATA[Zanguu]]></dc:creator>
		<pubDate>Fri, 22 Nov 2013 10:51:52 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16007</guid>
		<description><![CDATA[@bendem, pour m&#039;être régulièrement cassé le cul avec des requêtes à la con, si le GROUP BY est &quot;peu intuitif&quot; alors le DISTINCT j&#039;en parle même pas. Et Il ne fait pas le travail d&#039;un having comme le sous entend ton dernier message

@foxmask, environ : &lt;code&gt;Massage.objects.values(&#039;finish&#039;).annotate(total=Count(&#039;finish&#039;))&lt;/code&gt;
donne
&lt;code&gt;SELECT finish, count(*) &#039;total&#039;
FROM massage
GROUP BY finish&lt;/code&gt;

Et : &lt;code&gt;Massage.objects.values(&#039;finish&#039;).annotate(total=Count(&#039;finish&#039;)).filter(total__gt=1)&lt;/code&gt;
donne
&lt;code&gt;SELECT finish, count(*)
FROM massage
GROUP BY finish
HAVING count(*) &#062; 1&lt;/code&gt;

Sachant qu&#039;on peut apparement aussi utiliser :
&lt;code&gt;qs = Massage.objects.all()
qs.query.group_by = [&#039;finish&#039;]
qs.query.having = [&#039;count(finish) &#062; 1&#039;]&lt;/code&gt;

ps: en sql le count(*) et le count(finish) avec une clause GROUP BY reviennent (dans 99% des cas) au même]]></description>
		<content:encoded><![CDATA[<p>@bendem, pour m&#8217;être régulièrement cassé le cul avec des requêtes à la con, si le GROUP BY est &#8220;peu intuitif&#8221; alors le DISTINCT j&#8217;en parle même pas. Et Il ne fait pas le travail d&#8217;un having comme le sous entend ton dernier message</p>
<p>@foxmask, environ : <code>Massage.objects.values('finish').annotate(total=Count('finish'))</code><br />
donne<br />
<code>SELECT finish, count(*) 'total'<br />
FROM massage<br />
GROUP BY finish</code></p>
<p>Et : <code>Massage.objects.values('finish').annotate(total=Count('finish')).filter(total__gt=1)</code><br />
donne<br />
<code>SELECT finish, count(*)<br />
FROM massage<br />
GROUP BY finish<br />
HAVING count(*) &gt; 1</code></p>
<p>Sachant qu&#8217;on peut apparement aussi utiliser :<br />
<code>qs = Massage.objects.all()<br />
qs.query.group_by = ['finish']<br />
qs.query.having = ['count(finish) &gt; 1']</code></p>
<p>ps: en sql le count(*) et le count(finish) avec une clause GROUP BY reviennent (dans 99% des cas) au même</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16006</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Fri, 22 Nov 2013 10:37:52 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16006</guid>
		<description><![CDATA[@bendem Le but n&#039;est pas de supprimer les doublons, mais de les trouver.

@kikine : pas sur, il faut regarder ce que l&#039;ORM genère, ce n&#039;est pas un humain.

@foxmask, si j&#039;y pense je regarderai.]]></description>
		<content:encoded><![CDATA[<p>@bendem Le but n&#8217;est pas de supprimer les doublons, mais de les trouver.</p>
<p>@kikine : pas sur, il faut regarder ce que l&#8217;ORM genère, ce n&#8217;est pas un humain.</p>
<p>@foxmask, si j&#8217;y pense je regarderai.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kikine</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16005</link>
		<dc:creator><![CDATA[kikine]]></dc:creator>
		<pubDate>Fri, 22 Nov 2013 10:34:31 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16005</guid>
		<description><![CDATA[ou mieux
&lt;code&gt;SELECT FINISH,COUNT(*) FROM Massage GROUP BY FINISH&lt;/code&gt;]]></description>
		<content:encoded><![CDATA[<p>ou mieux<br />
<code>SELECT FINISH,COUNT(*) FROM Massage GROUP BY FINISH</code></p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kikine</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16004</link>
		<dc:creator><![CDATA[kikine]]></dc:creator>
		<pubDate>Fri, 22 Nov 2013 10:29:25 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16004</guid>
		<description><![CDATA[SELECT COUNT(*) FROM Massage GROUP BY FINISH]]></description>
		<content:encoded><![CDATA[<p>SELECT COUNT(*) FROM Massage GROUP BY FINISH</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: bendem</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16002</link>
		<dc:creator><![CDATA[bendem]]></dc:creator>
		<pubDate>Fri, 22 Nov 2013 09:33:23 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16002</guid>
		<description><![CDATA[Le select distinct supprime les doublons, ma remarque concernait juste la fin de l&#039;article...]]></description>
		<content:encoded><![CDATA[<p>Le select distinct supprime les doublons, ma remarque concernait juste la fin de l&#8217;article&#8230;</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: foxmask</title>
		<link>http://sametmax.com/compter-les-doublons-avec-lorm-django/#comment-16001</link>
		<dc:creator><![CDATA[foxmask]]></dc:creator>
		<pubDate>Fri, 22 Nov 2013 09:27:39 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=7761#comment-16001</guid>
		<description><![CDATA[le select distinct retourne qu&#039;une occurence non ? là il veut les compter , ou j&#039;ai pas compris.

@sam : pour ma culture, ca donne quoi la requete SQL complete de tes 2 exemples ? peut-etre j&#039;aurai une remarque en fonction de ca :)]]></description>
		<content:encoded><![CDATA[<p>le select distinct retourne qu&#8217;une occurence non ? là il veut les compter , ou j&#8217;ai pas compris.</p>
<p>@sam : pour ma culture, ca donne quoi la requete SQL complete de tes 2 exemples ? peut-etre j&#8217;aurai une remarque en fonction de ca :)</p>
]]></content:encoded>
	</item>
</channel>
</rss>
