<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" 
	>
<channel>
	<title>Comments on: Écouter sur le port 80 sans être root</title>
	<atom:link href="http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Fri, 06 Sep 2019 09:34:15 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.9.7</generator>
	<item>
		<title>By: Ludovic Gasc</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-156580</link>
		<dc:creator><![CDATA[Ludovic Gasc]]></dc:creator>
		<pubDate>Sun, 22 Feb 2015 15:12:47 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-156580</guid>
		<description><![CDATA[@Gring: Si tu veux faire comme Wireshark, tu peux utiliser une lib high level comme Scapy: http://www.secdev.org/projects/scapy/

Tu peux capturer, mais surtout générer des paquets.

Ça fonctionne très bien, j&#039;ai ça en prod pour pouvoir injecter des messages SIP non supportés par le central téléphonique du client.

Scapy utilise en dessous des raw sockets, qui te permettent de créer toi-même ton dialogue TCP ou UDP.

Par contre, les perfs sont pourries par rapport à une ouverture de socket classique, et tu dois être root pour faire ça.
]]></description>
		<content:encoded><![CDATA[<p>@Gring: Si tu veux faire comme Wireshark, tu peux utiliser une lib high level comme Scapy: <a href="http://www.secdev.org/projects/scapy/" rel="nofollow">http://www.secdev.org/projects/scapy/</a></p>
<p>Tu peux capturer, mais surtout générer des paquets.</p>
<p>Ça fonctionne très bien, j&#8217;ai ça en prod pour pouvoir injecter des messages SIP non supportés par le central téléphonique du client.</p>
<p>Scapy utilise en dessous des raw sockets, qui te permettent de créer toi-même ton dialogue TCP ou UDP.</p>
<p>Par contre, les perfs sont pourries par rapport à une ouverture de socket classique, et tu dois être root pour faire ça.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-155279</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Thu, 05 Feb 2015 13:33:28 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-155279</guid>
		<description><![CDATA[&lt;p&gt;Non, c&#039;est  plus pour éviter qu&#039;un pirate qui a gagné l&#039;accès à ton serveur puisse détourner le trafic trop facilement.&lt;/p&gt;

&lt;p&gt;Pour le port, je sais pas, j&#039;ai jamais eu à le faire.&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>Non, c&#8217;est  plus pour éviter qu&#8217;un pirate qui a gagné l&#8217;accès à ton serveur puisse détourner le trafic trop facilement.</p>
<p>Pour le port, je sais pas, j&#8217;ai jamais eu à le faire.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Gring</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-155260</link>
		<dc:creator><![CDATA[Gring]]></dc:creator>
		<pubDate>Thu, 05 Feb 2015 10:38:55 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-155260</guid>
		<description><![CDATA[Ok, ça fait trop longtemps que je suis seul sur mes serveurs :). J&#039;imagine qu&#039;il y a des serveurs mutualisés avec accès ssh sur lesquels on veut interdire aux utilisateurs de squatter un des ports standard... (C&#039;est juste qu&#039;à priori, ça ne devrait concerner trop peu de systèmes pour être un comportement par défaut, c&#039;est pour ça que ça m&#039;étonne).

Pour écouter un port comme Wireshark, j&#039;imagine qu&#039;il faut faire des appels système très spécifiques à l&#039;os, on ne doit pas pouvoir utiliser simplement l&#039;objet socket de Python ?
]]></description>
		<content:encoded><![CDATA[<p>Ok, ça fait trop longtemps que je suis seul sur mes serveurs :). J&#8217;imagine qu&#8217;il y a des serveurs mutualisés avec accès ssh sur lesquels on veut interdire aux utilisateurs de squatter un des ports standard&#8230; (C&#8217;est juste qu&#8217;à priori, ça ne devrait concerner trop peu de systèmes pour être un comportement par défaut, c&#8217;est pour ça que ça m&#8217;étonne).</p>
<p>Pour écouter un port comme Wireshark, j&#8217;imagine qu&#8217;il faut faire des appels système très spécifiques à l&#8217;os, on ne doit pas pouvoir utiliser simplement l&#8217;objet socket de Python ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-155258</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Thu, 05 Feb 2015 10:25:21 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-155258</guid>
		<description><![CDATA[&lt;p&gt;Les ports sous 1024 sont généralement des ports par défaut pour des protocoles courants : le port 80 pour http, le port 443 pour ssl, le port 22 pour ssh, etc. Ce sont donc des ports &quot;à risque&quot;, et on veut donc être certain que la personne qui les expose sait ce qu&#039;elle fait.&lt;/p&gt;

&lt;p&gt;Et oui, tu peux regarder ce qui se passe sur un port puisque des outils comme wireshark le font.&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>Les ports sous 1024 sont généralement des ports par défaut pour des protocoles courants : le port 80 pour http, le port 443 pour ssl, le port 22 pour ssh, etc. Ce sont donc des ports &#8220;à risque&#8221;, et on veut donc être certain que la personne qui les expose sait ce qu&#8217;elle fait.</p>
<p>Et oui, tu peux regarder ce qui se passe sur un port puisque des outils comme wireshark le font.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Gring</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-155257</link>
		<dc:creator><![CDATA[Gring]]></dc:creator>
		<pubDate>Thu, 05 Feb 2015 10:20:16 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-155257</guid>
		<description><![CDATA[Merci pour cet article !

Par contre, quel est l&#039;intérêt d&#039;interdire d&#039;écouter les ports en dessous de 1024 ?

C&#039;est possible, sinon, d&#039;avoir un second processus qui écoute ce qui passe sur un port (pour faire un analyseur de trafic, par exemple) ?
]]></description>
		<content:encoded><![CDATA[<p>Merci pour cet article !</p>
<p>Par contre, quel est l&#8217;intérêt d&#8217;interdire d&#8217;écouter les ports en dessous de 1024 ?</p>
<p>C&#8217;est possible, sinon, d&#8217;avoir un second processus qui écoute ce qui passe sur un port (pour faire un analyseur de trafic, par exemple) ?</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: joat</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-154937</link>
		<dc:creator><![CDATA[joat]]></dc:creator>
		<pubDate>Sat, 31 Jan 2015 12:49:23 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-154937</guid>
		<description><![CDATA[Dans le même genre il y a authbind, qui est un peu moins prise de tête que setcap.

Par exemple, pour autoriser l&#039;utilisateur courant à utiliser le port 80 :

&lt;code&gt;touch /etc/authbind/byport/80

chmod u+x /etc/authbind/byport/80

authbind python server.py&lt;/code&gt;
]]></description>
		<content:encoded><![CDATA[<p>Dans le même genre il y a authbind, qui est un peu moins prise de tête que setcap.</p>
<p>Par exemple, pour autoriser l&#8217;utilisateur courant à utiliser le port 80 :</p>
<p><code>touch /etc/authbind/byport/80</p>
<p>chmod u+x /etc/authbind/byport/80</p>
<p>authbind python server.py</code></p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-154722</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Thu, 29 Jan 2015 14:55:32 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-154722</guid>
		<description><![CDATA[&lt;p&gt;&#092;o/&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>&#92;o/</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Réchèr</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-154714</link>
		<dc:creator><![CDATA[Réchèr]]></dc:creator>
		<pubDate>Thu, 29 Jan 2015 12:30:14 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-154714</guid>
		<description><![CDATA[*bottleneck, pas bottlenet.

À moins que ce soit un mix entre botnet et bottleneck. Une sorte d&#039;IA malveillante qui force l&#039;ensemble de l&#039;humanité à boire à la bouteille.
]]></description>
		<content:encoded><![CDATA[<p>*bottleneck, pas bottlenet.</p>
<p>À moins que ce soit un mix entre botnet et bottleneck. Une sorte d&#8217;IA malveillante qui force l&#8217;ensemble de l&#8217;humanité à boire à la bouteille.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-154666</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Wed, 28 Jan 2015 22:32:12 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-154666</guid>
		<description><![CDATA[&lt;p&gt;@buffalo974 :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Par exemple pour Flask , c’ est 5000. Superstition fétiche ou contrainte hardware ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;C&#039;est juste le port par défaut, ça se configure. Il faut prendre un port qu&#039;on pense ne pas être trop utilisé par d&#039;autres software, mais facile à retenir puisqu&#039;on va taper l&#039;adresse dans son navigateur lors du dev. Après c&#039;est freestyle.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Pourquoi ils n’ ont pas pris 80 ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Parce que personne n&#039;a envie de donner les droits root à flask ou se faire chier à utiliser les astuces de cet article en mode développement.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Pourquoi rediriger les ports à écouter ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Parce que, comme écrit dans l&#039;article, tout port sous 1024 ne peut être écouté que si on a les droits admin.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Une illustration utile pour une bidouille de débutant sur Flask , bottle ou cherrypy ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;C&#039;est pareil, l&#039;article marche pour flask, bottle ou cherrpy. Mais généralement on place ces derniers derrière nginx pour des raisons de perf, donc pas besoin.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conséquences pour la sécurité ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Si ton exécutable est compromis, le serveur pourra écouter sur ce port. C&#039;est exploitable, par exemple pour faire croire à tes utilisateurs qu&#039;ils tapent toujours sur ton serveur. Mais si tu en arrives là, tu as des problèmes plus grave que ça.&lt;/p&gt;

&lt;p&gt;@Thomas M :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Du coup n’importe quel utilisateur peut lancer python et s’accaparer le port 80.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Non, dans l&#039;exemple on le fait sur un python d&#039;un environnement virtuel, qui est dans le dossier d&#039;un utilisateur. Donc les autres utilisateurs n&#039;ont pas accès à cet exécutable.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Ah oui, et pour un site à fort trafic mieux vaut utiliser tout de même Nginx, il sera plus à même de gérer les connexions réseaux entrantes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tout dépend. Par exemple twisted en front tient parfaitement la charge pour un gros site et ne sera probablement jamais ton bottlenet. Cherrypy, pour un petit site, peut aussi être raisonnablement mis en front si on veut pas se faire chier.&lt;/p&gt;
]]></description>
		<content:encoded><![CDATA[<p>@buffalo974 :</p>
<blockquote>
<p>Par exemple pour Flask , c’ est 5000. Superstition fétiche ou contrainte hardware ?</p>
</blockquote>
<p>C&#8217;est juste le port par défaut, ça se configure. Il faut prendre un port qu&#8217;on pense ne pas être trop utilisé par d&#8217;autres software, mais facile à retenir puisqu&#8217;on va taper l&#8217;adresse dans son navigateur lors du dev. Après c&#8217;est freestyle.</p>
<blockquote>
<p>Pourquoi ils n’ ont pas pris 80 ?</p>
</blockquote>
<p>Parce que personne n&#8217;a envie de donner les droits root à flask ou se faire chier à utiliser les astuces de cet article en mode développement.</p>
<blockquote>
<p>Pourquoi rediriger les ports à écouter ?</p>
</blockquote>
<p>Parce que, comme écrit dans l&#8217;article, tout port sous 1024 ne peut être écouté que si on a les droits admin.</p>
<blockquote>
<p>Une illustration utile pour une bidouille de débutant sur Flask , bottle ou cherrypy ?</p>
</blockquote>
<p>C&#8217;est pareil, l&#8217;article marche pour flask, bottle ou cherrpy. Mais généralement on place ces derniers derrière nginx pour des raisons de perf, donc pas besoin.</p>
<blockquote>
<p>Conséquences pour la sécurité ?</p>
</blockquote>
<p>Si ton exécutable est compromis, le serveur pourra écouter sur ce port. C&#8217;est exploitable, par exemple pour faire croire à tes utilisateurs qu&#8217;ils tapent toujours sur ton serveur. Mais si tu en arrives là, tu as des problèmes plus grave que ça.</p>
<p>@Thomas M :</p>
<blockquote>
<p>Du coup n’importe quel utilisateur peut lancer python et s’accaparer le port 80.</p>
</blockquote>
<p>Non, dans l&#8217;exemple on le fait sur un python d&#8217;un environnement virtuel, qui est dans le dossier d&#8217;un utilisateur. Donc les autres utilisateurs n&#8217;ont pas accès à cet exécutable.</p>
<blockquote>
<p>Ah oui, et pour un site à fort trafic mieux vaut utiliser tout de même Nginx, il sera plus à même de gérer les connexions réseaux entrantes.</p>
</blockquote>
<p>Tout dépend. Par exemple twisted en front tient parfaitement la charge pour un gros site et ne sera probablement jamais ton bottlenet. Cherrypy, pour un petit site, peut aussi être raisonnablement mis en front si on veut pas se faire chier.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: cyp</title>
		<link>http://sametmax.com/ecouter-sur-le-port-80-sans-etre-root/#comment-154665</link>
		<dc:creator><![CDATA[cyp]]></dc:creator>
		<pubDate>Wed, 28 Jan 2015 21:27:23 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=15817#comment-154665</guid>
		<description><![CDATA[Pour le 5000 aucune idée, ils ont pris ce qui venait probablement, en fait c&#039;est même un port déjà &quot;réservé&quot; https://www.grc.com/port_5000.htm mais c&#039;est toujours plus facile à retenir 5317

A la limite le 8080 pourrait être utilisé https://www.grc.com/port_8080.htm mais vu que c&#039;est destiné avant tout à un usage &quot;local&quot; ça ne changerait pas grand chose à par la satisfaction d&#039;être un peu plus en phase avec les standard.

Si il n&#039;utilisent pas le 80 je dirais:


pour la raison évoqué dans l&#039;article (problème d&#039;autorisation dans l&#039;OS)
parce que c&#039;est plus pratique pour le dev et les test si sur la même machine le 80 est utilisé par quelque chose de plus stable
car il y a pas mal de chance que le 80 soit déjà utilisé (même le 8080 par exemple, typiquement une install par défaut d&#039;Apache et de Tomcat sur bcp de distribution Linux)
parce que souvent c&#039;est des serveurs web peu adaptés à un accés public (sécurité, performance, multiple protocole et standard pas forcément supporté....) et  qu&#039;il sont bien mieux derrière un reverse proxy à ne gérer que le traffic applicatif sans que leur dev est besoin de se préocupper du reste


Rediriger les port ça évite le &quot;:5000&quot; dans l&#039;adresse, plus pratique et surtout ça permet de tester dans des conditions plus proche du fonctionnement final (adresse généré, plus facile pour les non techniciens d&#039;y accéder....).

Niveau sécurité un mix des truc précédents.
]]></description>
		<content:encoded><![CDATA[<p>Pour le 5000 aucune idée, ils ont pris ce qui venait probablement, en fait c&#8217;est même un port déjà &#8220;réservé&#8221; <a href="https://www.grc.com/port_5000.htm" rel="nofollow">https://www.grc.com/port_5000.htm</a> mais c&#8217;est toujours plus facile à retenir 5317</p>
<p>A la limite le 8080 pourrait être utilisé <a href="https://www.grc.com/port_8080.htm" rel="nofollow">https://www.grc.com/port_8080.htm</a> mais vu que c&#8217;est destiné avant tout à un usage &#8220;local&#8221; ça ne changerait pas grand chose à par la satisfaction d&#8217;être un peu plus en phase avec les standard.</p>
<p>Si il n&#8217;utilisent pas le 80 je dirais:</p>
<p>pour la raison évoqué dans l&#8217;article (problème d&#8217;autorisation dans l&#8217;OS)<br />
parce que c&#8217;est plus pratique pour le dev et les test si sur la même machine le 80 est utilisé par quelque chose de plus stable<br />
car il y a pas mal de chance que le 80 soit déjà utilisé (même le 8080 par exemple, typiquement une install par défaut d&#8217;Apache et de Tomcat sur bcp de distribution Linux)<br />
parce que souvent c&#8217;est des serveurs web peu adaptés à un accés public (sécurité, performance, multiple protocole et standard pas forcément supporté&#8230;.) et  qu&#8217;il sont bien mieux derrière un reverse proxy à ne gérer que le traffic applicatif sans que leur dev est besoin de se préocupper du reste</p>
<p>Rediriger les port ça évite le &#8220;:5000&#8221; dans l&#8217;adresse, plus pratique et surtout ça permet de tester dans des conditions plus proche du fonctionnement final (adresse généré, plus facile pour les non techniciens d&#8217;y accéder&#8230;.).</p>
<p>Niveau sécurité un mix des truc précédents.</p>
]]></content:encoded>
	</item>
</channel>
</rss>
