<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" >

<channel>
	<title>crypto &#8211; Sam &amp; Max</title>
	<atom:link href="http://sametmax.com/tag/crypto/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Thu, 05 Sep 2019 08:22:03 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.9.7</generator>
<site xmlns="com-wordpress:feed-additions:1">32490438</site>	<item>
		<title>GoldenShower sera coupé, faute de miners</title>
		<link>http://sametmax.com/goldenshower-sera-coupe-faute-de-miners/</link>
		<comments>http://sametmax.com/goldenshower-sera-coupe-faute-de-miners/#comments</comments>
		<pubDate>Thu, 07 Dec 2017 14:43:53 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Crypto]]></category>
		<category><![CDATA[crypto]]></category>
		<category><![CDATA[goldenshower]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=23894</guid>
		<description><![CDATA[Slt les gens, &#160; On va couper le pool Goldenshower, car ça coûte en hébergement et qu&#8217;il n&#8217;y a plus de miners pour espérer choper un block. C&#8217;est la loi du &#8220;transvasationnagement&#8221; des liquides. Si vous voulez continuer l&#8217;aventure essayez les pool btgpool ou suprnova. Je vous encourage d&#8217;ailleurs à vous intéresser aux crypto-monnaies dans [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Slt les gens,</p>
<p>&nbsp;</p>
<p>On va couper le pool <a title="Tutorial pour Miner du Bitcoin GOLD – BTG" href="http://sametmax.com/tutorial-pour-miner-du-bitcoin-gold-btg/">Goldenshower</a>, car ça coûte en hébergement et qu&#8217;il n&#8217;y a plus de miners pour espérer choper un block. C&#8217;est la loi du &#8220;transvasationnagement&#8221; des liquides. Si vous voulez continuer l&#8217;aventure essayez les pool btgpool ou suprnova. Je vous encourage d&#8217;ailleurs à vous intéresser aux crypto-monnaies dans l&#8217;ensemble, ça fait pas de mal ^^</p>
<p>&nbsp;</p>
<p>On remercie tous ceux qui ont participé à l&#8217;aventure en espérant que vous aurez appris au moins autant que nous. Pour info on a rien gagné, les coms de la pool ayant payé l&#8217;hébergement du serveur et quelques NiceHash (qui s&#8217;est fait hacker au passage&#8230;)</p>
<p>Possible qu&#8217;on monte un autre pool mais l&#8217;expérience nous a appris que c&#8217;est pas facile sans une forte concentration de miners.</p>
<p>Je pense vous faire un tuto sur les Masternodes bientôt pour voir les cryptos sous un autre angle.</p>
<p>Passez de bonnes fêtes!</p>
<p>Max,</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/goldenshower-sera-coupe-faute-de-miners/feed/</wfw:commentRss>
		<slash:comments>11</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">23894</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2017/12/gas-tank.png" length="19668" type="image/jpg" />	</item>
		<item>
		<title>NiceHash &#8211; Pump up your power, à quoi ça sert et comment ça marche ?</title>
		<link>http://sametmax.com/nicehash-pump-up-your-power-a-quoi-ca-sert-et-comment-ca-marche/</link>
		<comments>http://sametmax.com/nicehash-pump-up-your-power-a-quoi-ca-sert-et-comment-ca-marche/#comments</comments>
		<pubDate>Tue, 14 Nov 2017 11:05:59 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[Crypto]]></category>
		<category><![CDATA[crypto]]></category>
		<category><![CDATA[mining]]></category>
		<category><![CDATA[nicehash]]></category>
		<category><![CDATA[pool]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=23832</guid>
		<description><![CDATA[Alors c’est quoi ce « gentil hachis » dont vous parlez sur Telegram, c’est un truc de cuisine ? « Nicehash » c’est un service de location de puissance de « hash », en gros avoir le plaisir de posséder l’équivalent de 25000 cartes graphiques pendant un moment pour miner de la cryptomonnaie. C’est un peu la Smartbox (vous savez celle où [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Alors c’est quoi ce « gentil hachis » dont vous parlez sur Telegram, c’est un truc de cuisine ?</p>
<p>« Nicehash » c’est un service de location de puissance de « hash », en gros avoir le plaisir de posséder l’équivalent de 25000 cartes graphiques pendant un moment pour miner de la cryptomonnaie.<br />
C’est un peu la Smartbox (vous savez celle où on peut faire 200 bornes pour conduire un R8 pendant ¼ d’heure) de la crypto, mais sans sortir de chez soi, moins de plaisir, mais plus de rendement.</p>
<p>D’un côté Nicehash propose aux mineurs (ceux qui ont des machines qui chauffent leur maison toute la journée) de mettre ces machines en location, et d’un autre on peut participier à des enchères pour louer la puissance (additionnée) de plein de mineurs d’un coup pour devenir un moment un gros mineur bien velu.<br />
On voit bien sur ce graphe ce que ça donne là quand un gars s’est un peu énervé pendant ½ heure</p>
<p><img class="aligncenter size-full wp-image-23834" src="http://sametmax.com/wp-content/uploads/2017/11/photo_2017-11-14_10-47-47.jpg" alt="un ptit coup de nicehash ?" width="1128" height="422" /><br />
Sur le <a href="https://t.me/goldenshowio">chan de Goldenshow</a>er.io on a l’histoire d’un gars qui a réussi à lancer ¼ d’heure de nNicehash au tout départ du BitcoinGold et en a ramassé une bonne grosse poignée à ce moment là, mais sinon de notre expérience avec le service, il est possible de faire un 10-25% de bénéfice (on achète du hashpower en BTC, on mine une monnaie, qu’on revend ensuite, et ça fait 10-25% de BTC en plus pour recommencer ).</p>
<h4>
Allons-y &#8220;gayment&#8221;! Rendez-vous sur <a href="https://www.nicehash.com/register">https://www.nicehash.com/ </a></h4>
<p>&nbsp;</p>
<p>On créer un compte, on valide tout ça et on passe aux choses sérieuses. Le tuto suivant décrit la méthode pour lancer un NiceHash sur la crypto Bitcoin Gold, qui est basé sur l&#8217;algo Equihash, pour d&#8217;autres cryptos il faudra choisir l&#8217;algo approprié mais pour le reste il n&#8217;y a rien à changer.</p>
<p>&nbsp;</p>
<ol>
<li>On va dans le marketplace (place de marché)<br />
<img class="aligncenter size-full wp-image-23835" src="http://sametmax.com/wp-content/uploads/2017/11/1_Goto_marketplace.png" alt="On sélectionne  market place" width="1052" height="532" /></li>
<li>On sélectionne l&#8217;algo approprié à la crypto que l&#8217;on va miner, ici pour BTG (Bitcoin Gold) on sélectionne Equihash.<br />
<img class="aligncenter size-full wp-image-23836" src="http://sametmax.com/wp-content/uploads/2017/11/2_SelectAlgo.png" alt="Equihash est l'algo que l'on va utiliser pour miner du BTG (Bitcoin Gold)" width="1376" height="879" /></li>
<li>La partie la plus importante, Il va falloir envoyer notre puissance de calcul louée sur un pool, ici sur goldenshower.io. Pourquoi celui-là et pas un autre ?<br />
Parce que c&#8217;est celui de Sam&amp;Max (et des potes) , qu&#8217;on est les plus beaux et qu&#8217;on a besoin de tunes pour aller aux putes régulièrement et vous mijoter de jolis articles tous mignons.<br />
<img class="aligncenter size-full wp-image-23837" src="http://sametmax.com/wp-content/uploads/2017/11/3_SetupPool.png" alt="PArtie la plus important, setup du pool " width="589" height="622" /><strong>Pool Name:</strong> Golden Show (le nom de votre pool, mettez ce que vous voulez, c&#8217;est pour le reconnaître par la suite dans la liste.)<br />
<strong>Stratum hostname ou IP:</strong> btg.goldenshow.io<br />
<strong>port:</strong> 3870<br />
<strong>User:</strong> là il faut mettre votre addresse de Wallet BTG que vous <a href="http://sametmax.com/tutorial-pour-miner-du-bitcoin-gold-btg/">aurez créé en suivant notre tuto précédent ici</p>
<p></a></li>
<li>On place son Order (et oui comme à la bourse) qui va consister à acheter de la puissance de Hash à un prix fixé par vous.<br />
<span style="color: #ff0000;">ATTENTION!</span> Avant de placer un order il faut créditer son compte Nicehash avec des BTC (Bitcoins), car tout se paie en BTC.<br />
Sur la figure suivante j&#8217;ai placé un order à 0.01258 BTC.</p>
<p><strong>PRICE: </strong>par défaut un prix est suggéré , il faut regarder dans la liste des ordres à côté que vous êtes dans les bonnes valeurs, un prix trop bas et votre ordre ne passera jamais.<br />
<strong>LIMIT: </strong>sert à limiter la puissance de calcul envoyée dans le temps, pour les premiers essais il vaut mieux mettre une faible valeur (attention si vous mettez 0 nicehash va envoyer toute la puissance d&#8217;un coup) en cas de mauvaise configuration du pool, ça serait con d&#8217;envoyer toute la puissance sur un truc qui mine pas :)<br />
<strong>AMOUNT: </strong>le budget que vous voulez allouer, là aussi au départ une petite somme pour tester l&#8217;artillerie, une fois que vous êtes sûr que ça marche, vous pouvez placez un ordre plus important.</p>
<p><img class="aligncenter size-full wp-image-23838" src="http://sametmax.com/wp-content/uploads/2017/11/4_SetupOrder.png" alt="on achète des gigoWatts Doc !!" width="603" height="401" /></li>
<li>Et C&#8217;est tout ! La puissance de calcul louée sur Nicehash va être transmise au pool goldenshow.io et c&#8217;est comme si vous aviez une ferme de GPU qui mine. Elle est pas belle la vie ?<br />
<img class="aligncenter size-full wp-image-23840" src="http://sametmax.com/wp-content/uploads/2017/11/6_MiningStart.png" alt="6_MiningStart" width="1257" height="809" /></li>
</ol>
<p style="text-align: left;">Si vous voulez racheter de la puissance de calcul vous éditez votre order dans la liste et vous changez les valeurs appropriées.<br />
<img class="aligncenter size-full wp-image-23842" src="http://sametmax.com/wp-content/uploads/2017/11/8_If_Need_Change_Price_or_refill.png" alt="8_If_Need_Change_Price_or_refill" width="708" height="464" /><br />
Vous l&#8217;aurez compris, Nicehash permet d&#8217;avoir l&#8217;équivalent d&#8217;une immense ferme de GPUs sans les inconvenients. Pratique pour miner à la sortie d&#8217;une crypto sans avoir à setup grand chose et pour se rendre compte immédiatement de la rentabilité de minage de la monnaie concernée.<br />
A savoir qu&#8217;en général quand une monnaie sort la difficulté est faible donc ça vaut le coup de se lancer dessus et le Nicehash est la solution la plus rapide.</p>
<p>Rendez-vous sur <a title="Mining Pool" href="http://goldenshow.io">goldenshow.io</a>, votre pool préféré pour miner (pas exclu qu&#8217;on rajoute d&#8217;autres cryptos soon ^^ )</p>
<p><strong>Les précédents Tutos:</strong></p>
<p><a href="http://sametmax.com/de-la-thune-avec-un-mining-pool-de-btg/"><strong>http://sametmax.com/de-la-thune-avec-un-mining-pool-de-btg/</strong></a></p>
<p><a title="miner du BTG" href="http://sametmax.com/tutorial-pour-miner-du-bitcoin-gold-btg/"><strong>http://sametmax.com/tutorial-pour-miner-du-bitcoin-gold-btg/</strong></a></p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/nicehash-pump-up-your-power-a-quoi-ca-sert-et-comment-ca-marche/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">23832</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2017/11/boooobs.png" length="619791" type="image/jpg" />	</item>
		<item>
		<title>De la thune avec un « Mining Pool » de BTG</title>
		<link>http://sametmax.com/de-la-thune-avec-un-mining-pool-de-btg/</link>
		<comments>http://sametmax.com/de-la-thune-avec-un-mining-pool-de-btg/#comments</comments>
		<pubDate>Sun, 12 Nov 2017 07:29:47 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Philo et culture]]></category>
		<category><![CDATA[bitcoin]]></category>
		<category><![CDATA[crypto]]></category>
		<category><![CDATA[cryptocurrency]]></category>
		<category><![CDATA[cryptomonnaie]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=23805</guid>
		<description><![CDATA[C'est pas parce que vous entendez plus trop parler de Max qu'il est mort. En ce moment, il est à fond sur les cryptomonnaies. Mais si, rappelez-vous,  <a href="http://sametmax.com/tag/bitcoin/">ça fait quand même 5 ans qu'on vous parle du Bitcoin sur le blog</a>... Aujourd'hui le Bitcoin est à quelques milliers d'euros, et des centaines de monnaies concurrentes sont arrivées sur le marché. 

Les opportunités pour faire de l'argent (et en perdre of course) sont décuplées, et Max, ainsi que deux potes à nous, se sont lancés dans un petit montage sympa. Potentiellement, si vous avez une bonne carte graphique, y a moyen de se faire du pognon sans trop d'effort. Plus on a de lecteurs qui participent, plus la thune arrive.

 Je leur laisse la parole dans un article invité de Tic, où ils vous expliqueront ça mieux que moi ]]></description>
				<content:encoded><![CDATA[<p><em>C&#8217;est pas parce que vous entendez plus trop parler de Max qu&#8217;il est mort. En ce moment, il est à fond sur les cryptomonnaies. Mais si, rappelez-vous,  <a href="http://sametmax.com/tag/bitcoin/">ça fait quand même 5 ans qu&#8217;on vous parle du Bitcoin sur le blog</a>&#8230; Aujourd&#8217;hui le Bitcoin est à quelques milliers d&#8217;euros, et des centaines de monnaies concurrentes sont arrivées sur le marché. </p>
<p>Les opportunités pour faire de l&#8217;argent (et en perdre of course) sont décuplées, et Max, ainsi que deux potes à nous, se sont lancés dans un petit montage sympa. Potentiellement, si vous avez une bonne carte graphique, y a moyen de se faire du pognon sans trop d&#8217;effort. Plus on a de lecteurs qui participent, plus la thune arrive.</p>
<p> Je leur laisse la parole dans un article invité de Tic, où ils vous expliqueront ça mieux que moi </em></p>
<hr>
<p>Avec une bande de zozos, on est en train de monter un mining pool sur le Bitcoin Gold. Rien que cette phrase je me demande comment j’ai pu l’écrire.</p>
<p>Je ne suis pas du genre à me baigner dans du charbon, donc je vais préciser les choses :</p>
<p>Certaines cryptomonnaies (Bitcoin, Ether, Monero, mon préféré Electroneum …) reposent sur une blockchain dont la sécurisation (ie gravure des transactions et informations dans le marbre de la blockchain, vérification qu’il n’y a pas de fraude) est réalisée par une armée de machines capable de réaliser des tonnes d’opérations mathématiques : les mineurs.</p>
<p>Pour valider un block de la chaine chaque mineur essaye des foultitudes de combinaisons mathématiques liées à ce block, jusqu’à ce qu’un trouve la bonne combinaison et Bingo il touche la cagnotte, le salaire (versé dans la cryptomonnaie associée) lié à la validation de ce block et ainsi de suite, jusqu’à presque l’infini.</p>
<p>Du coup, soit les mineurs travaillent tout seuls dans leur coin pour choper le gros lot, soit ils s’associent dans un « pool » et mettent leur puissance (et leur chance, car il s’agit bien de chance) en commun pour gagner plus souvent une plus petite partie de la mise.</p>
<p>Un peu comme jouer au loto, soit on fait sa grille tout seul dans son coin pour gagner en moyenne 2 millions avec une probabilité de 1/19 Millions, soit on a 1 000 « amis » avec qui on s’associe pour gagner en moyenne 2000 euros avec une probabilité de 1/19000. On gagne beaucoup moins, mais on a beaucoup plus de chance (au sens probabiliste) que ça arrive au moins dans une vie.</p>
<p>Sauf que pour miner, pas besoin d&#8217;acheter un ticket. Il suffit d&#8217;avoir une carte graphique sur son ordi.</p>
<p>Et avec un pool, on a un serveur sur lequel chaque mineur se connecte pour lui demander du travail, sa feuille de route au niveau calcul pour les secondes à venir. Chacun fait ses calculs aussi vite qu’il peut et renvoie ses résultats, et si un des mineurs du pool trouve la combinaison gagnante, le pool redistribue les gains selon la quantité de travail (pour la plupart dans le vent, mais c’est le jeu qui veut ça) fournie par chacun. Par chacun, on parle d’un PC (presque) de base à une ferme de minage comprenant plusieurs dizaines (ou centaines) de cartes graphiques.</p>
<p>Sinon j’ai parlé de BTG en titre, c’est le Bitcoin Gold (il y a le silver et surement un jour le copper à venir, mais on va rester sur le Gold). Le BTG c’est une nouvelle cryptomonnaie qui sort officiellement le 12 Novembre à 19h UTC. <strong>Donc ce soir.</strong> Pour faire court et simple (et pas trop m’embrouiller), le BTG est basé sur la blockchain du BTC (The Bitcoin), c’est un « fork » qui veut redonner le pouvoir au peuple dans la mesure où la sécurisation de la chaine Bitcoin originale est devenue tellement difficile que seule une poignée de gros acteurs basés dans l’Empire du milieu (bref des chinois) détient la quasi-totalité de la puissance. Pour la sécurisation décentralisée de la chose, on repassera. Le bitcoin gold tend à redonner la voix au peuple en proposant une chaine sécurisable par des cartes graphiques et seulement des cartes graphiques, du coup la démocratisation est plus plausible, car il suffit de 1000 PC de gamers disséminés n’importe où pour égaler (et contrebalancer) la puissance d’une ferme entière cachée au fin fond de l’Oural ou de la Mongolie.</p>
<p>Du coup voilà, on est en train de monter un mining pool de BTG.</p>
<hr>
<p><em>Maintenant la partie fun. </p>
<p>Quand une nouvelle cryptomonnaie arrive, le début du minage est plus facile. Ce soir, Max et Tic &#038; Tac vont donc ouvrir leur mining pool, et on va poster un tuto sur le blog pour que vous puissiez vous connecter dessus.</p>
<p>Afin qu&#8217;on fasse de la thune tous ensemble, dans la joie et la bonne humeur.</em></p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/de-la-thune-avec-un-mining-pool-de-btg/feed/</wfw:commentRss>
		<slash:comments>25</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">23805</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2017/11/d81LyrV.jpg" length="64489" type="image/jpg" />	</item>
		<item>
		<title>Nouvelle release de crossbar: historique des events et crypto</title>
		<link>http://sametmax.com/nouvelle-release-de-crossbar-historique-des-events-et-crypto/</link>
		<comments>http://sametmax.com/nouvelle-release-de-crossbar-historique-des-events-et-crypto/#comments</comments>
		<pubDate>Sun, 31 Jan 2016 18:25:33 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[crossbar]]></category>
		<category><![CDATA[crypto]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[wamp]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=18018</guid>
		<description><![CDATA[Je dois toujours un article sur Polymer + Crossbar à Tavendo. Et il faut que je fasse un tuto sur l'authentification également. 

Fichtre.

En attendant, je vais en profiter pour faire un article vite fait sur la release, puisque <a href="http://sametmax.com/crossbar-le-futur-des-applications-web-python/">Crossbar</a>, le routeur WAMP, <a href="https://groups.google.com/forum/#!topic/autobahnws/R86_F8jd17s">passe en 0.12</a>.]]></description>
				<content:encoded><![CDATA[<p>Je suis méga à la bourre. Entre <a href="https://github.com/sametmax/0bin/">les tickets github qui s’accumulent</a>, <a href="http://sametmax.com/un-petit-dashboard-de-monitoring-avec-django-et-wamp/#comment-174036">les comments auxquels j’ai toujours pas répondu</a> et <a href="http://sametmax.com/129-drafts/">la liste d’articles à écrire</a> qui augmente au lieu de diminuer (mais comment, bordel, comment ?), j’ai vraiment du mal à suivre.</p>
<p>Je dois toujours un article sur Polymer + Crossbar à Tavendo. Et il faut que je fasse un tuto sur l’authentification également (en attendant, <a href="https://github.com/crossbario/crossbarexamples/tree/master/authentication">y a des exemples plus à jour</a>). </p>
<p>Fichtre.</p>
<p>En attendant, je vais en profiter pour faire un article vite fait sur la dernière release, puisque <a href="http://sametmax.com/crossbar-le-futur-des-applications-web-python/">Crossbar</a>, le routeur WAMP, <a href="https://groups.google.com/forum/#!topic/autobahnws/R86_F8jd17s">passe en 0.12</a>.</p>
<p>Comme d’hab, correction de bugs, amélioration du support de Python 3, plus de docs et d’exemples, blablabla&#8230;</p>
<p>Mais ce qui est vraiment intéressant, <a href="https://github.com/crossbario/crossbarexamples/tree/master/event-history">c’est l’historique des évènements</a>. </p>
<p>Normalement un évènement est éphémère, dans le sens où une fois qu’il a été propagé, vous ne pouvez plus le recevoir. Si vous arrivez après la fête, c’est terminé.</p>
<p>C’est un problème, par exemple si vous redémarrez un client qui a besoin de ces évènements. Ou si vous implémentez un client qui veut savoir ce qui vient de se passer avant de se pointer, comme dans le cas d’un chat : on veut avoir les derniers messages postés.</p>
<p>Par défaut, l’historique n’est pas activé, puisqu’il y un coût pour chaque pub/sub. On doit explicitement le demander pour chaque event dans le fichier de config :</p>
<pre lang="javascript">{
   "name": "realm1",
   "roles": [
   ],
   "store": {
      "type": "memory", # ou stocker l'historique
      "event-history": [
         {
            "uri": "mon.uri.pour.un.event", # quel type event
            "limit": 10000 # combien d’events stocker
         }
      ]
   }
}</pre>
<p><code>type</code> n’accepte pour le moment que <code>memory</code>, qui est une simple liste en mémoire dans crossbar, et bouffe donc de la RAM. On perd aussi l’historique au redémarrage du routeur, mais ça a l’avantage d’être très rapide.</p>
<p>Pour la prochaine version, Tavendo va implémenter un stockage dans une base <code>lmdb</code> et si ils font une belle API, on peut s’attendre à voir fleurir des backends pour SQLAlchemy, Django, Redis, etc.</p>
<p><code>event-history</code> prend un liste d’events (les URIs peuvent utiliser <a href="http://sametmax.com/pendant-ce-temps-a-vera-cruz/">les jokers introduits dans la version précédente</a>), on met la limite du nombre total d’events à stocker pour cet URI en particulier.</p>
<p>Pour profiter de l’historique côté client, il faut obligatoirement avoir un abonnement à un event dont les messages sont sauvegardés. On ne peut pas récupérer l’historique de messages auxquels on n&#8217;est pas abonnés : forcer l’abonnement oblige en effet le client à passer le check des permissions.</p>
<p>Par exemple, en JS, d’abord on s’inscrit:</p>
<pre lang="python">var promise = session.subscribe('mon.uri.pour.un.event',
   function (args, kwargs, details) {
      // bon là vous faites bien ce que vous voulez avec les nouveaux events
      //, car ça n’a rien à voir avec l’historique
   }
)</pre>
<p>Puis on demande les events:</p>
<pre lang="python">promise = promise.then(function (sub) {
      // L’abonnement retourne un objet "subcription" qui possède l’id
      // dont on a besoin pour demander l’historique des events.
      // On fait un petit RPC sur la meta API 'wamp.subscription.get_events'
      // qui demande aux routeurs tous les X derniers events qui matchent
      // notre abo. Ici x = 10
      return session.call('wamp.subscription.get_events', [sub.id, 10]);
)</pre>
<p>Et enfin, on a droit à l’histo:</p>
<pre lang="python">promise.then(function (history) {
    console.log(history.length, " events:");
    history.forEach(function(event){
        console.log(event.timestamp, event.publication, event.args[0]);
    })
 });</pre>
<p> En Python, le code pour récupérer l’histo est logiquement:</p>
<pre lang="python">import asyncio
from autobahn.asyncio.wamp import ApplicationSession, ApplicationRunner


class Component(ApplicationSession):

    async def onJoin(self, details):


        def on_event(i):
            print("Got: {}".format(i))

        # pareil on chope la souscription
        sub = await self.subscribe(on_event, u'mon.uri.pour.un.event')
        # et on demande la liste des 10 derniers events pour cet abo
        events = await self.call('wamp.subscription.get_events', sub.id, 10)
        # et on boucle. Et on kiff await parceque putain c’est pratique.
        for event in events:
            print(event['timestamp'], event['publication'], event['args'][0])

    def onDisconnect(self):
        asyncio.get_event_loop().stop()


if __name__ == '__main__':
    runner = ApplicationRunner("ws://127.0.0.1:8080/ws", 'realm1')
    runner.run(Component)</pre>
<p>L’autre point phare de cette release, c’est la dépréciation de Mozilla Persona comme méthode d’authentification (le projet est dead) et la promotion de deux nouvelles méthodes: les certificats TLS et les paires de clés publiques/privées (Curve25519 pour le moment).</p>
<p>C’est une très bonne nouvelle, car ça veut dire plus de mots de passe dans les fichiers de configuration en production pour identifier vos propres clients qui ont forcément des privilèges supplémentaires.</p>
<p>Je reviendrais là dessus en faisant le tuto sur l’authentification.</p>
<p> Une release chouette donc. Mais qui introduit plein de dépendances à des extensions en C qui pourraient être optionnelles, ce qui rend l’installation plus compliquée. Je suis en train de discuter avec la team pour voir si on peut arranger ça, mais Tobias à l’air plutôt pour les garder. Si vous aussi vous voulez garder la simplicité de la base pure Python, <a href="https://github.com/crossbario/crossbar/issues/626">rejoignez la discussion</a>.</p>
<p> Enfin, on a pu voir l’annonce d’une feature très intéressante : le chiffrement end-to-end des messages WAMP. Ça, c’est chouette. C’est pas encore implémenté, mais ça veut dire que la prochaine release, vous pourrez probablement envoyer des messages à travers le serveur WAMP sans que celui-ci puisse les lire. </p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/nouvelle-release-de-crossbar-historique-des-events-et-crypto/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">18018</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2016/01/z9EVG1X.jpg" length="36840" type="image/jpg" />	</item>
	</channel>
</rss>
