<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" >

<channel>
	<title>html5 &#8211; Sam &amp; Max</title>
	<atom:link href="http://sametmax.com/tag/html5/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Thu, 05 Sep 2019 08:22:03 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.9.7</generator>
<site xmlns="com-wordpress:feed-additions:1">32490438</site>	<item>
		<title>Puis-je copier/coller mon brave ?</title>
		<link>http://sametmax.com/20808/</link>
		<comments>http://sametmax.com/20808/#comments</comments>
		<pubDate>Sun, 23 Oct 2016 07:41:48 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[api]]></category>
		<category><![CDATA[clipboard]]></category>
		<category><![CDATA[copier/coller]]></category>
		<category><![CDATA[html5]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[js]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=20808</guid>
		<description><![CDATA[Sebsauvage a partagé <a href="http://sebsauvage.net/links/?cKAfaQ">un snippet</a> pour utiliser l'API du clipboard en JS. Et j'ai donc voulu savoir comment détecter que cette functionalité est implémentée par le navivateur en cours. ]]></description>
				<content:encoded><![CDATA[<p>Dans <a href="0bin.net">0bin</a> on utilise encore flash pour faire le copier/coller, et je pense qu&#8217;on va le virer. Plus de raison de supporter les navigateurs trop vieux et après tout c&#8217;est pas grave de se voir refuser un raccourci pour copier/coller : le reste est utilisable.</p>
<p>Pourquoi je vous dis ça ?</p>
<p>Et bien parce que sebsauvage a partagé <a href="http://sebsauvage.net/links/?cKAfaQ">un snippet</a> pour utiliser l&#8217;API du clipboard en JS. Et j&#8217;ai donc voulu savoir comment détecter que cette functionalité est implémentée par le navigateur en cours. </p>
<p>Je suis ainsi allé voir <a href="https://github.com/Modernizr/Modernizr/pull/659/commits/7354ab3e0167ced43df9fae43c13c25a10f36fcf">les sources de modernizr</a>, et il implémente en fait une combinaisons de 2 techniques.</p>
<p>D&#8217;abord, vérifier si l&#8217;objet <code>window</code> a un attribut <code>ClipboardEvent</code>. Si oui, c&#8217;est réglé. Si non, il crée un <code>div</code>, on check s&#8217;il a un attribut <code>paste</code>. Le reste sont <a href="http://perfectionkills.com/detecting-event-support-without-browser-sniffing/">les hacks de compatibilité</a> avec les très vieux navs que je ne vais pas retranscrire ici.</p>
<p>Donc en gros, avant de faire un copier/coller en JS, vérifiez:</p>
<pre lang="javascript">function implementClipboardAPI(){
   try {
     return (!!window.ClipboardEvent || 'onpaste' in document.createElement('div'));
   } catch(e) {
     return false;
   }
}
</pre>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/20808/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">20808</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2016/10/JUaJo1o.jpg" length="105114" type="image/jpg" />	</item>
		<item>
		<title>Input number et spin buttons</title>
		<link>http://sametmax.com/input-number-et-spin-buttons/</link>
		<comments>http://sametmax.com/input-number-et-spin-buttons/#comments</comments>
		<pubDate>Wed, 30 Apr 2014 09:43:51 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[html5]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=10106</guid>
		<description><![CDATA[C'est quoi déjà les pas de la salsa ? Un pas en avant, un pas sur place, un pas en arrière, un pas sur place ?]]></description>
				<content:encoded><![CDATA[<p>Avec HTML5 on a plein de nouveaux widgets, et notamment la possibilité de définir plus de types pour les inputs. Le truc sympa par exemple, c&#8217;est qu&#8217;on peut dire :</p>
<pre lang="html"><input type="number" /></pre>
<p>Et là, le navigateur ne vous laisse saisir que des nombres, sans avoir à coder de JS. Mieux, les machines avec claviers virtuels (téléphones, tablettes, etc) affichent généralement un clavier spécial qui permet de saisir facilement des nombres.</p>
<p>Seulement dernièrement, il y a une nouvelle tendance, certains navigateurs affichent aussi <a href="http://css-tricks.com/snippets/css/turn-off-number-input-spinners/">des boutons</a> pour incrémenter et décrémenter le champ.</p>
<p>Ça vous bousille tout votre design car <a href="https://code.google.com/p/chromium/issues/detail?id=62131">c&#8217;est inconsistant selon selon les navs</a>, et en plus ces spin buttons sont inutilisables sur mobiles car bien trop petits. </p>
<p>C&#8217;est quoi déjà les pas de la salsa ? Un pas en avant, un pas sur place, un pas en arrière, un pas sur place ?</p>
<p>Bref, j&#8217;ai d&#8217;abord essayé d&#8217;appliquer une solution CSSisante :</p>
<pre lang="css">input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type=number]{
    -moz-appearance:textfield;
}
</pre>
<p>Mais bien entendu ça ne marche pas partout, partout. Ça serait trop facile.</p>
<p>En bon dev Web, j&#8217;ai du coup utilisé un contournement tout pourri, c&#8217;est la marque de fabrique du métier :</p>
<pre lang="html"><input type="tel" /></pre>
<p>Le browser considère ainsi qu&#8217;il s&#8217;agit d&#8217;un numéro de téléphone. Il check donc si c&#8217;est un numéro (ou quelques signes comme &#8220;.&#8221;, &#8220;-&#8220;, etc, mais c&#8217;est acceptable) et fait apparaitre un clavier virtuel presque similaire au clavier pour type=number.</p>
<p>&#8220;On s&#8217;en contentera&#8221;, la devise de notre profession.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/input-number-et-spin-buttons/feed/</wfw:commentRss>
		<slash:comments>5</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">10106</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/04/tumblr_n4paugZ0K81r539hzo1_500.jpg" length="38145" type="image/jpg" />	</item>
		<item>
		<title>Comment figer son app hors ligne pour plus d&#8217;un mois</title>
		<link>http://sametmax.com/comment-figer-son-app-hors-ligne-pour-plus-dun-mois/</link>
		<comments>http://sametmax.com/comment-figer-son-app-hors-ligne-pour-plus-dun-mois/#comments</comments>
		<pubDate>Fri, 25 Apr 2014 09:35:29 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[cache]]></category>
		<category><![CDATA[connerie]]></category>
		<category><![CDATA[html5]]></category>
		<category><![CDATA[manifest]]></category>
		<category><![CDATA[nginx]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=10076</guid>
		<description><![CDATA[Bravo Sam.]]></description>
				<content:encoded><![CDATA[<p>Je sers <a href="http://allthatcounts.net/">All That Counts</a> avec nginx, et le fichier de config est super simple :</p>
<pre>server {
        listen       80;
        server_name allthatcounts.net;

        error_log  /var/log/nginx/error_allthatcounts.log;
        access_log  /var/log/nginx/access_allthatcounts.log;

        location / {
            root /home/allthatcounts/www/;
            gzip  on;
            gzip_http_version 1.0;
            gzip_vary on;
            gzip_comp_level 6;
            gzip_proxied any;
            gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;
            gzip_buffers 16 8k;
            gzip_disable ~@~\MSIE [1-6].(?!.*SV1)~@~];
            expires modified +90d;
        }
}</pre>
<p>En gros c&#8217;est juste du log et servir les fichiers statiques compressés avec gzip. Il n&#8217;y a rien de plus à faire parce qu&#8217;il n&#8217;y a pas de backend. Simple. Efficace.</p>
<p>La couille c&#8217;est que c&#8217;est un copier / coller d&#8217;un autre projet que j&#8217;ai fais sans trop réfléchir, et quand j&#8217;ai mis en prod de nouvelles modifications sur le serveurs, mon Firefox me les affichait pas. Pourtant j&#8217;avais bien modifié le manifeste, donc il aurait du tout recharcher&#8230;</p>
<p>Sauf que, con de ma race, j&#8217;ai copié la ligne :</p>
<pre>expires modified +90d;</pre>
<p>Qui dit techniquement, met en cache tous les fichiers statiques pour 90 jours. Donc aussi le manifeste. Du coup, toutes les personnes qui ont visité le site ne verront aucune mise à jour pour un bon mois et demi.</p>
<p>Bravo Sam.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/comment-figer-son-app-hors-ligne-pour-plus-dun-mois/feed/</wfw:commentRss>
		<slash:comments>9</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">10076</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/04/joker.gif" length="247256" type="image/jpg" />	</item>
		<item>
		<title>Not invented here</title>
		<link>http://sametmax.com/not-invented-here/</link>
		<comments>http://sametmax.com/not-invented-here/#comments</comments>
		<pubDate>Thu, 24 Apr 2014 07:18:30 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[angularjs]]></category>
		<category><![CDATA[bootstrap]]></category>
		<category><![CDATA[countdown]]></category>
		<category><![CDATA[html5]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[jeu]]></category>
		<category><![CDATA[timer]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=10065</guid>
		<description><![CDATA[Que fait un programmeur quand il n'est pas satisfait ? <del>Il va sur redtube</del> Il réinvente la roue, bien sûr !
]]></description>
				<content:encoded><![CDATA[<p>À la maison on joue beaucoup. Aux jeux vidéo, bien entendu, mais aussi à tout un tas d&#8217;autres trucs, incluant des jeux de rôles, de société, de carte&#8230; Ça joue même de la musique. Il y a un carton qui déborde de cartes magic, l&#8217;indispensable pot plein de dés 6/10/20, et des dizaines de boîtes en tout genre, parfois des titres dont moi-même je n&#8217;ai jamais entendu parlé, un piano à queue, divers lots de baffles et même des contentions psychiatriques. Pour d&#8217;autres jeux.</p>
<p>Je me tâte à faire une rubrique &#8220;jeu&#8221; d&#8217;ailleurs, pour introduire un jeu de plateau de temps en temps.</p>
<p>Évidement, à force de parties, on commence à en avoir plein le cul d&#8217;attendre le tour de l&#8217;autre, donc on joue au chrono. On a tenté le sablier, la montre, le portable, l&#8217;app, et rien n&#8217;est vraiment satisfaisant.</p>
<p>Que fait un programmeur dans ce cas ? Il réinvente la roue, bien sûr !</p>
<p>Voici donc <a href="http://allthatcounts.net/">All That Counts</a>, une Web app qui contient :</p>
<ul>
<li>Des timers.</li>
<li>Des chronos.</li>
<li>Des compteurs de points.</li>
</ul>
<p>C&#8217;est du HTML5 + Javascript, il n&#8217;y a pas de backend. Est inclus un mode offline, donc il suffit de visiter l&#8217;app une fois pour pouvoir toujours l&#8217;utiliser sauf vidange du cache. Magie de Bootstrap, ça marche sur mobile, tablette et destop. Comprendre : design responsive générique.</p>
<p>Sur les navs supportant l&#8217;élément audio, ça gong à la fin des timers.</p>
<p>La page &#8220;Count Down&#8221; est pratique pour faire sa gym, cuire ses œufs et organiser une partie avec des tours limités dans le temps pour 3 joueurs ou plus. Les widgets incluent le temps de dépassement si on a besoin de mettre des pénalités aux escargots et aux stallers.</p>
<p>La partie &#8220;Chrono&#8221;, c&#8217;est gadget pour moi, mais ça pourra peut être servir à certains. J&#8217;y ai collé la possibilité de cumuler des temps de tours, pour les sportifs. Je ne sais pas si c&#8217;est utile, les coureurs me diront. A la limite pour les concours d&#8217;apnée&#8230;</p>
<p>L&#8217;onglet &#8220;Counter&#8221; c&#8217;est pour compter les points quand on a pas de papier ou de jeton, c&#8217;est du dépannage. Ça peut servir aussi pour les gens dont le métier implique de compter des têtes de pipe comme les videurs, les hôtesses de l&#8217;air, etc.</p>
<p>Ce qu&#8217;on utilise le plus est le mode &#8220;Versus&#8221;, qui sert aux duels. C&#8217;est une sorte de <a href="http://fr.wikipedia.org/wiki/Pendule_d%27%C3%A9checs">pendule d&#8217;échecs</a>, avec plusieurs comportements réglables. Par défaut, le passage d&#8217;un décompte à l&#8217;autre se fait automatiquement et manuellement, chaque changement de joueur impliquant une remise à zéro.</p>
<p><del datetime="2014-04-24T08:11:17+00:00">Comme il n&#8217;y a pas de backend, vous pouvez avoir le code source en faisant Ctrl + S, donc je vais pas vraiment me faire chier à le mettre sur github. Déjà, j&#8217;ai du codé en pur JS. Moi. Heureusement qu&#8217;il y a AngularJS, sinon je changeais de métier. Le déploiement, pareil, c&#8217;est Ctrl + C, Ctrl + V, donc je vais pas écrire de doc. L&#8217;utilisation, bon, c&#8217;est des clics sur des boutons labellisés&#8230;</del></p>
<p><a href="https://github.com/sametmax/allthatcounts">Le code source est dispo sur github</a>.</p>
<p>La seule astuce, c&#8217;est qu&#8217;en mode versus, CTRL permet de faire un switch, et SPACE permet de faire pause et resume. Je pense que vous vous en sortirez. C&#8217;est un compteur, pas une navette spatiale.</p>
<p>Si l&#8217;envie incroyable de rajouter des features vous prend, mettez un comment, et je me bougerais le cul pour githuber tout ça.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/not-invented-here/feed/</wfw:commentRss>
		<slash:comments>19</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">10065</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/04/Shut-Up-And-Take-My-Rupees.jpg" length="40075" type="image/jpg" />	</item>
		<item>
		<title>Le manifeste du cache du mode hors ligne pour HTML5</title>
		<link>http://sametmax.com/mode-le-manifeste-du-cache-du-mode-hors-ligne-pour-html5/</link>
		<comments>http://sametmax.com/mode-le-manifeste-du-cache-du-mode-hors-ligne-pour-html5/#comments</comments>
		<pubDate>Sun, 20 Apr 2014 12:17:08 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[cache]]></category>
		<category><![CDATA[html5]]></category>
		<category><![CDATA[manifest]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=10038</guid>
		<description><![CDATA[Le mode hors ligne consiste à déclarer quels fichiers (html, css, js, images, fonts, n'importe quoi...) garder en mémoire afin de les charger directement depuis le disque dur au lieu de le faire en ligne.]]></description>
				<content:encoded><![CDATA[<p>La bataille app native VS site responsive va faire rage pendant pas mal de temps, et pour le moment les apps gagnent : performances plus élevées, meilleures intégration visuelle dans l&#8217;OS, accès à une API plus riche&#8230; Les utilisateurs les préfèrent, et du coup les pros sont obligés de se les coltiner. C&#8217;est chiant, mais c&#8217;est la réalité du terrain pour les dev sur mobile.</p>
<p>Mais pour les sites Web ou les apps simples, il est super intéressant d&#8217;exploiter les capacités HTLM5 au max pour une obtenir une expérience plus &#8220;app&#8221; et moins &#8220;site web&#8221;.</p>
<p>Parmi ces possibilités : le mode hors ligne. D&#8217;un côté, il y a le stockage des données dans le navigateur, mais <a href="http://sametmax.com/stockez-vos-donnees-dans-le-navigateur-de-lutilisateur-avec-localstorage-html-5/">on vous en a déjà parlé</a>.</p>
<p>De l&#8217;autre, il y a le cache des ressources. Cela consiste à déclarer quels fichiers (html, css, js, images, fonts, n&#8217;importe quoi&#8230;) garder en mémoire afin de les charger directement depuis le disque dur au lieu de le faire en ligne.</p>
<p>Pour cela, il faut déclarer un manifeste dans son HTML :</p>
<pre lang="html"><html manifest="cache.manifest">
</pre>
<p>Ensuite, on créer le fichier <code>cache.manifest</code> dans son projet, qui est un fichier de texte simple.</p>
<p>Il faut le faire servir avec le mime-type </p>
<pre lang="python bash">text/cache-manifest</pre>
<p> sinon ça ne marche pas. Si vous le nommez </p>
<pre lang="python bash">*.manifest</pre>
<p> et que vous le servez avec un serveur de dev, ça marchera tout seul. Pour la prod, il faut le spécifier à votre serveur. Par exemple avec nginx, il faut éditer le fichier <code>/etc/nginx/mime.types</code> et y ajouter :</p>
<pre>text/cache-manifest                   manifest;</pre>
<p>Pour apache, c&#8217;est un truc du genre dans le <code>.htaccess</code>:</p>
<pre>AddType text/cache-manifest .manifest</pre>
<p>Ensuite, le manifeste ressemble à ça :</p>
<pre>CACHE MANIFEST
# 2014-04-20 13:25:00

# Toutes les ressources à sauvegarder en local. Le navigateur
# va toujours chercher ces ressources sur le disque.
# Si on est déconnecté, la page index.html, ses styles et javascript
# s'afficheront donc quand même.
CACHE:
index.html
/favicon.ico
stylesheet.css
images/logo.png
scripts/main.js
fonts/font.woff

# Ressources à toujours charger depuis le réseau. On met ici
# une étoile pour dire "tout le reste". Si on ne fait pas ça,
# on va se retrouver sans css et js :)
NETWORK:
*

# Ressources alternatives si les précédentes sont inacessibles.
# Par exemple, pour afficher un point rouge si on est hors ligne
# et un point vert si on est en ligne :
# images/offline.png sera servi si images/online.png est inaccessible
FALLBACK:
images/online.png images/offline.png</pre>
<p>Notez le commentaire <code># 2014-04-20 13:25:00</code> tout en haut. C&#8217;est<br />
une convention qu&#8217;on utilise pour donner la dernière date de modification des<br />
fichiers cachés. En effet, <strong>les fichiers de la section <code>CACHE</code> ne seront<br />
pas rechargés tant que le manifeste n&#8217;a pas été modifié. </strong></p>
<p>Cela veut dire que si vous modifiez <code>index.html</code>, l&#8217;utilisateur<br />
ne verra pas la modification. Mais si vous changez la date du fichier manifeste,<br />
le fichier est modifié, et le navigateur rechargera donc toutes les ressources<br />
qu&#8217;il a mis en cache. Ainsi, vous permettez aux utilisateurs de voir les<br />
ressources cachées qui ont été modifiées.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/mode-le-manifeste-du-cache-du-mode-hors-ligne-pour-html5/feed/</wfw:commentRss>
		<slash:comments>12</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">10038</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/04/iYfv0Wu.jpg" length="66714" type="image/jpg" />	</item>
		<item>
		<title>Évolution de la courbe d&#8217;apprentissage d&#8217;un dev front end</title>
		<link>http://sametmax.com/evolution-de-la-courbe-dapprentissage-dun-dev-front-end/</link>
		<comments>http://sametmax.com/evolution-de-la-courbe-dapprentissage-dun-dev-front-end/#comments</comments>
		<pubDate>Mon, 07 Jan 2013 16:42:50 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[bootstrap]]></category>
		<category><![CDATA[coffescript]]></category>
		<category><![CDATA[css]]></category>
		<category><![CDATA[css3]]></category>
		<category><![CDATA[html]]></category>
		<category><![CDATA[html5]]></category>
		<category><![CDATA[javascript]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=4029</guid>
		<description><![CDATA[On est pas dans la spatio-merde]]></description>
				<content:encoded><![CDATA[
<!-- iframe plugin v.4.3 wordpress.org/plugins/iframe/ -->
<iframe src="http://fr.slideshare.net/slideshow/embed_code/15885873" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" 0="allowfullscreen" 1="webkitallowfullscreen" 2="mozallowfullscreen" class="iframe-class"></iframe>

]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/evolution-de-la-courbe-dapprentissage-dun-dev-front-end/feed/</wfw:commentRss>
		<slash:comments>12</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">4029</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2013/01/blue-growth-chart.jpg" length="36625" type="image/jpg" />	</item>
		<item>
		<title>Mettez vos sites Web et apps en plein écran avec l&#8217;API HTML 5 fullscreen</title>
		<link>http://sametmax.com/utiliser-lapi-html5-fullscreen-pour-mettre-votre-site-app-en-plein-ecran/</link>
		<comments>http://sametmax.com/utiliser-lapi-html5-fullscreen-pour-mettre-votre-site-app-en-plein-ecran/#comments</comments>
		<pubDate>Sun, 30 Dec 2012 04:40:49 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[fullscreen]]></category>
		<category><![CDATA[html5]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[jquery]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=3916</guid>
		<description><![CDATA[Fini  le temps où votre site restait prisonnier de son canvas en 800x600, maintenant votre dernière application de calcul de budget de croquettes pour hérisson peut enfin s'exprimer dans toute la hauteur et la largeur d'un écran Retanal grâce à <code>requestFullscreen()</code>, qui va vous permettre ... d'appuyer sur F11 à la place de l'utilisateur.]]></description>
				<content:encoded><![CDATA[<p>Il est loin le temps où le JS était un sous langage utilisé uniquement par des deumeurés en mal de &lt;blink&gt;. Maintenant c&#8217;est un sous langage utilisé par des gens très sérieux. PHP l&#8217;a bien prouvé, on peut être parfaitement utile en ayant une syntaxe daubée, et Javascript se pare donc de tout un tas de trucs surpuissants en ces temps de HTML5, CSS3 et Rambo8.</p>
<p>Fini donc le temps où votre site restait prisonnier de son canvas en 800&#215;600, maintenant votre dernière application de calcul de budget de croquettes pour hérisson peut enfin s&#8217;exprimer dans toute la hauteur et la largeur d&#8217;un écran Retanal grâce à <code>requestFullscreen()</code>, qui va vous permettre &#8230; d&#8217;appuyer sur F11 à la place de l&#8217;utilisateur.</p>
<p>Mais il aura à faire un clic de confirmation quand même. Car il aura un gros prompt bien alarmant avant. Le progrès je vous dis !</p>
<h2>Le code, en 2 / 2</h2>
<p>Parce que bien entendu c&#8217;est incompatible avec les tondeuses à gazons et que selon les marques de votre pétrolettes, le prefix ne sera pas le même, on va commencer par vérifier le support du bouzin.</p>
<pre lang="javascript">function supportFullScreen(){
    var doc = document.documentElement;
    return ('requestFullscreen' in doc) || ('mozRequestFullScreen' in doc && document.mozFullScreenEnabled) || ('webkitRequestFullScreen' in doc);
}</pre>
<p>Puis on va demander à l&#8217;utilisateur si on a le droit, s&#8217;il-te-plait-pitié-déconne-pas-putain, de mettre votre site en plein écran. Car figurez vous qu&#8217;il y a un sérieux risque de phishing, comme en voici <a href="http://feross.org/html5-fullscreen-api-attack/">la démonstration rigolote</a>.</p>
<pre lang="javascript">function requestFullScreen(elem){
    if (elem.requestFullscreen) {
        elem.requestFullscreen();
    } else if (elem.mozRequestFullScreen) {
        elem.mozRequestFullScreen();
    } else if (elem.webkitRequestFullScreen) {
        elem.webkitRequestFullScreen();
    }
}</pre>
<p>Ca s&#8217;utilise ainsi:</p>
<pre lang="javascript">requestFullScreen(document.body)</pre>
<p>A ce moment là l&#8217;écran de le navigateur passe en plein écran avec un gros panel d&#8217;avertissement genre &#8220;le certificat du site est invalide&#8221;, mais en gris. Et si l&#8217;utilisateur lit le message avant de se ruer sur le bouton &#8220;annuler&#8221; par réflexe, il s’apercevra qu&#8217;on lui explique ce qui se passe pour pas qu&#8217;il finisse de mourir de sa crise cardiaque.</p>
<p>Vous pouvez utiliser n&#8217;importe quel autre élément que <code>body</code>, et donc mettre en plein écran de tout petit widgets. Attention cependant, il va prendre la taille de tout l&#8217;écran, déclenchant tout un tas d&#8217;events de changement de taille, de display, changeant les overflows et gagnant un style par défaut qui sera différent selon le navigateur. Le W3C a un deal avec les browser vendors pour s&#8217;assurer que les devs Web ne soient jamais prêt d&#8217;être au chômage.</p>
<p>Passons.</p>
<p>Le problème quand on demande, c&#8217;est qu&#8217;on peut se voir répondre &#8220;non&#8221;. Donc en prime, il vaut mieux se concocter un fallback si jamais mémé s&#8217;affole devant la menace de voir ses onglets avalés par le viewport. Ici, je vous pond ça en jQuery, parceque la gestion des events à la main, c&#8217;est juste relou.</p>
<pre lang="javascript">function onFullScreenEvent(callback){
    $(document).live("fullscreenchange mozfullscreenchange webkitfullscreenchange", function(){
        callback(document.fullscreen || document.mozFullScreen || document.webkitIsFullScreen);
    });
}
</pre>
<p>Bon, normalement on utilise &#8216;on()&#8217; maintenant chez les gens branchés, mais j&#8217;arrive à le faire marche une fois sur deux. Donc ça s&#8217;utilise comme ça:</p>
<pre lang="javascript">onFullScreenEvent(function(isFullscreen){
    faire un truc selon que l'on est en fullscreen ou pas, comme pousser mémé dans les orties
});</pre>
<h2>Clusions ensemble entre cons</h2>
<p>Et voilà, vous avez une application fullscreenable. Il ne vous reste plus rien à faire. A part rajouter un bouton pour le permettre à l&#8217;utilisateur de mettre en fullscreen. Puis un autre pour sortir du fullscreen. Puis de gérer la transition des états de votre app. Les différences de rendu selon la taille des éléments et du style par défaut appliqué par le navigateur. Et bien entendu le plus dur: faire comprendre tout ce bordel à votre utilisateur final.</p>
<p>Plus rien à faire je vous dis: on vous a mâché le travail.</p>
<p>Si vous avez pas le temps, vous pouvez aussi mettre <code>alert('appuyez sur F11 pour passer en plein écran')</code>. Mais bon, j&#8217;écrirais des articles sur quoi moi après ?</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/utiliser-lapi-html5-fullscreen-pour-mettre-votre-site-app-en-plein-ecran/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">3916</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2012/12/th1.jpeg" length="10491" type="image/jpg" />	</item>
	</channel>
</rss>
