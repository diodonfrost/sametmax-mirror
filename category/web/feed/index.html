<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" >

<channel>
	<title>Web &#8211; Sam &amp; Max</title>
	<atom:link href="http://sametmax.com/category/web/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Thu, 05 Sep 2019 08:22:03 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.9.7</generator>
<site xmlns="com-wordpress:feed-additions:1">32490438</site>	<item>
		<title>Sheepit &#8211; Le rendering pour tous, accessible sans trop de difficultés et gratos</title>
		<link>http://sametmax.com/sheepit-le-rendering-pour-tous-accessible-sans-trop-de-difficultes-et-gratos/</link>
		<comments>http://sametmax.com/sheepit-le-rendering-pour-tous-accessible-sans-trop-de-difficultes-et-gratos/#comments</comments>
		<pubDate>Tue, 18 Apr 2017 10:20:22 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Uncategorized]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[3D]]></category>
		<category><![CDATA[blender]]></category>
		<category><![CDATA[cgi]]></category>
		<category><![CDATA[farm]]></category>
		<category><![CDATA[gpu]]></category>
		<category><![CDATA[rendering]]></category>
		<category><![CDATA[sheepit]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=23149</guid>
		<description><![CDATA[Une ferme de rendu Blender à portée de tous et gratuite !]]></description>
				<content:encoded><![CDATA[<p>Entre deux bars à putes et les restaux faut bien prendre un peu de temps pour se relaxer, il y a les salons de massage branlette vous me direz, mais pas que.</p>
<p>Dans une galaxie lointaine il y a fort fort longtemps je m&#8217;amusais à faire de la 3D, je vous parle d&#8217;un temps que les jeunes ne peuvent pas connaître&#8230;<br />
A l&#8217;époque régnaient en maîtres absolus 3DS MAX, MAYA, CINEMA 4D, etc. et les outils maisons des studios Pixar. Pour les simples mortels comme moi on avait droit à Truespace, Vue D&#8217;esprit, Poser et sûrement d&#8217;autres dont j&#8217;ai oublié le nom. Truespace était mon favori, plutôt sympa, pas compliqué à prendre en main et pas cher (voir gratos quand on se démerdait).</p>
<p>Pour faire mumuse c&#8217;était super mais voilà, c&#8217;était long, long, longggggg&#8230;&#8230;&#8230;..</p>
<p>De nos jours on a droit à de supers cartes graphiques comme les <a href="https://www.nvidia.com/en-us/geforce/products/10series/titan-x-pascal/">Titans X</a>  et pas mal de logiciels de 3D gratuits aussi, certes on peut faire dans le warez et se procurer Maya, 3D Studio, Cinema4D et plein de nouveaux que je ne connais pas mais restons dans le légal pour une fois car ce qui se passe est intéressant.</p>
<p>Donc le monde du gratos a super bien évolué, il y a plein de tutos sur YouTube, des logiciels gratuits concurrencent les plus gros softs de 3D sur le marché et si ses derniers ont du succès c&#8217;est surtout parce que les studios en ont fait leur standard.</p>
<p>Je vais vous parler de <a href="https://www.blender.org/">Blender</a>, c&#8217;est un projet open source que je suis de très loin mais qui a attiré mon attention depuis peu avec quelques superbes vidéos sur YouTube sur lesquelles je suis tombé:<br />
&#8211; <a href="https://www.youtube.com/watch?v=-TksegJETqI">https://www.youtube.com/watch?v=-TksegJETqI</a><br />
&#8211; <a href="https://www.youtube.com/watch?v=kSp3pHA_tRM">https://www.youtube.com/watch?v=kSp3pHA_tRM</a><br />
&#8211; <a href="https://www.youtube.com/watch?v=7lY9SlQ8gjY">https://www.youtube.com/watch?v=7lY9SlQ8gjY</a><br />
&#8211; <a href="https://www.youtube.com/watch?v=Q1VCLFJY250">https://www.youtube.com/watch?v=Q1VCLFJY250</a><br />
&#8211; <a href="https://www.youtube.com/watch?v=143k1fqPukk">https://www.youtube.com/watch?v=143k1fqPukk</a><br />
&#8211; <a href="https://www.youtube.com/watch?v=LcCQKuWPhXk">https://www.youtube.com/watch?v=LcCQKuWPhXk</a></p>
<p>Il y a vraiment une bonne <a href="https://www.blender.org/support/user-community/">communauté</a>.</p>
<p>Des <a href="https://www.youtube.com/results?search_query=blender%20tutorials">milliers de tutos sur YouTube</a> pour s&#8217;en sortir avec les millions d&#8217;options que possède le logiciel.</p>
<p>Bref tout ça c&#8217;est merveilleux, pour perdre son temps y&#8217;a pas mieux. Mais il y a un hic, le temps de rendu justement. Je me souviens de cette époque où j&#8217;attendais 1 heure, voire 2 pour rendre une seule image et m&#8217;apercevoir que le résultat était moyen.<br />
Et de ce côté ça n&#8217;a pas changé ! C&#8217;est même plus long avec toutes les nouvelles options de raytracing possibles même avec des cartes graphiques surpuissantes comme cité plus haut. Alors une animation&#8230;.</p>
<p>Blender possède un <a href="https://wiki.blender.org/index.php/Doc%3A2.6/Manual/Render/Performance/Netrender">plugin de network rendering</a>, à savoir partager le temps de calcul sur plusieurs serveurs du réseau, c&#8217;est sympa mais c&#8217;est pas tout le monde qui a 10 ordis à la maison&#8230;</p>
<p>Une solution a vu le jour il y a quelques années et quelques milliers de membres font vivre une véritable ferme de rendu.</p>
<p><strong>Le principe de la ferme de rendu:</strong><br />
Via un réseau d&#8217;ordinateurs on partage le temps cpu entre plusieurs machines, accélérant ainsi le temps de rendu.</p>
<p>Cette solution c&#8217;est <a href="https://www.sheepit-renderfarm.com/index.php">Sheepit</a>.</p>
<p>Ok <a href="https://www.youtube.com/watch?v=NfDUkR3DOFw">on décolle</a> ! Vous installez leur app. java sur un serveur qui traîne au garage ou sur votre ordi et vous avez droit à des points en fonction du temps machine que vous consacrez à l&#8217;application. Ces points vont vous permettre &#8220;d&#8217;acheter&#8221; du temps de calcul parmi tous les participants.<br />
Ainsi un projet d&#8217;animation qui d&#8217;ordinaire me prend 5 jours est rendu en quelques heures, gratos en plus !</p>
<p>Je trouve le concept très sympa, tout est gratuit, il y a une admin avec le nombres de personnes qui partagent vos calculs, on peut former des équipes pour se tirer la bourre ou privilégier les cpu à ses coéquipiers, bref c&#8217;est bien pensé et je voulais en parler pour, qui sait, leur ramener un peu de monde.</p>
<p>Aux dernières nouvelles il y a environ 350 machines connectées en permanence, vous imaginez le temps de calcul offert !</p>
<p>Une petite ligne de code pour mettre un serveur dans la pool:</p>
<p>inscrivez-vous sur sheepit : <a href="https://www.sheepit-renderfarm.com/getstarted.php">https://www.sheepit-renderfarm.com/getstarted.php</a><br />
Il y a une version applet java pour le navigateur mais je n&#8217;ai pas testé, je préfère laisser tourner leur app. sur un serveur h24:<br />
téléchargez l&#8217;app. java: <a href="https://www.sheepit-renderfarm.com/media/applet/sheepit-client-5.366.2818.jar">https://www.sheepit-renderfarm.com/media/applet/sheepit-client-5.366.2818.jar</a></p>
<p>Sur CentOS j&#8217;ai créé un user &#8220;sheepit&#8221; pour pas lancer leur app. en &#8220;root&#8221;:</p>
<p><code>useradd sheepit</code></p>
<p>ensuite dans un screen je lance l&#8217;app. avec les paramètres suivants:</p>
<p><code>sudo -u sheepit java -jar /sheepit/sheepit-client-5.366.2818.jar -ui text -login mon_login_sheepit -password mon_pass_sheepit -cores 3 -compute-method CPU<br />
</code></p>
<p><strong>-ui text :</strong> Pour lancer l&#8217;app. java en headless (pour les serveur sans GUI)<br />
<strong>-login mon_login_sheepit :</strong> Le login que vous avez choisi lors de l&#8217;inscription à sheepit<br />
<strong>-password mon_pass_sheepit :</strong> Le mot de passe que vous avez choisi lors de l&#8217;inscription à sheepit<br />
<strong>-cores 3 :</strong> Le nombres de processeurs que vous voulez dédier à Sheepit, plus vous en dédiez plus vous gagnerez des points et plus vos projet passeront en priorité dans la pool de rendu.<br />
<strong>-compute-method CPU:</strong> N&#8217;utilise que le cpu de votre serveur, vous pouvez mettre GPU si vous en avez.</p>
<p>Ce système a beaucoup d&#8217;avantages, il vous permet enfin de faire de supers rendus en peu de temps, sans dépenser d&#8217;argent, c&#8217;est vraiment magique. (je ne vous partagerais pas les merdes que j&#8217;ai faites car je suis une quiche en 3D). L&#8217;inconvénient c&#8217;est qu&#8217;il faut ensuite télécharger toutes les frames du projet, là j&#8217;ai 24 Go de frames à télécharger, ça fait lourd si on n&#8217;a pas la fibre.</p>
<p>Ils ont un <a href="https://www.sheepit-renderfarm.com/forum/">forum qui ne demande qu&#8217;à grandir</a>.</p>
<p>Il y a des artistes en herbe qui n&#8217;ont pas les moyens de s&#8217;offrir des cartes graphiques à 2000€ et je trouve ce système juste fantastique pour eux et même pour les gros projets. J&#8217;espère que vous ferez passer le mot et si vous avez un serveur ou deux soyez cool, ça prend 5 minutes.</p>
<p>Allez le meilleur pour la fin:<br />
<iframe class='youtube-player' type='text/html' width='1170' height='689' src='http://www.youtube.com/embed/b6_wwKiyFvI?version=3&#038;rel=1&#038;fs=1&#038;autohide=2&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;wmode=transparent' allowfullscreen='true' style='border:0;'></iframe></p>
<p>A poil les putes!</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/sheepit-le-rendering-pour-tous-accessible-sans-trop-de-difficultes-et-gratos/feed/</wfw:commentRss>
		<slash:comments>9</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">23149</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2017/04/cgi_render_sheepit.jpg" length="56595" type="image/jpg" />	</item>
		<item>
		<title>Multiboards Customizable &#8211; Le retour de la mort de la peur de mourir</title>
		<link>http://sametmax.com/multiboards-customizable-le-retour-de-la-mort-de-la-peur-de-mourir/</link>
		<comments>http://sametmax.com/multiboards-customizable-le-retour-de-la-mort-de-la-peur-de-mourir/#comments</comments>
		<pubDate>Tue, 18 Aug 2015 11:46:48 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Gadgets]]></category>
		<category><![CDATA[Programmation]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[custom]]></category>
		<category><![CDATA[multiboards]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=16741</guid>
		<description><![CDATA[gna gna gna]]></description>
				<content:encoded><![CDATA[<p>Pour ceux qui ont suivi la lamentable mais néanmoins <a href="http://sametmax.com/multiboards-est-desormais-customisable/">poilante mise en prod de la nouvelle version buggée de MB </a> j&#8217;ai du reporter un rendez-vous avec mon escort pour réparer le bébé.</p>
<p>Normalement ça devrait marcher (ça valait pas un post mais c&#8217;est pour remplir un peu plus les BAL des abonnés&#8230;)</p>
<p>Rendez-vous <a href="http://www.multiboards.net/">ici</a> ou <a href="http://www.multiboards.net/">là</a> ou encore <a href="http://www.multiboards.net/">là</a> et donnez-moi vos impressions si comme moi vous n&#8217;avez pas d&#8217;ami et passez votre temps à la maison devant l&#8217;ordi au lieu de vous dorer la pilule entouré de femmes fontaines sur une île déserte.</p>
<p><a href="http://fluxrss.fr/">Une source de flux RSS pas mal ici.<br />
</a></p>
<p>PS: Normalement dans l&#8217;onglet en haut à droite il devrait y avoir la liste des boards populaires, on calcule ça en fonction du nombre de <a href="http://sametmax.com/utilisateurs-en-ligne-avec-le-sorted-set-de-redis/">visiteurs en ligne en temps réel</a>, Sam avait fait un article dessus.</p>
<p>Et une bonne fin qui pourrait faire brève de comptoir:<br />
&#8220;Tant que le board n&#8217;est pas populaire il reste anonyme&#8221; (et donc ne s&#8217;affiche pas dans l&#8217;onglet) ^^</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/multiboards-customizable-le-retour-de-la-mort-de-la-peur-de-mourir/feed/</wfw:commentRss>
		<slash:comments>18</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">16741</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2015/08/48ecd4820947.jpg" length="23363" type="image/jpg" />	</item>
		<item>
		<title>Traquez les erreurs de vos apps Django avec Sentry</title>
		<link>http://sametmax.com/traquez-les-erreurs-de-vos-apps-django-avec-sentry/</link>
		<comments>http://sametmax.com/traquez-les-erreurs-de-vos-apps-django-avec-sentry/#comments</comments>
		<pubDate>Wed, 26 Mar 2014 04:36:51 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[Programmation]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[django]]></category>
		<category><![CDATA[sentry]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=9944</guid>
		<description><![CDATA[Il est bon d'avoir en permanence un oeil sur les erreurs de vos sites (apps)  sans avoir à se farcir toutes les pages à la main. Sentry est un aggregateur d'evennements , il va traquer vos erreurs et vous sortir de jolis graphiques, traces etc.]]></description>
				<content:encoded><![CDATA[<p>Tout foire tout le temps. Le site (ou app) sans erreur n&#8217;existe pas. Après chaque mise à jour on croise les doigts et on espère que tout va bien se passer.<br />
Les plus courageux auront fait des <a href="http://sametmax.com/un-gros-guide-bien-gras-sur-les-tests-unitaires-en-python-partie-1/">tests unitaires</a> en amont qu&#8217;ils lanceront avant l&#8217;update, les autres comme moi vont commiter leurs changements et redémarrer le serveur prod. On est boucher de père en fils dans la famille&#8230;</p>
<p>Avant toute chose Sentry qui avant était un projet Django serveur/client a depuis évolué et est devenu un serveur uniquement, laissant le choix du client suivant votre framework/language de travail. Sentry est disponible sur à peu près toutes les plateformes (Python, PHP, Ruby, JavaScript, Java, Node.js, iOS) et les frameworks Rails et Django. La <a href="http://sentry.readthedocs.org/en/latest/">documentation</a> est très fournie et le projet <a href="https://github.com/getsentry/sentry">très actif</a>.</p>
<p>Dans le cas d&#8217;un site web en général on a tellement de pages qu&#8217;on ne peut pas prédire à l&#8217;avance ce qui va foirer ou pas (mais ça foire toujours, tout foire, etc&#8230;). Même si vous avez fait les tests unitaires vous aurez forcément oublié quelque chose.</p>
<p>Cette page spéciale sur les nains obèses unijambistes scatophiles pour lesquels vous avez créé un tag unique et qui ne supporte pas que vous ayez changé votre mode de cache va lamentablement planter et vous priver de la fidélité de DSK sur votre site pour longtemps.</p>
<p>Heureusement nous allons pouvoir logger toutes ces erreurs et avoir des jolis graphiques post-mortems. Bien évidement ça va vous faire du taf en plus bande de feignasses.</p>
<p>Sentry vient en <a href="http://sentry.readthedocs.org/en/latest/quickstart/index.html#install-sentry">standalone</a> ou en version <a href="https://www.getsentry.com/pricing/">gratuite limitée</a>, hebergée par les créateurs.<br />
J&#8217;ai voulu installer la standalone parceque je revenais de l&#8217;apéro et qu&#8217;au 8ème Ricard on veut tout faire soit-même mais la raison et 14heures de sommeil l&#8217;ont emporté, c&#8217;est à mon réveil que je me suis alors décidé à installer la version trial limitée à 7 jours de log et 2800 evenements loggés (qui au passage suffit sur un de nos plus gros sites).</p>
<p><strong>la mise en place est vraiment des plus simples:<br />
</strong></p>
<p><a href="https://www.getsentry.com/register/">Créez un compte</a> et ensuite récupérez la clef API dans les préférences sur votre compte en ligne Sentry.</p>
<p><strong>Du côté de votre projet Django:</strong></p>
<p>Installez <a href="http://raven.readthedocs.org/en/latest/index.html">Raven</a>, qui est un client Python pour Sentry. Il va se charger de collecter vos erreurs et les transmettre à Sentry.</p>
<p>Comme d&#8217;habitude une bonne PIP:</p>
<pre lang="bash">  pip install raven</pre>
<p>Dans le fichier <em>settings.py</em> de votre projet Django:</p>
<p>Utilisez la clef Api fournie par Sentry (voir plus haut)</p>
<pre lang="python">
# used for sentry login
RAVEN_CONFIG = {
    'dsn': 'https://aboudouboudousplish:aboudouboudousplash@app.getsentry.com/1984',
}
</pre>
<p>Vous pouvez faire un test pour voir si tout est bien configuré:</p>
<p>Dans votre projet Django tapez</p>
<pre lang="python">python manage.py raven test
</pre>
<p>Vous devriez recevoir un email de Sentry avec le récapitulatif du test raven.</p>
<p><strong><br />
L&#8217;interface Sentry:</strong></p>
<div id="attachment_9947" style="width: 610px" class="wp-caption aligncenter"><img src="http://sametmax.com/wp-content/uploads/2014/03/group_list.png" alt="" title="La liste des évènements avec possibilité de filtres." width="600" class="wp-image-9947" /><p class="wp-caption-text">La liste des évènements avec possibilité de filtres.</p></div>
<p>Sur le flux vous allez avoir la liste de tous les évènements loggés, vous pouvez les trier en choisissant parmi une pléthore d&#8217;options. Vous pouvez nettoyer ce flux en un seul clic (lors d&#8217;un redémarrage de serveur vous risquez d&#8217;avoir beaucoup d&#8217;erreurs qui n&#8217;en sont en fait pas, donc inutile de les traiter).</p>
<div id="attachment_9949" style="width: 610px" class="wp-caption aligncenter"><img src="http://sametmax.com/wp-content/uploads/2014/03/event.png" alt="" title="L&#039;évènement en détail, une clarté qui donne envie d&#039;avoir des bugs ^^" width="600"  class="wp-image-9949" /><p class="wp-caption-text">L&#039;évènement en détail, une clarté qui donne envie d&#039;avoir des bugs ^^</p></div>
<p>Chaque évènement du flux a une vue détail où vous allez pouvoir tracer le bug, c&#8217;est clair et plein d&#8217;informations (un peu comme les pages de debug Django). Il y a la possibilité d&#8217;ajouter des notes, de relancer la requête afin de vérifier la correction effectuée.</p>
<p><strong><br />
Le mode Team:</strong><br />
Sentry vous permet de bosser en équipe, vous créez un projet, des utilisateurs et chacun peut monitorer, corriger des bugs etc (pas dispo dans la version trial). Vous pouvez aussi créer des groupes d&#8217;utilisateurs qui n&#8217;auront accès qu&#8217;à certains projets. Le côté équipe a bien été intégré. Vous saurez sur qui gueuler lorsque le bug aura été mal corrigé.</p>
<p><strong>Conclusion:</strong><br />
Monitorer ses apps est un vrai calvaire quand on n&#8217;a pas les bons outils ou que ces derniers sont chiants à installer/maintenir.<br />
Sentry offre deux possibilités d&#8217;installation et leur mode trial vaut vraiment le coup (gratuit je le répète), les plus courageux se farciront l&#8217;install.<br />
Pour la version standalone j&#8217;ai lu un peu partout qu&#8217;il était préférable de l&#8217;installer sur un serveur à part, à méditer avant de se lancer. Les logs sont en temps réél, vous n&#8217;avez pas à attendre le lendemain pour savoir ce qui a planté la veille, vous pouvez donc corriger vos bugs rapidement.</p>
<p>Le plus gros problème de Sentry je pense c&#8217;est qu&#8217;on tombe accroc, je m&#8217;y rend désormais plusieurs fois par jour pour voir si il n&#8217;y a pas un petit bug à corriger :)</p>
<p>PS: je cherche l&#8217;équivalent pour monitorer les serveurs, Munin est trop vieux et tous les autres outils que j&#8217;ai pu tester demandent à installer (entendez passer des heures à compiler) toute une machinerie. L&#8217;idéal serait des paquets à installer sur les serveurs à monitorer + service en ligne à la Sentry.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/traquez-les-erreurs-de-vos-apps-django-avec-sentry/feed/</wfw:commentRss>
		<slash:comments>16</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">9944</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/03/qL1Bm.jpg" length="51868" type="image/jpg" />	</item>
		<item>
		<title>Sondage! Aimeriez-vous un espace petites-annonces chez S&#038;M ?</title>
		<link>http://sametmax.com/sondage-aimeriez-vous-un-espace-petites-annonces-chez-sm/</link>
		<comments>http://sametmax.com/sondage-aimeriez-vous-un-espace-petites-annonces-chez-sm/#comments</comments>
		<pubDate>Sat, 15 Feb 2014 16:53:54 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Web]]></category>
		<category><![CDATA[annuaire]]></category>
		<category><![CDATA[petites-annonces]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=9165</guid>
		<description><![CDATA[Suite à pas mal de demandes par e-mail sur un peu tout et n'importe quoi est-ce qu'un espaces petites annonces sur Sametmax vous semble nécessaire ?]]></description>
				<content:encoded><![CDATA[<p>Pendant que Sam vous mijotte des bons petits <a href="http://sametmax.com/grosse-mise-a-jour-de-la-partie-cours-et-tutos/">tutos</a> à se lécher les babines moi je vais vour divertir un peu l&#8217;oignon avec ce petit vote.</p>
<p>On a quelques e-mails par mois assez surprenants, certains nous demandent si on ne veut pas bosser pour eux, d&#8217;autres veulent faire la publicité de leur app/produit, d&#8217;autres encore aimeraient nous rencontrer, voire même certaines coucher avec moi (ah non&#8230; merde)</p>
<p>On ne peut pas répondre favorablement à ces requêtes et c&#8217;est peut-être l&#8217;occasion de permettre à certains d&#8217;entre-vous d&#8217;échanger, vendre, se rencontrer via une sorte de pages jaunes/craiglist/ads (appelez ça comme vous voulez).</p>
<p>En gros des petites-annonces dans lesquelles nous définirons des catégories précises (on ne veut pas d&#8217;annonce pour vendre la recette miracle pour la repousse de la moustache).</p>
<p>On préfère vous demander avant car on estime que c&#8217;est une bonne chose de proposer plutôt que d&#8217;imposer. Et puis pour tâter le potentiel.</p>
<p>Les annonces sont bien évidement gratoches, on mettra peut-être des quotas si il y a des abus.</p>
<p><strong>Quelques catégories pour donner une idée:</strong><br />
&#8211; Lans (parties)<br />
&#8211; hack parties<br />
&#8211; ventes de matos info<br />
&#8211; trucs geek (gadgets, etc)<br />
&#8211; demande de cours d&#8217;info<br />
&#8211; donne des cours d&#8217;info<br />
&#8211; donne des cours de math<br />
&#8211; sallons info<br />
&#8211; propositions de collaboration<br />
&#8211; projets de conquête du monde<br />
&#8211; demande d&#8217;aide sur des sujets particuliers<br />
etc.</p>
<p>On a pas encore de liste précise des catégories mais il y a de quoi faire dans notre domaine. Si vous avez des idées quand aux catégories n&#8217;hésitez pas, balancez !</p>
<p>Aller, détente&#8230;.</p>
Note: There is a poll embedded within this post, please visit the site to participate in this post's poll.
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/sondage-aimeriez-vous-un-espace-petites-annonces-chez-sm/feed/</wfw:commentRss>
		<slash:comments>14</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">9165</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/02/IT-Crowd-Set.jpg" length="696528" type="image/jpg" />	</item>
		<item>
		<title>Utilisez-vous l&#8217;anglais pour vos recherches d&#8217;informations ?</title>
		<link>http://sametmax.com/utlisez-vous-langlais-pour-vos-recherches-dinformations/</link>
		<comments>http://sametmax.com/utlisez-vous-langlais-pour-vos-recherches-dinformations/#comments</comments>
		<pubDate>Mon, 10 Feb 2014 07:22:14 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Philo et culture]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[anglophone]]></category>
		<category><![CDATA[information]]></category>
		<category><![CDATA[recherche]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=9106</guid>
		<description><![CDATA[Petit questionnaire pour savoir si vous êtes plutôt anglophone dans vos recherches de l'information.]]></description>
				<content:encoded><![CDATA[<p>A l&#8217;heure où internet est l&#8217;outil quasi-indispensable pour trouver une information (technique ou de tous les jours) et où une grande partie de cette dernière est rédigé en anglais la question est:</p>
Note: There is a poll embedded within this post, please visit the site to participate in this post's poll.
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/utlisez-vous-langlais-pour-vos-recherches-dinformations/feed/</wfw:commentRss>
		<slash:comments>37</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">9106</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/02/gendarmes.jpeg" length="9548" type="image/jpg" />	</item>
		<item>
		<title>Virtualenv EnvironmentError: mysql_config not found sous MAC OSX</title>
		<link>http://sametmax.com/virtualenv-environmenterror-mysql_config-not-found-sous-mac-osx/</link>
		<comments>http://sametmax.com/virtualenv-environmenterror-mysql_config-not-found-sous-mac-osx/#comments</comments>
		<pubDate>Tue, 04 Feb 2014 10:56:18 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[Programmation]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[config]]></category>
		<category><![CDATA[erreur]]></category>
		<category><![CDATA[mysql-python]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=8963</guid>
		<description><![CDATA[Des fois il y a des petites choses comme ça qui devraient s'installer comme un rien et passer innaperçues mais non, ça vous fait une belle erreur et vous passez des heures à vous demander pourquoi ça ne veut pas s'installer. Restons zen...]]></description>
				<content:encoded><![CDATA[<p>Comme le post précédent est inutile j&#8217;en fais un autre qui doit concerner au moins 0.00001% de la population.</p>
<p>A vous qui essayez depuis 2 heures de configurer MySQL-python sous votre virtualenv, cet article vous est dédié.</p>
<p>Cette erreur vicieuse m&#8217;arrive à chaque fois que j&#8217;installe MySQL-python dans un nouvel environnement virtuel. Ceci dit vous l&#8217;aurez peut-être sous un autre OS. Sur CentOS j&#8217;avais qu&#8217;à faire un <em>yum install mysql-devel</em> mais sous Mac c&#8217;est autre chose. Plus de puissance engendre plus de responsabilités&#8230;</p>
<pre lang="bash">

Max $  pip install MySQL-python
Downloading/unpacking MySQL-python
  Downloading MySQL-python-1.2.5.zip (108Kb): 108Kb downloaded
  Running setup.py egg_info for package MySQL-python
    sh: mysql_config: command not found
    Traceback (most recent call last):
      File "<string>", line 14, in <module>
      File "/Users/Max/.virtualenvs/zooscator/build/MySQL-python/setup.py", line 17, in <module>
        metadata, options = get_config()
      File "setup_posix.py", line 43, in get_config
        libs = mysql_config("libs_r")
      File "setup_posix.py", line 25, in mysql_config
        raise EnvironmentError("%s not found" % (mysql_config.path,))
    EnvironmentError: mysql_config not found
    Complete output from command python setup.py egg_info:
    sh: mysql_config: command not found

Traceback (most recent call last):

  File "<string>", line 14, in <module>

  File "/Users/Max/.virtualenvs/zooscator/build/MySQL-python/setup.py", line 17, in <module>

    metadata, options = get_config()

  File "setup_posix.py", line 43, in get_config

    libs = mysql_config("libs_r")

  File "setup_posix.py", line 25, in mysql_config

    raise EnvironmentError("%s not found" % (mysql_config.path,))

EnvironmentError: mysql_config not found

----------------------------------------
Command python setup.py egg_info failed with error code 1
Storing complete log in /Users/Max/.pip/pip.log

</pre>
<p>Il faut éditer votre fichier <strong>activate</strong> qui se trouve dans le répertoire bin de votre environnement virtuel: ex &#8220;/Users/Max/.virtualenvs/zooscator/bin/activate&#8221;</p>
<pre lang="bash">
vi /Users/Max/.virtualenvs/zooscator/bin
</pre>
<p><strong>Trouvez les lignes suivantes et ajoutez:</strong></p>
<blockquote><p>PATH=&#8221;$PATH:/opt/local/lib/mysql5/bin/&#8221;
</p></blockquote>
<pre lang="bash">
...
_OLD_VIRTUAL_PATH="$PATH"
PATH="$VIRTUAL_ENV/bin:$PATH"
PATH="$PATH:/opt/local/lib/mysql5/bin/"
export PATH
...
</pre>
<p>Chez moi le chemin vers mysql est /opt/local/lib/mysql5/bin/, si vous ne connaissez pas le vôtre utilisez la commande <em>locate</em>: ex <em>locate mysql</em></p>
<p><strong>Une fois le fichier <em>activate</em> édité il faut le resourcer:<br />
</strong></p>
<pre lang="bash">
source /Users/Max/.virtualenvs/zooscator/bin/activate
</pre>
<p><strong>Et vous pourrez alors installer MySQL-python tranquillou billou:<br />
</strong></p>
<pre lang="bash">
Max $  pip install MySQL-python

Downloading/unpacking MySQL-python
  Running setup.py egg_info for package MySQL-python

Installing collected packages: MySQL-python
  Running setup.py install for MySQL-python
[....................]
Successfully installed MySQL-python
Cleaning up...
</pre>
<p>Je vais nourrir mon cochon d&#8217;Inde.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/virtualenv-environmenterror-mysql_config-not-found-sous-mac-osx/feed/</wfw:commentRss>
		<slash:comments>16</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">8963</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2014/02/burn_out_1086894409_sato_kronik0405.jpg" length="49452" type="image/jpg" />	</item>
		<item>
		<title>Les stats Sam&#038;Max 2013</title>
		<link>http://sametmax.com/les-stats-sammax-2013/</link>
		<comments>http://sametmax.com/les-stats-sammax-2013/#comments</comments>
		<pubDate>Sat, 28 Dec 2013 13:02:23 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Web]]></category>
		<category><![CDATA[blog]]></category>
		<category><![CDATA[stats]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=8532</guid>
		<description><![CDATA[2 ans déjà que ce blog prêche la bonne parole aux brebis égarées ici bas. Comme tout webmaster qui se respecte on adore les stats alors on va se faire un petit résumé de l'année 2013 dans la joie et la bonne humeur.]]></description>
				<content:encoded><![CDATA[<p>Presque 2 ans déjà que ce blog prêche la bonne parole aux brebis égarées ici bas. Comme tout webmaster qui se respecte on adore les stats alors on va se faire un petit résumé de l&#8217;année 2013 dans la joie et la bonne humeur. On avait déjà publié <a href="http://sametmax.com/sam-et-max-en-quelques-chiffres/">quelques stats ici</a> d&#8217;ailleurs l&#8217;été dernier.</p>
<p>Pour info sur l&#8217;année 2012 le blog totalisait 244,183 visites.</p>
<p><strong>Petit récap année 2013:</strong></p>
<p><strong>Date de création</strong>: 4 février 2012<br />
<strong>Visites pour l&#8217;année 2013:</strong> 1,173,671<br />
<strong>Visites depuis la création du blog:</strong> 1,417,854<br />
<strong>Nombre de posts:</strong> 323<br />
<strong>Nombre de commentaires:</strong> 5967</p>
<p><strong>Qui nous envoi du monde ?</strong><br />
<code><br />
Search Engines                  <strong>481,053</strong><br />
Twitter                         <strong>20,139</strong><br />
news.humancoders.com			<strong>9,702</strong><br />
sebsauvage.net					<strong>8,837</strong><br />
Facebook						<strong>6,072</strong><br />
Netvibes						<strong>4,727</strong><br />
multiboards.net					<strong>4,465</strong><br />
google.fr						<strong>1,366</strong><br />
macg.co							<strong>1,257</strong><br />
search.free.fr					<strong>1,129</strong><br />
Google Reader					<strong>897</strong><br />
Google+							<strong>837</strong><br />
lehollandaisvolant.net			<strong>678</strong></code></p>
<p><strong>Par quels mots-clefs les gens sont arrivés ici ?</strong><br />
(Comme il y en a trop la liste est volontairement tronquée)<br />
<code><br />
masturbation feminine	<strong>19,981</strong><br />
masturbation féminine	<strong>8,896</strong><br />
fkk<strong>	6,504</strong><br />
masturbation	<strong>6,362</strong><br />
video masturbation	<strong>3,789</strong><br />
masturbation video	<strong>3,272</strong><br />
masturbation femme	<strong>2,403</strong><br />
maison close allemagne	<strong>2,105</strong><br />
freeplug	<strong>1,904</strong><br />
synchroniser freeplug	<strong>1,641</strong><br />
video masturbation feminine	<strong>1,427</strong><br />
masturbation feminine video	<strong>1,328</strong><br />
sam et max	<strong>1,197</strong><br />
fkk allemagne	<strong>1,118</strong><br />
synchronisation freeplug	<strong>965</strong><br />
sex japon	<strong>868</strong><br />
sexe japonais	<strong>813</strong></code></p>
<p><strong>Les posts les plus vus:</strong><br />
<code><br />
Home page / Archives	<strong>268,964</strong><br />
Masturbation féminine – Un peu de théorie en vidéo	<strong>160,715</strong><br />
Une journée dans un FKK (maison close Allemande)	<strong>65,974</strong><br />
Synchroniser les freeplugs (les adaptateurs réseaux CPL de free)	<strong>	43,321</strong><br />
Les abréviations de la prostitution et des Escorts, vous connaissez ?	<strong>33,502</strong><br />
Les Japonais et le sexe – des gros malades… Ou pas…	<strong>17,011</strong><br />
Les émoticones cachées de Skype	<strong>15,244</strong><br />
Il ne faut pas prendre les gens pour des cons mais ne jamais oublier qu’ils en sont	<strong>14,666</strong><br />
10 astuces pour Sublime Text 2	<strong>12,716</strong><br />
Ajouter un chemin à la variable d’environnement PATH sous Windows	<strong>9,309</strong><br />
Les articles pour apprendre Python, dans le bon ordre :-)	<strong>8,188</strong><br />
Liste des plugins sublime text que j’utilise	<strong>7,514</strong><br />
Cours et tutos	<strong>6,415</strong><br />
L’encoding en Python, une bonne fois pour toute	<strong>5,532</strong><br />
Les environnements virtuels Python : virtualenv et virtualenvwrapper	<strong>5,423</strong><br />
Entreprendre en France, Autopsie d’un échec.	<strong>5,204</strong><br />
Bitcoin: créer un portefeuille, obtenir des bitcoins et payer	<strong>5,138</strong><br />
La fonction anonyme appelée immédiatement en Javascript: (function())()	<strong>4,933</strong><br />
Mettre la capote sans casser l’ambiance	<strong>4,333</strong><br />
Nos tweets	<strong>4,137</strong><br />
Qu’est-ce que Javascript et à quoi ça sert ?	<strong>4,073</strong><br />
Soyez relax, faites vous un petit Git stash	<strong>3,976</strong><br />
Tiens, je suis toujours sur OSX	<strong>3,891</strong><br />
Comment tailler une pipe	<strong>3,786</strong><br />
Qu’est-ce qu’on peut faire avec Python ?	<strong>3,705</strong><br />
Votre Python aime les pip	<strong>3,688</strong><br />
Qu’est-ce que bitcoin ?	<strong>3,609</strong></code></p>
<p>Flattr nous rapporte un peu de pognon mais j&#8217;ai pas les stats actuellement (c&#8217;est sam qui tiens les bourses&#8230;). On s&#8217;en est toujours pas servi je crois d&#8217;ailleurs.</p>
<p>Cela nous fait quand même à peu près 1 200 000 visites dans l&#8217;année. Comprenez que des fois ce petit VPS avec 512MO de RAM que nous louons soit un peu essouflé.</p>
<p>Passez de bonnes fêtes ou ouvrez-vous bien les veines (toujours dans le sens des fibres)</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/les-stats-sammax-2013/feed/</wfw:commentRss>
		<slash:comments>10</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">8532</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2013/12/576x324.jpg" length="80654" type="image/jpg" />	</item>
		<item>
		<title>Afficher le queryset d&#8217;une requête dans les logs SQL sous Django</title>
		<link>http://sametmax.com/afficher-le-queryset-dune-requete-dans-les-logs-sql-sous-django/</link>
		<comments>http://sametmax.com/afficher-le-queryset-dune-requete-dans-les-logs-sql-sous-django/#comments</comments>
		<pubDate>Wed, 25 Dec 2013 11:38:12 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Programmation]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[django]]></category>
		<category><![CDATA[mysql]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[trace]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=8447</guid>
		<description><![CDATA[L'ORM de django pour les bases de données est chouette, agréable à utiliser mais construit des requêtes SQL qu'on ne peut reconnaître lors de l'analyse des logs MYSQL du premier coup d'oeil à moins d'avoir des années de pratique. J'ai une app django pour vous permettre de faire des débug sql éclairs !]]></description>
				<content:encoded><![CDATA[<p>C&#8217;est Noël, 2 articles rien que pour vous dont un <a href="http://sametmax.com/est-ce-que-framework-x-supporte-la-charge/" title="Est-ce que “framework x” supporte la charge ?">très interressant de Sam</a>.</p>
<p>L&#8217;ORM de django pour les bases de données est chouette, agréable à utiliser mais construit des requêtes SQL qu&#8217;on ne peut reconnaître lors de l&#8217;analyse des logs MYSQL du premier coup d&#8217;oeil. Et quand on a des centaines de requêtes par secondes c&#8217;est carrément impossible de s&#8217;y retrouver.</p>
<p>Ce que je vous propose ici c&#8217;est d&#8217;afficher le queryset (sa ligne et le fichier qui le contient) qui a permit d&#8217;exêcuter la requête SQL que vous voyez défiler dans les logs SQL sous forme de <a href="http://dev.mysql.com/doc/refman/5.0/en/comments.html">commentaires SQL</a>.</p>
<p>L&#8217;application se nomme <a href="https://pypi.python.org/pypi/django-sql-stacktrace/">Django Sql StackTrace</a>. C&#8217;est facile à installer et ça peut sauver des heures de debug.</p>
<p><strong>Installation Django Sql StackTrace:</strong></p>
<p><strong>Une bonne PIP comme toujours pour bien commencer.</strong></p>
<pre lang="bash">
pip install django-sql-stacktrace
</pre>
<p><strong>Dans votre fichier settings de django.</strong></p>
<pre lang="bash">
INSTALLED_APPS = (
    .........................
    'sqlstacktrace',
    .........................
)

SQL_STACKTRACE = True
</pre>
<p>La variable SQL_STACKTRACE sert à activer le debug.<br />
Pensez à le désactiver lorsque vous n&#8217;en avez pas besoin.</p>
<p><strong>Où se trouve mes super infos de debug ?</strong></p>
<p><a href="http://adw0rd.com/2012/8/23/django-sql-stacktrace/en/#.Urq_5mRdU98">D&#8217;après la doc</a> vous pouvez executer un <a href="http://pwet.fr/man/linux/commandes/watch">watch</a></p>
<pre lang="bash">
watch -n1 mysqladmin -u login -pmot_de_passe processlist --verbose
</pre>
<p>Chez moi ça n&#8217;a rien donné. Mais du côté des logs MySQL la magie a opérée.<br />
Vérifiez tout d&#8217;abord que vos logs sont activés dans mysql.</p>
<pre lang="bash">vi /etc/my.cnf</pre>
<pre lang="bash">
[mysqld]
......
log = /var/logs/mysql.log
......
</pre>
<p><strong>Comment on teste ça ?</strong></p>
<p>Redemarrez votre serveur web, surfez sur les pages de votre projet et observez les logs MySql. Vous deviez voir quelques chose de similaire:</p>
<pre lang="bash">
tail -F /var/logs/mysql.log
</pre>
<pre lang="bash">
		  644 Query	SELECT `auth_user`.`id`, `auth_user`.`password`, `auth_user`.`last_login`, `auth_user`.`is_superuser`, `auth_user`.`username`, `auth_user`.`first_name`, `auth_user`.`last_name`, `auth_user`.`email`, `auth_user`.`is_staff`, `auth_user`.`is_active`, `auth_user`.`date_joined` FROM `auth_user` WHERE `auth_user`.`id` = 65290
/* File "/Users/max/work/mon_projet/apps/mon_apps/views/others.py", line 146, in user_public_page
	user = User.objects.get(pk=user_id)
*/

</pre>
<p>Observez cette merveille !<br />
Entre <strong>/* */</strong> sont les infos générées par django-sql-stacktrace. J&#8217;ai nettoyé quelques fichiers pour plus de lisibilité.<br />
Vous avez droit au chemin du fichier de la requête, à la ligne de la requête et à la requête django elle-même.</p>
<p><strong>Une alternative ? J&#8217;ai pas envie d&#8217;installer d&#8217;app.</strong></p>
<p>Pour les grosses feignasses ou si vous voulez juste tester occasionnellement quelques queries vous pouvez utiliser la méthode extra pour ajouter vos propres commentaires.</p>
<pre lang="bash">
videos = Video.objects.filter(status='online').extra(where=['1=1 /* ceci apparaitra dans les logs mysql ! */'])
</pre>
<p>Cependant le WHERE 1=1 peut causer quelques baisses de performances, mais lorsqu&#8217;on est en debug en local ça peut servir !</p>
<p>PS: Je rappelle également le formidable outil <a href="https://github.com/django-debug-toolbar/django-debug-toolbar">django-debug-toolbar</a> qui devient vite indispensable.</p>
<p>Alors ? Elle est pas belle la vie ?</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/afficher-le-queryset-dune-requete-dans-les-logs-sql-sous-django/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">8447</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2013/12/fontaine_chocolat.jpg" length="26691" type="image/jpg" />	</item>
		<item>
		<title>Astuces de recherche</title>
		<link>http://sametmax.com/astuces-de-recherche/</link>
		<comments>http://sametmax.com/astuces-de-recherche/#comments</comments>
		<pubDate>Wed, 27 Nov 2013 08:46:13 +0000</pubDate>
		<dc:creator><![CDATA[Sam]]></dc:creator>
				<category><![CDATA[Web]]></category>
		<category><![CDATA[définition]]></category>
		<category><![CDATA[films]]></category>
		<category><![CDATA[recherche]]></category>
		<category><![CDATA[traduction]]></category>
		<category><![CDATA[web]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=8115</guid>
		<description><![CDATA[Vrac d'astuces de recherche]]></description>
				<content:encoded><![CDATA[<p>Quand vous voulez traduire un mot compliqué d&#8217;une langue à l&#8217;autre, les outils de traduction en ligne marchent pas super bien. Une bonne solution ? Chercher le terme sur wikipedia, puis demander l&#8217;article dans une autre langue. Non seulement on a la traduction voulue dans le titre de l&#8217;article, mais en plus tout le champ lexical lié dans le corps de l&#8217;article.</p>
<p>Tips : la commande bang pour ddg est <code>!wfr</code> pour la version française de wikipédia.</p>
<p>Quand vous cherchez un nouveau mot à la noix comme &#8220;lulz&#8221;, un truc cochon style &#8220;bukakke&#8221; ou une abréviation obscure du genre &#8220;GTFO&#8221;, vous n&#8217;allez pas la trouver dans le dico ou sur wikipedia. La meilleure source pour ce genre de terme : <a href="http://www.urbandictionary.com/">urbandictionry.com</a>. En plus, c&#8217;est drôle.</p>
<p>Tips : la commande bang pour ddg est <code>!ud</code></p>
<p>Vous voulez regarder un film ou une série en VO streaming mais elle n&#8217;est pas sortie en France ? Ou alors votre connexion bride ces fournisseurs ? Ou vous avez peur de vous faire choper ?</p>
<p>Allez sur les sites de streaming en espangol ! Ils listent les mêmes séries, le plus souvent en VO sous-titré ES, sur des hébergeurs différents complètement hors radar de nos tristes sires français. Et en plus, il n&#8217;y a pas de limite de temps ou de débit. Exemple : <a href="http://seriesyonkis.com/pe">seriesyonkis</a> et <a href="http://pelis24.com/">peli24</a>.</p>
<p>Tips : évitez les séries doublées en espagnol comme la peste. C&#8217;est HORRIBLE. Dans stargate O&#8217;Neil a la voix de Teal&#8217;c et inversement&#8230;</p>
<p>Vous allez sur des sites de rencontre et vous voulez évitez les faux profiles ? Clic-droit sur la photo et enregistrez l&#8217;image sur votre bureau. Allez sur <a href="http://www.google.com/imghp">Google Image</a>, et dans le champ, cliquez sur l&#8217;appareil photo pour uploader l&#8217;image.</p>
<p>Vous allez très vite voir si l&#8217;image a été réutilisée.</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/astuces-de-recherche/feed/</wfw:commentRss>
		<slash:comments>16</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">8115</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2013/11/cra8wl2.jpg" length="85140" type="image/jpg" />	</item>
		<item>
		<title>Afficher l&#8217;IP d&#8217;un visiteur &#8211; Django vs Nginx</title>
		<link>http://sametmax.com/afficher-la-vrai-ip-dun-visiteur-django-vs-nginx/</link>
		<comments>http://sametmax.com/afficher-la-vrai-ip-dun-visiteur-django-vs-nginx/#comments</comments>
		<pubDate>Fri, 25 Oct 2013 03:53:30 +0000</pubDate>
		<dc:creator><![CDATA[Max]]></dc:creator>
				<category><![CDATA[Administration System]]></category>
		<category><![CDATA[Programmation]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[django]]></category>
		<category><![CDATA[nginx]]></category>
		<category><![CDATA[real ip]]></category>

		<guid isPermaLink="false">http://sametmax.com/?p=7525</guid>
		<description><![CDATA[dis moi quelle est ton IP et je te dirais rien.]]></description>
				<content:encoded><![CDATA[<p>Lorsque l&#8217;on veut connaitre son ip on fait souvent appel à des sites du genre: <a href="http://www.whatismyip.com/">whatismyip.com</a>, <a href="http://www.mon-ip.com/">mon-ip.com</a> ou on utilise un ifconfig en ssh.<br />
Des fois on a aussi besoin de connaître l&#8217;ip d&#8217;un visiteur sur son site, 2 petites méthodes pour le faire sous Django et Nginx.</p>
<p><strong>Sous Django:</strong> </p>
<p>Dans l&#8217;<a href="https://docs.djangoproject.com/en/dev/topics/http/urls/">Urlconf</a></p>
<pre lang="python" >
urlpatterns = patterns('',
    # return client IP
    url(r'^my_ip$', get_ip),
)
</pre>
<p>Créez une <a href="https://docs.djangoproject.com/en/dev/topics/http/views/">vue</a> du nom de get_ip qui sera utilisée par l&#8217;urlconf</p>
<pre lang="python" >
from django import http
 
def get_ip(request):
    """
        Vue qui retourne l'IP du client
    """
    try:

    	# récupère l'ip du client
        return http.HttpResponse(request.META["REMOTE_ADDR"] )

    except Exception, e:
        return http.HttpResponse('error %s' % e)
</pre>
<p>Le code ci-dessus peut retourner l&#8217;adresse locale (127.0.0.1) dans ce cas il faut tester l&#8217;existence de la variable <strong>HTTP_X_REAL_IP</strong>, certains serveurs web ont besoin d&#8217;être <a href="http://rtcamp.com/tutorials/nginx/forwarding-visitors-real-ip/">configuré</a>. </p>
<p><strong>Sous Nginx:</strong></p>
<p>Dans le fichier de configuration de nginx on écrit une nouvelle <a href="http://wiki.nginx.org/HttpCoreModule#location">location</a></p>
<pre lang="python" >
# return client ip
location /my_ip {
    default_type 'text/plain';
    content_by_lua 'ngx.print(ngx.var.remote_addr)';
}
</pre>
<p>il suffit de se rendre à l&#8217;url http://monsite.com/my_ip pour voir s&#8217;afficher son ip. Cependant il faut avoir nginx compilé avec le module <a href="http://wiki.nginx.org/HttpLuaModule">Lua</a> ce qui peut être délicat si l&#8217;on a jamais compilé d&#8217;application.</p>
<p><strong><br />
Conclusion:</strong></p>
<p>Si l&#8217;on s&#8217;en réfère aux deux exemples ci dessus on serait tenté d&#8217;utiliser Nginx car en une seule ligne tout le bazar est réglé.<br />
Le hic c&#8217;est qu&#8217;il faut que Nginx soit compilé avec le module Lua pour afficher l&#8217;ip (sauf si quelqu&#8217;un connaît une autre façon d&#8217;afficher un message de sortie).<br />
La version Django n&#8217;est pas fiable à 100% car suivant comment est configuré votre serveur web il se peut que vous vous retrouviez avec une ip du genre 127.0.0.1.<br />
Il y a aussi la possibilité de parser le résultat des sites web cités en tout début d&#8217;article, certains proposent des Api je crois mais vous dépendez d&#8217;un autre service (on faisait ça au début) qui peuvent vous lâcher à tout moment (ce qui nous est arrivé).<br />
Personnellement je compile toujours nginx avec Lua et quelques autres modules, ça permet de s&#8217;affranchir de plus en plus du backend.</p>
<p>PS: j&#8217;ai mis à jour le titre car il laissait sous-entendre autre chose (merci à Sébastien)</p>
]]></content:encoded>
			<wfw:commentRss>http://sametmax.com/afficher-la-vrai-ip-dun-visiteur-django-vs-nginx/feed/</wfw:commentRss>
		<slash:comments>11</slash:comments>
	<post-id xmlns="com-wordpress:feed-additions:1">7525</post-id><enclosure url="http://sametmax.com/wp-content/uploads/2013/10/identity.jpg" length="31647" type="image/jpg" />	</item>
	</channel>
</rss>
